System.register([],(function(e,t){"use strict";return{execute:function(){var n=document.createElement("style");function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}n.textContent=".home-container{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;height:100vh;background-color:#fff;padding:20px;overflow:hidden;position:relative}.content-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-grow:1;width:100%}.title{font-size:36px;font-weight:700;margin-bottom:10px;font-family:Lato,sans-serif;margin-top:120px}.illustration{width:65%;max-width:320px;margin-bottom:60px}.wave-container{position:absolute;bottom:0;width:100%;height:auto;z-index:-1}.login-container{display:flex;justify-content:center;align-items:center;text-align:center;height:100vh;background-color:#282828;position:relative;overflow:hidden;scrollbar-width:none;-ms-overflow-style:none}.login-background{background-color:#fff;width:100%;height:100%;padding:50px 0;border-radius:100px 0 0;position:absolute;top:150px;left:50%;transform:translate(-50%);box-shadow:0 4px 10px rgba(0,0,0,.2)}.login-title{font-size:24px;font-weight:700;margin-bottom:60px;font-family:Lato,sans-serif;color:#000;margin-top:0}.input-group{width:100%;text-align:left;margin-bottom:60px;margin-left:30px}.input-field{width:80%;padding:12px;font-size:16px;border:none;border-bottom:2px solid #aaa;outline:none;background:transparent;text-align:left;color:#000}.login-button{width:70%;max-width:280px;background-color:#282828;color:#fff;border-radius:25px;font-size:14px;font-weight:600;padding:12px;text-transform:uppercase;margin-top:30px;display:block;border:none;box-shadow:none;font-family:Lato,sans-serif}.register-text{font-size:14px;color:#444;font-family:Lato,sans-serif;margin-top:40px}.password-container{position:relative;width:92%;display:flex;align-items:center}.password-input{width:90%;padding-right:0}.toggle-password{position:absolute;right:30px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;width:35px;height:35px}.register-container{display:flex;justify-content:center;align-items:center;text-align:center;height:100vh;background-color:#282828;position:relative;overflow:hidden;scrollbar-width:none;-ms-overflow-style:none}.register-background{background-color:#fff;width:100%;height:100%;padding:50px 0;border-radius:100px 0 0;position:absolute;top:90px;left:50%;transform:translate(-50%);box-shadow:0 4px 10px rgba(0,0,0,.2)}.register-title{font-size:24px;font-weight:700;margin-bottom:40px;margin-top:0;font-family:Lato,sans-serif;color:#000}.input-group-register{width:100%;text-align:left;margin-bottom:20px;margin-left:30px}.input-field-register{width:80%;padding:12px;font-size:16px;border:none;border-bottom:2px solid #aaa;outline:none;background:transparent;text-align:left;color:#000}.button-div{display:flex;justify-content:center}.login-button{width:70%;max-width:280px;background-color:#282828;color:#fff;border-radius:25px;font-size:14px;font-weight:600;padding:12px;text-transform:uppercase;margin-top:0;display:block;border:none;box-shadow:none;font-family:Lato,sans-serif}.login-button:active{background-color:#444;transform:scale(.95);transition:transform .15s cubic-bezier(.4,0,.2,1)}.register-text-register{font-size:14px;color:#444;font-family:Lato,sans-serif;margin-top:40px}.register-link{text-decoration:none;font-weight:700;color:#282828}.wave-container-register{position:absolute;bottom:0;width:100%;height:auto}.wave-svg{width:100%;display:block}.password-container-register{position:relative;width:92%;display:flex;align-items:center}.password-input-register{width:90%;padding-right:0}.toggle-password-register{position:absolute;right:30px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;width:35px;height:35px}.password-icon{width:24px;height:24px;transition:opacity .2s ease-in-out}.password-icon:hover{opacity:.7}.dashboard-container{display:flex;flex-direction:column;justify-content:space-between;align-items:center;text-align:center;height:100vh;background-color:#fff;padding:20px;overflow:hidden;position:relative}.navbar{position:absolute;top:40px;left:0;width:100%;display:flex;align-items:center;justify-content:space-between;padding:0 20px}.menu-button{background:none;border:none;padding:0}.menu-icon{width:40px;height:40px}.dragon-logo{width:40px;height:40px;position:absolute;left:45%;transform:translate(-50%)}.content-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-grow:1;width:100%;margin-top:80px}.welcome-text{font-size:24px;font-weight:700;margin-bottom:20px;font-family:Lato,sans-serif}.info-text{font-size:16px;color:#6b7280;text-align:center;max-width:300px;font-family:Lato,sans-serif}.progress-container{display:flex;justify-content:center;align-items:center;margin-top:10px}.progress-outer{fill:none;stroke:#282828;stroke-width:5}.progress-fill{fill:none;stroke:#c5c5c5;stroke-width:15;stroke-linecap:round;transition:stroke-dashoffset .5s ease}.progress-inner{fill:#fff;stroke:#282828;stroke-width:10}.progress-text{font-size:20px;font-weight:700;fill:#282828;font-family:Lato,sans-serif}.wave-container{position:absolute;bottom:0;width:100%;height:auto}.wave-main-svg{width:100%;display:block}.floating-button{position:absolute;right:50%;transform:translate(50%);width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#282828;color:#fff;font-size:44px;border:none;box-shadow:none;font-family:Lato,sans-serif}.floating-button:hover{background-color:#444;transform:scale(.95);transition:transform .15s cubic-bezier(.4,0,.2,1)}.habit-list-container-dashboard{width:80%;max-height:230px;overflow-y:auto;margin:20px auto;display:flex;flex-direction:column;align-items:center;padding:10px}.habit-item-dashboard{display:flex;width:80%;align-items:center;background-color:#282828;color:#fff;padding:10px;border-radius:8px;margin-bottom:10px;font-family:Lato,sans-serif;font-size:14px;border:none;box-shadow:none}.habit-item-dashboard:hover{background-color:#444;transform:scale(1.02);transition:transform .2s ease}.habit-icon-dashboard{width:30px;height:30px;margin-right:10px}.habit-title{font-size:18px;font-weight:700}.floating-button-dashboard{position:absolute;bottom:60px;right:50%;transform:translate(50%);width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#282828;color:#fff;font-size:44px;border:none;box-shadow:2px 2px 10px rgba(0,0,0,.2)}.floating-button-dashboard:hover{background-color:#444}.menu-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000}.menu-content{background:#fff;padding:20px;border-radius:8px;text-align:center;width:80%;max-width:300px;position:relative;font-family:Lato,sans-serif}.close-menu{background:none;border:none;font-size:24px;font-weight:700;position:absolute;top:10px;right:15px;cursor:pointer;color:#333}.close-menu:hover{color:red}.logout-button{background:#d9534f;color:#fff;padding:10px 15px;border:none;border-radius:5px;font-size:18px;cursor:pointer;margin-top:20px;font-family:Lato,sans-serif}.logout-button:hover{background:#c9302c}.menu-toggle{background:none;border:none;cursor:pointer;padding:10px}.menu-toggle img{width:30px}h3{color:#282828;font-family:Lato,sans-serif}.add-habit-container{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;height:100vh;background-color:#fff;padding:20px}.add-button{width:60%;background-color:#282828;color:#fff;border-radius:8px;font-size:16px;padding:12px;margin-top:20px;border:none;font-family:Lato,sans-serif;display:flex;justify-content:center;align-items:center;text-align:center;margin-left:auto;margin-right:auto}.add-button:hover{background-color:#444}.title-añadir{font-size:24px;font-weight:700;margin-top:120px;margin-bottom:10px;font-family:Lato,sans-serif}.subtitle{font-size:24px;font-weight:700;margin-bottom:30px;font-family:Lato,sans-serif}.modal-content{background-color:#fff;border:2px solid black;padding:20px;text-align:center;border-radius:10px;width:90%;max-width:400px}.icon-scroll-container{max-height:200px;overflow-y:auto;padding-right:10px}.habit-list-container{width:90%;max-height:280px;overflow-y:auto;margin-bottom:30px;border:none;padding:10px}.info-text-añadir{font-size:16px;color:#6b7280;margin-bottom:30px;text-align:center;max-width:300px;font-family:Lato,sans-serif}.habit-item{display:flex;width:80%;align-items:center;justify-content:space-between;background-color:#282828;color:#fff;padding:10px;border-radius:8px;margin-bottom:10px;font-family:Lato,sans-serif;font-size:16px}.habit-title{font-size:16px;font-family:Lato,sans-serif}.habit-item-icon{width:30px;height:30px;margin-right:10px}.habit-actions{display:flex;gap:10px}.action-icon{width:24px;height:24px;cursor:pointer}.apply-button{width:100%;background-color:#282828;color:#fff;border-radius:8px;font-size:16px;padding:12px;margin-top:20px;border:none;font-family:Lato,sans-serif;display:flex;justify-content:center}.apply-button:hover{background-color:#444;transform:scale(.95);transition:transform .15s cubic-bezier(.4,0,.2,1)}.icon-grid{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;padding:10px}.habit-icon{width:60px;height:60px;background-color:#282828;border-radius:8px;padding:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}.habit-icon img{width:30px;height:30px}.habit-icon.selected{border:2px solid rgb(139,139,139);transform:scale(1.1)}.habit-input{width:90%;padding:12px;border:2px solid #282828;border-radius:8px;font-size:18px;margin-bottom:20px;font-family:Lato,sans-serif;outline:none;background-color:#fff;color:#000}.habit-input::placeholder{color:#888}.finalize-button{width:60%;background-color:#282828;color:#fff;border-radius:8px;font-size:16px;padding:12px;border:none;font-family:Lato,sans-serif;position:fixed;bottom:180px;left:50%;transform:translate(-50%);display:flex;justify-content:center;align-items:center;text-align:center}.finalize-button:hover{background-color:#444;transform:scale(.95);transition:transform .15s cubic-bezier(.4,0,.2,1)}.modal-overlay-habit{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:flex-start;justify-content:center;padding-top:20%}.close-modal-habit{background:none;border:none;font-size:24px;cursor:pointer;position:absolute;top:10px;right:15px;color:#333}.modal-content-habit{background:#fff;padding:20px;border-radius:10px;text-align:center;width:80%;max-width:350px;position:relative}.egg-container{width:90%;max-width:350px;position:relative;text-align:center;margin-bottom:30px;margin-top:60px}.egg-container img{width:100%;max-width:200px;height:auto;display:block;margin:0 auto}.egg-text{font-size:16px;color:#6b7280;text-align:center;font-family:Lato,sans-serif}.egg-animo{font-size:16px;color:#6b7280;text-align:center;max-width:300px;font-family:Lato,sans-serif;font-weight:700}.start-button{width:70%;max-width:280px;background-color:#282828;color:#fff;border-radius:25px;font-size:14px;font-weight:600;padding:12px;text-transform:uppercase;margin-top:40px;display:block;border:none;box-shadow:none;font-family:Lato,sans-serif;margin-bottom:40px}.back-button{font-size:18px;color:#6b7280;margin-bottom:30px;text-align:center;max-width:300px;font-family:Lato,sans-serif;text-decoration:none;font-weight:700}.start-button:hover,.back-button:hover{background-color:#444;transform:scale(.95);transition:transform .15s cubic-bezier(.4,0,.2,1)}.modal-overlay-habitview{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:flex-start;justify-content:center;padding-top:20%}.close-modal-habitview{background:none;border:none;font-size:24px;cursor:pointer;position:absolute;top:10px;right:15px;color:#333}.modal-content-habitview{background:#fff;padding:20px;border-radius:10px;text-align:center;width:80%;max-width:350px;position:relative;margin-top:140px}.finish-button{width:100%;background-color:#282828;color:#fff;border-radius:8px;font-size:16px;padding:12px;margin-top:20px;border:none;font-family:Lato,sans-serif;display:flex;justify-content:center}.finish-button:hover{background-color:#444;transform:scale(.95);transition:transform .15s cubic-bezier(.4,0,.2,1)}.content-wrapper-timer{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-grow:1;width:100%;margin-top:80px}.egg-container-timer{width:90%;max-width:350px;position:relative;text-align:center;margin-bottom:0;margin-top:10px}.egg-container-timer img{width:100%;max-width:200px;height:auto;display:block;margin:0 auto}.timer-container{display:flex;flex-direction:column;justify-content:space-between;align-items:center;text-align:center;height:100vh;background-color:#fff;padding:20px;overflow:hidden;position:relative;font-family:Lato,sans-serif}.timer-content{text-align:center}.timer-display{font-size:3rem;font-weight:700;color:#282828}.timer-message{font-size:1.2rem;margin:10px 0;color:#555}.time-picker{display:flex;align-items:center;justify-content:center;margin-top:20px}.time-picker input{width:60px;height:40px;font-size:1.2rem;text-align:center;border:1px solid #ccc;border-radius:10px;margin:0 10px;background-color:#fff;color:#282828;cursor:pointer;outline:none}.time-picker input[type=number]::-webkit-inner-spin-button,.time-picker input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.time-picker input[type=number]{-moz-appearance:textfield;-webkit-appearance:textfield;appearance:textfield}.time-picker span{font-size:1.5rem;font-weight:700;margin:0 5px;color:#333}.timer-controls{display:flex;justify-content:center;gap:20px;position:absolute;bottom:100px;width:100%}.timer-button{width:80px;height:60px;border:2px solid white;background-color:#282828;color:#fff;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;cursor:pointer;transition:all .3s ease-in-out}.timer-button img{width:24px;height:24px}.timer-button:hover{background-color:#444}.timer-button:focus{outline:none}\n",document.head.appendChild(n);var i={exports:{}},o={},s={exports:{}},a={},l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator,w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function x(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||w}function S(){}function _(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||w}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=x.prototype;var C=_.prototype=new S;C.constructor=_,k(C,x.prototype),C.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,r)&&!R.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:l,type:e,key:o,ref:s,props:i,_owner:N.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var O=/\/+/g;function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case l:case c:s=!0}}if(s)return i=i(s=e),e=""===r?"."+L(s,0):r,T(i)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),D(i,t,n,"",(function(e){return e}))):null!=i&&(A(i)&&(i=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(O,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=""===r?".":r+":",T(e))for(var a=0;a<e.length;a++){var u=r+L(o=e[a],a);s+=D(o,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=b&&e[b]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),a=0;!(o=e.next()).done;)s+=D(o=o.value,t,n,u=r+L(o,a++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function M(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function $(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var V={current:null},j={transition:null},U={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:j,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}a.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},a.Component=x,a.Fragment=u,a.Profiler=d,a.PureComponent=_,a.StrictMode=h,a.Suspense=g,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,a.act=F,a.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=k({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)I.call(t,c)&&!R.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==a?a[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:l,type:e.type,key:i,ref:o,props:r,_owner:s}},a.createContext=function(e){return(e={$$typeof:p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},a.createElement=P,a.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},a.createRef=function(){return{current:null}},a.forwardRef=function(e){return{$$typeof:m,render:e}},a.isValidElement=A,a.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:$}},a.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},a.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},a.unstable_act=F,a.useCallback=function(e,t){return V.current.useCallback(e,t)},a.useContext=function(e){return V.current.useContext(e)},a.useDebugValue=function(){},a.useDeferredValue=function(e){return V.current.useDeferredValue(e)},a.useEffect=function(e,t){return V.current.useEffect(e,t)},a.useId=function(){return V.current.useId()},a.useImperativeHandle=function(e,t,n){return V.current.useImperativeHandle(e,t,n)},a.useInsertionEffect=function(e,t){return V.current.useInsertionEffect(e,t)},a.useLayoutEffect=function(e,t){return V.current.useLayoutEffect(e,t)},a.useMemo=function(e,t){return V.current.useMemo(e,t)},a.useReducer=function(e,t,n){return V.current.useReducer(e,t,n)},a.useRef=function(e){return V.current.useRef(e)},a.useState=function(e){return V.current.useState(e)},a.useSyncExternalStore=function(e,t,n){return V.current.useSyncExternalStore(e,t,n)},a.useTransition=function(){return V.current.useTransition()},a.version="18.3.1",s.exports=a;var z=s.exports;const B=r(z);
/**
             * @license React
             * react-jsx-runtime.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */var H=z,W=Symbol.for("react.element"),q=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,G=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};function X(e,t,n){var r,i={},o=null,s=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)K.call(t,r)&&!Q.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:W,type:e,key:o,ref:s,props:i,_owner:G.current}}o.Fragment=q,o.jsx=X,o.jsxs=X,i.exports=o;var Y=i.exports,J={exports:{}},Z={},ee={exports:{}},te={};
/**
             * @license React
             * scheduler.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,A(k);else{var t=n(c);null!==t&&O(w,t.startTime-e)}}function k(t,i){p=!1,m&&(m=!1,v(_),_=-1),f=!0;var o=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!I());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var a=s(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var g=n(c);null!==g&&O(w,g.startTime-i),u=!1}return u}finally{h=null,d=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,S=null,_=-1,C=5,T=-1;function I(){return!(e.unstable_now()-T<C)}function N(){if(null!==S){var t=e.unstable_now();T=t;var n=!0;try{n=S(!0,t)}finally{n?E():(x=!1,S=null)}}else x=!1}if("function"==typeof y)E=function(){y(N)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,E=function(){P.postMessage(null)}}else E=function(){g(N,0)};function A(e){S=e,x||(x=!0,E())}function O(t,n){_=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,A(k))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,o){var s=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(r.sortIndex=o,t(c,r),null===n(l)&&r===n(c)&&(m?(v(_),_=-1):m=!0,O(w,o-s))):(r.sortIndex=a,t(l,r),p||f||(p=!0,A(k))),r},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(te),ee.exports=te;var ne=ee.exports,re=z,ie=ne;
/**
             * @license React
             * react-dom.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=new Set,ae={};function le(e,t){ce(e,t),ce(e+"Capture",t)}function ce(e,t){for(ae[e]=t,e=0;e<t.length;e++)se.add(t[e])}var ue=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),he=Object.prototype.hasOwnProperty,de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe={},pe={};function me(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ge[e]=new me(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ge[t]=new me(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ge[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ge[e]=new me(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ge[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ge[e]=new me(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ge[e]=new me(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ge[e]=new me(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ge[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)}));var ve=/[\-:]([a-z])/g;function ye(e){return e[1].toUpperCase()}function be(e,t,n,r){var i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!he.call(pe,e)||!he.call(fe,e)&&(de.test(e)?pe[e]=!0:(fe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ve,ye);ge[t]=new me(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ve,ye);ge[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ve,ye);ge[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ge[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)})),ge.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ge[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)}));var we=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),Le=Symbol.iterator;function De(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Le&&e[Le]||e["@@iterator"])?e:null}var Me,$e=Object.assign;function Ve(e){if(void 0===Me)try{throw Error()}catch(Qg){var t=Qg.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||""}return"\n"+Me+e}var je=!1;function Ue(e,t){if(!e||je)return"";je=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(nv){var r=nv}Reflect.construct(e,[],t)}else{try{t.call()}catch(nv){r=nv}e.call(t.prototype)}else{try{throw Error()}catch(nv){r=nv}e()}}catch(nv){if(nv&&r&&"string"==typeof nv.stack){for(var i=nv.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{je=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ve(e):""}function Fe(e){switch(e.tag){case 5:return Ve(e.type);case 16:return Ve("Lazy");case 13:return Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 2:case 15:return e=Ue(e.type,!1);case 11:return e=Ue(e.type.render,!1);case 1:return e=Ue(e.type,!0);default:return""}}function ze(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case xe:return"Fragment";case Ee:return"Portal";case _e:return"Profiler";case Se:return"StrictMode";case Ne:return"Suspense";case Re:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Te:return(e.displayName||"Context")+".Consumer";case Ce:return(e._context.displayName||"Context")+".Provider";case Ie:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Pe:return null!==(t=e.displayName||null)?t:ze(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return ze(e(t))}catch(Qg){}}return null}function Be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function He(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ge(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(bx){return e.body}}function Qe(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=He(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ye(e,t){null!=(t=t.checked)&&be(e,"checked",t,!1)}function Je(e,t){Ye(e,t);var n=He(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?et(e,t.type,n):t.hasOwnProperty("defaultValue")&&et(e,t.type,He(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ze(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function et(e,t,n){"number"===t&&Ge(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tt=Array.isArray;function nt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function rt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(oe(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function it(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(oe(92));if(tt(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:He(n)}}function ot(e,t){var n=He(t.value),r=He(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function st(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?at(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ct,ut,ht=(ut=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ct.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(e,t)}))}:ut);function dt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ft.hasOwnProperty(e)&&ft[e]?(""+t).trim():t+"px"}function gt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ft).forEach((function(e){pt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ft[t]=ft[e]}))}));var vt=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(e,t){if(t){if(vt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(oe(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(oe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(oe(62))}}function bt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function kt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Et=null,xt=null,St=null;function _t(e){if(e=wo(e)){if("function"!=typeof Et)throw Error(oe(280));var t=e.stateNode;t&&(t=Eo(t),Et(e.stateNode,e.type,t))}}function Ct(e){xt?St?St.push(e):St=[e]:xt=e}function Tt(){if(xt){var e=xt,t=St;if(St=xt=null,_t(e),t)for(e=0;e<t.length;e++)_t(t[e])}}function It(e,t){return e(t)}function Nt(){}var Rt=!1;function Pt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return It(e,t,n)}finally{Rt=!1,(null!==xt||null!==St)&&(Nt(),Tt())}}function At(e,t){var n=e.stateNode;if(null===n)return null;var r=Eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(oe(231,t,typeof n));return n}var Ot=!1;if(ue)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(ut){Ot=!1}function Dt(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(rv){this.onError(rv)}}var Mt=!1,$t=null,Vt=!1,jt=null,Ut={onError:function(e){Mt=!0,$t=e}};function Ft(e,t,n,r,i,o,s,a,l){Mt=!1,$t=null,Dt.apply(Ut,arguments)}function zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Bt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ht(e){if(zt(e)!==e)throw Error(oe(188))}function Wt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=zt(e)))throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ht(i),e;if(o===r)return Ht(i),t;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(3!==n.tag)throw Error(oe(188));return n.stateNode.current===n?e:t}(e),null!==e?qt(e):null}function qt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=ie.unstable_scheduleCallback,Gt=ie.unstable_cancelCallback,Qt=ie.unstable_shouldYield,Xt=ie.unstable_requestPaint,Yt=ie.unstable_now,Jt=ie.unstable_getCurrentPriorityLevel,Zt=ie.unstable_ImmediatePriority,en=ie.unstable_UserBlockingPriority,tn=ie.unstable_NormalPriority,nn=ie.unstable_LowPriority,rn=ie.unstable_IdlePriority,on=null,sn=null,an=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2,un=64,hn=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dn(a):0!=(o&=s)&&(r=dn(o))}else 0!=(s=n&~i)?r=dn(s):0!==o&&(r=dn(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-an(t)),r|=e[n],t&=~i;return r}function pn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=un;return!(4194240&(un<<=1))&&(un=64),e}function vn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-an(t)]=n}function bn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-an(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wn=0;function kn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var En,xn,Sn,_n,Cn,Tn=!1,In=[],Nn=null,Rn=null,Pn=null,An=new Map,On=new Map,Ln=[],Dn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mn(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":An.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function $n(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=wo(t))&&xn(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vn(e){var t=bo(e.target);if(null!==t){var n=zt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Bt(n)))return e.blockedOn=t,void Cn(e.priority,(function(){Sn(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&xn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,t.shift()}return!0}function Un(e,t,n){jn(e)&&n.delete(t)}function Fn(){Tn=!1,null!==Nn&&jn(Nn)&&(Nn=null),null!==Rn&&jn(Rn)&&(Rn=null),null!==Pn&&jn(Pn)&&(Pn=null),An.forEach(Un),On.forEach(Un)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,Tn||(Tn=!0,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,Fn)))}function Bn(e){function t(t){return zn(t,e)}if(0<In.length){zn(In[0],e);for(var n=1;n<In.length;n++){var r=In[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nn&&zn(Nn,e),null!==Rn&&zn(Rn,e),null!==Pn&&zn(Pn,e),An.forEach(t),On.forEach(t),n=0;n<Ln.length;n++)(r=Ln[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&null===(n=Ln[0]).blockedOn;)Vn(n),null===n.blockedOn&&Ln.shift()}var Hn=we.ReactCurrentBatchConfig,Wn=!0;function qn(e,t,n,r){var i=wn,o=Hn.transition;Hn.transition=null;try{wn=1,Gn(e,t,n,r)}finally{wn=i,Hn.transition=o}}function Kn(e,t,n,r){var i=wn,o=Hn.transition;Hn.transition=null;try{wn=4,Gn(e,t,n,r)}finally{wn=i,Hn.transition=o}}function Gn(e,t,n,r){if(Wn){var i=Xn(e,t,n,r);if(null===i)Hi(e,t,r,Qn,n),Mn(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nn=$n(Nn,e,t,n,r,i),!0;case"dragenter":return Rn=$n(Rn,e,t,n,r,i),!0;case"mouseover":return Pn=$n(Pn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return An.set(o,$n(An.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,On.set(o,$n(On.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mn(e,r),4&t&&-1<Dn.indexOf(e)){for(;null!==i;){var o=wo(i);if(null!==o&&En(o),null===(o=Xn(e,t,n,r))&&Hi(e,t,r,Qn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hi(e,t,r,null,n)}}var Qn=null;function Xn(e,t,n,r){if(Qn=null,null!==(e=bo(e=kt(r))))if(null===(t=zt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Bt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qn=e,null}function Yn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case en:return 4;case tn:case nn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,er=null;function tr(){if(er)return er;var e,t,n=Zn,r=n.length,i="value"in Jn?Jn.value:Jn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return er=i.slice(e,1<t?1-t:void 0)}function nr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ir(){return!1}function or(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:ir,this.isPropagationStopped=ir,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ar,lr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=or(cr),hr=$e({},cr,{view:0,detail:0}),dr=or(hr),fr=$e({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(sr=e.screenX-lr.screenX,ar=e.screenY-lr.screenY):ar=sr=0,lr=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),pr=or(fr),mr=or($e({},fr,{dataTransfer:0})),gr=or($e({},hr,{relatedTarget:0})),vr=or($e({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=$e({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=or(yr),wr=or($e({},cr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function _r(){return Sr}var Cr=$e({},hr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Er[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return"keypress"===e.type?nr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tr=or(Cr),Ir=or($e({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=or($e({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r})),Rr=or($e({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=$e({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=or(Pr),Or=[9,13,27,32],Lr=ue&&"CompositionEvent"in window,Dr=null;ue&&"documentMode"in document&&(Dr=document.documentMode);var Mr=ue&&"TextEvent"in window&&!Dr,$r=ue&&(!Lr||Dr&&8<Dr&&11>=Dr),Vr=String.fromCharCode(32),jr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Or.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1,Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Wr(e,t,n,r){Ct(r),0<(t=qi(t,"onChange")).length&&(n=new ur("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,Kr=null;function Gr(e){Vi(e,0)}function Qr(e){if(Ke(ko(e)))return e}function Xr(e,t){if("change"===e)return t}var Yr=!1;if(ue){var Jr;if(ue){var Zr="oninput"in document;if(!Zr){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zr="function"==typeof ei.oninput}Jr=Zr}else Jr=!1;Yr=Jr&&(!document.documentMode||9<document.documentMode)}function ti(){qr&&(qr.detachEvent("onpropertychange",ni),Kr=qr=null)}function ni(e){if("value"===e.propertyName&&Qr(Kr)){var t=[];Wr(t,Kr,e,kt(e)),Pt(Gr,t)}}function ri(e,t,n){"focusin"===e?(ti(),Kr=n,(qr=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ii(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Kr)}function oi(e,t){if("click"===e)return Qr(t)}function si(e,t){if("input"===e||"change"===e)return Qr(t)}var ai="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function li(e,t){if(ai(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!he.call(t,i)||!ai(e[i],t[i]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,r=ci(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ci(r)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Ge();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(Xg){n=!1}if(!n)break;t=Ge((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==r&&fi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ui(n,o);var s=ui(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=ue&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,bi=!1;function wi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==Ge(r)||(r="selectionStart"in(r=gi)&&fi(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yi&&li(yi,r)||(yi=r,0<(r=qi(vi,"onSelect")).length&&(t=new ur("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gi)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},xi={},Si={};function _i(e){if(xi[e])return xi[e];if(!Ei[e])return e;var t,n=Ei[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return xi[e]=n[t];return e}ue&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);var Ci=_i("animationend"),Ti=_i("animationiteration"),Ii=_i("animationstart"),Ni=_i("transitionend"),Ri=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(e,t){Ri.set(e,t),le(t,[e])}for(var Oi=0;Oi<Pi.length;Oi++){var Li=Pi[Oi];Ai(Li.toLowerCase(),"on"+(Li[0].toUpperCase()+Li.slice(1)))}Ai(Ci,"onAnimationEnd"),Ai(Ti,"onAnimationIteration"),Ai(Ii,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Ni,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function $i(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,a,l){if(Ft.apply(this,arguments),Mt){if(!Mt)throw Error(oe(198));var c=$t;Mt=!1,$t=null,Vt||(Vt=!0,jt=c)}}(r,t,void 0,e),e.currentTarget=null}function Vi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;$i(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;$i(i,a,c),o=l}}}if(Vt)throw e=jt,Vt=!1,jt=null,e}function ji(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Bi(t,e,2,!1),n.add(r))}function Ui(e,t,n){var r=0;t&&(r|=4),Bi(n,e,r,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Fi]){e[Fi]=!0,se.forEach((function(t){"selectionchange"!==t&&(Mi.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fi]||(t[Fi]=!0,Ui("selectionchange",!1,t))}}function Bi(e,t,n,r){switch(Yn(t)){case 1:var i=qn;break;case 4:i=Kn;break;default:i=Gn}n=i.bind(null,t,n,e),i=void 0,!Ot||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hi(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pt((function(){var r=o,i=kt(n),s=[];e:{var a=Ri.get(e);if(void 0!==a){var l=ur,c=e;switch(e){case"keypress":if(0===nr(n))break e;case"keydown":case"keyup":l=Tr;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nr;break;case Ci:case Ti:case Ii:l=vr;break;case Ni:l=Rr;break;case"scroll":l=dr;break;case"wheel":l=Ar;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ir}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=At(p,d))&&u.push(Wi(p,m,f))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===wt||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(h=zt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ir,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ko(l),f=null==c?a:ko(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,bo(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,m=d;m;m=Ki(m))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Gi(s,a,l,u,!1),null!==c&&null!==h&&Gi(s,h,c,u,!0)}if("select"===(l=(a=r?ko(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xr;else if(Hr(a))if(Yr)g=si;else{g=ii;var v=ri}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=oi);switch(g&&(g=g(e,r))?Wr(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&et(a,"number",a.value)),v=r?ko(r):window,e){case"focusin":(Hr(v)||"true"===v.contentEditable)&&(gi=v,vi=r,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(s,n,i);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":wi(s,n,i)}var y;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zr?Ur(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($r&&"ko"!==n.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(y=tr()):(Zn="value"in(Jn=i)?Jn.value:Jn.textContent,zr=!0)),0<(v=qi(r,b)).length&&(b=new wr(b,e,null,n,i),s.push({event:b,listeners:v}),(y||null!==(y=Fr(n)))&&(b.data=y))),(y=Mr?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(jr=!0,Vr);case"textInput":return(e=t.data)===Vr&&jr?null:e;default:return null}}(e,n):function(e,t){if(zr)return"compositionend"===e||!Lr&&Ur(e,t)?(e=tr(),er=Zn=Jn=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=qi(r,"onBeforeInput")).length&&(i=new wr("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Vi(s,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=At(e,n))&&r.unshift(Wi(e,o,i)),null!=(o=At(e,t))&&r.push(Wi(e,o,i))),e=e.return}return r}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=At(n,o))&&s.unshift(Wi(n,l,a)):i||null!=(l=At(n,o))&&s.push(Wi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Yi(e){return("string"==typeof e?e:""+e).replace(Qi,"\n").replace(Xi,"")}function Ji(e,t,n){if(t=Yi(t),Yi(e)!==t&&n)throw Error(oe(425))}function Zi(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,io="function"==typeof clearTimeout?clearTimeout:void 0,oo="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==oo?function(e){return oo.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bn(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(oe(33))}function Eo(e){return e[po]||null}var xo=[],So=-1;function _o(e){return{current:e}}function Co(e){0>So||(e.current=xo[So],xo[So]=null,So--)}function To(e,t){So++,xo[So]=e.current,e.current=t}var Io={},No=_o(Io),Ro=_o(!1),Po=Io;function Ao(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oo(e){return null!=(e=e.childContextTypes)}function Lo(){Co(Ro),Co(No)}function Do(e,t,n){if(No.current!==Io)throw Error(oe(168));To(No,t),To(Ro,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(oe(108,Be(e)||"Unknown",i));return $e({},n,r)}function $o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Po=No.current,To(No,e),To(Ro,Ro.current),!0}function Vo(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=Mo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Co(Ro),Co(No),To(No,e)):Co(Ro),To(Ro,n)}var jo=null,Uo=!1,Fo=!1;function zo(e){null===jo?jo=[e]:jo.push(e)}function Bo(){if(!Fo&&null!==jo){Fo=!0;var e=0,t=wn;try{var n=jo;for(wn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}jo=null,Uo=!1}catch(Yg){throw null!==jo&&(jo=jo.slice(e+1)),Kt(Zt,Bo),Yg}finally{wn=t,Fo=!1}}return null}var Ho=[],Wo=0,qo=null,Ko=0,Go=[],Qo=0,Xo=null,Yo=1,Jo="";function Zo(e,t){Ho[Wo++]=Ko,Ho[Wo++]=qo,qo=e,Ko=t}function es(e,t,n){Go[Qo++]=Yo,Go[Qo++]=Jo,Go[Qo++]=Xo,Xo=e;var r=Yo;e=Jo;var i=32-an(r)-1;r&=~(1<<i),n+=1;var o=32-an(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yo=1<<32-an(t)+i|n<<i|r,Jo=o+e}else Yo=1<<o|n<<i|r,Jo=e}function ts(e){null!==e.return&&(Zo(e,1),es(e,1,0))}function ns(e){for(;e===qo;)qo=Ho[--Wo],Ho[Wo]=null,Ko=Ho[--Wo],Ho[Wo]=null;for(;e===Xo;)Xo=Go[--Qo],Go[Qo]=null,Jo=Go[--Qo],Go[Qo]=null,Yo=Go[--Qo],Go[Qo]=null}var rs=null,is=null,os=!1,ss=null;function as(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xo?{id:Yo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return!(!(1&e.mode)||128&e.flags)}function us(e){if(os){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(oe(418));t=co(n.nextSibling);var r=rs;t&&ls(e,t)?as(r,n):(e.flags=-4097&e.flags|2,os=!1,rs=e)}}else{if(cs(e))throw Error(oe(418));e.flags=-4097&e.flags|2,os=!1,rs=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function ds(e){if(e!==rs)return!1;if(!os)return hs(e),os=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(oe(418));for(;t;)as(e,t),t=co(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?co(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=co(e.nextSibling)}function ps(){is=rs=null,os=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var gs=we.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===xe?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Ae&&bs(o)===t.type)?((r=i(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Du(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ke:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case Ee:return(t=Vu(t,e.mode,n)).return=e,t;case Ae:return h(e,(0,t._init)(t._payload),n)}if(tt(t)||De(t))return(t=Du(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ke:return n.key===i?l(e,t,n,r):null;case Ee:return n.key===i?c(e,t,n,r):null;case Ae:return d(e,t,(i=n._init)(n._payload),r)}if(tt(n)||De(n))return null!==i?null:u(e,t,n,r,null);ys(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ke:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Ee:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Ae:return f(e,t,n,(0,r._init)(r._payload),i)}if(tt(r)||De(r))return u(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function p(i,s,a,l){for(var c=null,u=null,p=s,m=s=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=d(i,p,a[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,p=g}if(m===a.length)return n(i,p),os&&Zo(i,m),c;if(null===p){for(;m<a.length;m++)null!==(p=h(i,a[m],l))&&(s=o(p,s,m),null===u?c=p:u.sibling=p,u=p);return os&&Zo(i,m),c}for(p=r(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach((function(e){return t(i,e)})),os&&Zo(i,m),c}function m(i,s,a,l){var c=De(a);if("function"!=typeof c)throw Error(oe(150));if(null==(a=c.call(a)))throw Error(oe(151));for(var u=c=null,p=s,m=s=0,g=null,v=a.next();null!==p&&!v.done;m++,v=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=d(i,p,v.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,p=g}if(v.done)return n(i,p),os&&Zo(i,m),c;if(null===p){for(;!v.done;m++,v=a.next())null!==(v=h(i,v.value,l))&&(s=o(v,s,m),null===u?c=v:u.sibling=v,u=v);return os&&Zo(i,m),c}for(p=r(i,p);!v.done;m++,v=a.next())null!==(v=f(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v);return e&&p.forEach((function(e){return t(i,e)})),os&&Zo(i,m),c}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===xe&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case ke:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===xe){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===Ae&&bs(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vs(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===xe?((o=Du(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lu(a.type,a.key,a.props,null,r.mode,l)).ref=vs(r,o,a),l.return=r,r=l)}return s(r);case Ee:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vu(a,r.mode,l)).return=r,r=o}return s(r);case Ae:return e(r,o,(u=a._init)(a._payload),l)}if(tt(a))return p(r,o,a,l);if(De(a))return m(r,o,a,l);ys(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=$u(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var ks=ws(!0),Es=ws(!1),xs=_o(null),Ss=null,_s=null,Cs=null;function Ts(){Cs=_s=Ss=null}function Is(e){var t=xs.current;Co(xs),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rs(e,t){Ss=e,Cs=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===Ss)throw Error(oe(308));_s=e,Ss.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var As=null;function Os(e){null===As?As=[e]:As.push(e)}function Ls(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bn(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ms=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=$e({},h,d);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mc|=s,e.lanes=s,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(oe(191,i));i.call(r)}}}var Ws={},qs=_o(Ws),Ks=_o(Ws),Gs=_o(Ws);function Qs(e){if(e===Ws)throw Error(oe(174));return e}function Xs(e,t){switch(To(Gs,t),To(Ks,e),To(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lt(null,"");break;default:t=lt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(qs),To(qs,t)}function Ys(){Co(qs),Co(Ks),Co(Gs)}function Js(e){Qs(Gs.current);var t=Qs(qs.current),n=lt(t,e.type);t!==n&&(To(Ks,e),To(qs,n))}function Zs(e){Ks.current===e&&(Co(qs),Co(Ks))}var ea=_o(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=we.ReactCurrentDispatcher,oa=we.ReactCurrentBatchConfig,sa=0,aa=null,la=null,ca=null,ua=!1,ha=!1,da=0,fa=0;function pa(){throw Error(oe(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,o){if(sa=o,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:el,e=n(r,i),ha){o=0;do{if(ha=!1,da=0,25<=o)throw Error(oe(301));o+=1,ca=la=null,t.updateQueue=null,ia.current=tl,e=n(r,i)}while(ha)}if(ia.current=Ja,t=null!==la&&null!==la.next,sa=0,ca=la=aa=null,ua=!1,t)throw Error(oe(300));return e}function va(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?aa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?aa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(oe(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?aa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function ka(e){var t=ba(),n=t.queue;if(null===n)throw Error(oe(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((sa&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,aa.lanes|=u,Mc|=u}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=a,ai(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,aa.lanes|=o,Mc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ai(o,t.memoizedState)||(bl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xa(){}function Sa(e,t){var n=aa,r=ba(),i=t(),o=!ai(r.memoizedState,i);if(o&&(r.memoizedState=i,bl=!0),r=r.queue,Ma(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Pa(9,Ca.bind(null,n,r,i,t),void 0,null),null===Nc)throw Error(oe(349));30&sa||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Na(e)}function Ta(e,t,n){return n((function(){Ia(t)&&Na(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(Xg){return!0}}function Na(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function Ra(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ba().memoizedState}function Oa(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var s=la.memoizedState;if(o=s.destroy,null!==r&&ma(r,s.deps))return void(i.memoizedState=Pa(t,n,o,r))}aa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function Da(e,t){return Oa(8390656,8,e,t)}function Ma(e,t){return La(2048,8,e,t)}function $a(e,t){return La(4,2,e,t)}function Va(e,t){return La(4,4,e,t)}function ja(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!=n?n.concat([e]):null,La(4,4,ja.bind(null,t,e),n)}function Fa(){}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 21&sa?(ai(n,t)||(n=gn(),aa.lanes|=n,Mc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n)}function Wa(e,t){var n=wn;wn=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{wn=n,oa.transition=r}}function qa(){return ba().memoizedState}function Ka(e,t,n){var r=tu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Xa(t,n):null!==(n=Ls(e,t,n,r))&&(nu(n,e,r,eu()),Ya(n,t,r))}function Ga(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ai(a,s)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(nv){}null!==(n=Ls(e,t,i,r))&&(nu(n,e,r,i=eu()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ha=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bn(e,n)}}var Ja={readContext:Ps,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ps,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oa(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ra,useDebugValue:Fa,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Wa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(os){if(void 0===n)throw Error(oe(407));n=n()}else{if(n=t(),null===Nc)throw Error(oe(349));30&sa||_a(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Da(Ta.bind(null,r,o,e),[e]),r.flags|=2048,Pa(9,Ca.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ya(),t=Nc.identifierPrefix;if(os){var n=Jo;t=":"+t+"R"+(n=(Yo&~(1<<32-an(Yo)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Ps,useCallback:za,useContext:Ps,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:$a,useLayoutEffect:Va,useMemo:Ba,useReducer:ka,useRef:Aa,useState:function(){return ka(wa)},useDebugValue:Fa,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[ka(wa)[0],ba().memoizedState]},useMutableSource:xa,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1},tl={readContext:Ps,useCallback:za,useContext:Ps,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:$a,useLayoutEffect:Va,useMemo:Ba,useReducer:Ea,useRef:Aa,useState:function(){return Ea(wa)},useDebugValue:Fa,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ba().memoizedState]},useMutableSource:xa,useSyncExternalStore:Sa,useId:qa,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=$e({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$e({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return!!(e=e._reactInternals)&&zt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=js(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Us(e,o,i))&&(nu(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=js(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Us(e,o,i))&&(nu(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=js(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nu(t,e,r,n),Fs(t,e,r))}};function ol(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&li(n,r)&&li(i,o))}function sl(e,t,n){var r=!1,i=Io,o=t.contextType;return"object"==typeof o&&null!==o?o=Ps(o):(i=Oo(t)?Po:No.current,o=(r=null!=(r=t.contextTypes))?Ao(e,i):Io),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function al(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$s(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ps(o):(o=Oo(t)?Po:No.current,i.context=Ao(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rl(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&il.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=Fe(r),r=r.return}while(r);var i=n}catch(Jg){i="\nError generating stack: "+Jg.message+"\n"+Jg.stack}return{value:e,source:t,stack:i,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hl(e,t){try{console.error(t.value)}catch(Qg){setTimeout((function(){throw Qg}))}}var dl="function"==typeof WeakMap?WeakMap:Map;function fl(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),hl(0,t)},n}function pl(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){hl(0,t),"function"!=typeof r&&(null===qc?qc=new Set([this]):qc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e)}var yl=we.ReactCurrentOwner,bl=!1;function wl(e,t,n,r){t.child=null===e?Es(t,null,n,r):ks(t,e.child,n,r)}function kl(e,t,n,r,i){n=n.render;var o=t.ref;return Rs(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||bl?(os&&n&&ts(t),t.flags|=1,wl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function El(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xl(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,r)&&e.ref===t.ref)return Hl(e,t,i)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function xl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(li(o,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,Hl(e,t,i);131072&e.flags&&(bl=!0)}}return Cl(e,t,n,r,i)}function Sl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(Oc,Ac),Ac|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,To(Oc,Ac),Ac|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Oc,Ac),Ac|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,To(Oc,Ac),Ac|=r;return wl(e,t,i,n),t.child}function _l(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,r,i){var o=Oo(n)?Po:No.current;return o=Ao(t,o),Rs(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||bl?(os&&r&&ts(t),t.flags|=1,wl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function Tl(e,t,n,r,i){if(Oo(n)){var o=!0;$o(t)}else o=!1;if(Rs(t,i),null===t.stateNode)Bl(e,t),sl(t,n,r),ll(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Ps(c):Ao(t,c=Oo(n)?Po:No.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&al(t,s,r,c),Ms=!1;var d=t.memoizedState;s.state=d,Bs(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ro.current||Ms?("function"==typeof u&&(rl(t,n,u,r),l=t.memoizedState),(a=Ms||ol(t,n,a,r,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Vs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nl(t.type,a),s.props=c,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Ps(l):Ao(t,l=Oo(n)?Po:No.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&al(t,s,r,l),Ms=!1,d=t.memoizedState,s.state=d,Bs(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ro.current||Ms?("function"==typeof f&&(rl(t,n,f,r),p=t.memoizedState),(c=Ms||ol(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,o,i)}function Il(e,t,n,r,i,o){_l(e,t);var s=!!(128&t.flags);if(!r&&!s)return i&&Vo(t,n,!1),Hl(e,t,o);r=t.stateNode,yl.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ks(t,e.child,null,o),t.child=ks(t,null,a,o)):wl(e,t,a,o),t.memoizedState=r.state,i&&Vo(t,n,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Xs(e,t.containerInfo)}function Rl(e,t,n,r,i){return ps(),ms(i),t.flags|=256,wl(e,t,n,r),t.child}var Pl,Al,Ol,Ll,Dl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function $l(e,t,n){var r,i=t.pendingProps,o=ea.current,s=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),To(ea,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},1&i||null===s?s=Mu(a,i,0,null):(s.childLanes=0,s.pendingProps=a),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ml(n),t.memoizedState=Dl,e):Vl(t,a));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,jl(e,t,s,r=ul(Error(oe(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&ks(t,e.child,null,s),t.child.memoizedState=Ml(s),t.memoizedState=Dl,o);if(!(1&t.mode))return jl(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,jl(e,t,s,r=ul(o=Error(oe(419)),r,void 0))}if(a=!!(s&e.childLanes),bl||a){if(null!==(r=Nc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return mu(),jl(e,t,s,r=ul(Error(oe(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,is=co(i.nextSibling),rs=t,os=!0,ss=null,null!==e&&(Go[Qo++]=Yo,Go[Qo++]=Jo,Go[Qo++]=Xo,Yo=e.id,Jo=e.overflow,Xo=t),(t=Vl(t,r.children)).flags|=4096,t)}(e,t,a,i,r,o,n);if(s){s=i.fallback,a=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&a||t.child===o?(i=Ou(o,l)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?s=Ou(r,s):(s=Du(s,a,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?Ml(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Dl,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vl(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jl(e,t,n,r){return null!==r&&ms(r),ks(t,e.child,null,n),(e=Vl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Fl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wl(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fl(t,!0,n,null,o);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(oe(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ql(t),null;case 1:case 17:return Oo(t.type)&&Lo(),ql(t),null;case 3:return r=t.stateNode,Ys(),Co(Ro),Co(No),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ss&&(su(ss),ss=null))),Al(e,t),ql(t),null;case 5:Zs(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ol(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(oe(166));return ql(t),null}if(e=Qs(qs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fo]=t,r[po]=o,e=!!(1&t.mode),n){case"dialog":ji("cancel",r),ji("close",r);break;case"iframe":case"object":case"embed":ji("load",r);break;case"video":case"audio":for(i=0;i<Di.length;i++)ji(Di[i],r);break;case"source":ji("error",r);break;case"img":case"image":case"link":ji("error",r),ji("load",r);break;case"details":ji("toggle",r);break;case"input":Xe(r,o),ji("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ji("invalid",r);break;case"textarea":it(r,o),ji("invalid",r)}for(var s in yt(n,o),i=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?r.textContent!==a&&(!0!==o.suppressHydrationWarning&&Ji(r.textContent,a,e),i=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(!0!==o.suppressHydrationWarning&&Ji(r.textContent,a,e),i=["children",""+a]):ae.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&ji("scroll",r)}switch(n){case"input":qe(r),Ze(r,o,!0);break;case"textarea":qe(r),st(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Zi)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=at(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fo]=t,e[po]=r,Pl(e,t,!1,!1),t.stateNode=e;e:{switch(s=bt(n,r),n){case"dialog":ji("cancel",e),ji("close",e),i=r;break;case"iframe":case"object":case"embed":ji("load",e),i=r;break;case"video":case"audio":for(i=0;i<Di.length;i++)ji(Di[i],e);i=r;break;case"source":ji("error",e),i=r;break;case"img":case"image":case"link":ji("error",e),ji("load",e),i=r;break;case"details":ji("toggle",e),i=r;break;case"input":Xe(e,r),i=Qe(e,r),ji("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),ji("invalid",e);break;case"textarea":it(e,r),i=rt(e,r),ji("invalid",e)}for(o in yt(n,i),a=i)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?gt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ht(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&dt(e,l):"number"==typeof l&&dt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(ae.hasOwnProperty(o)?null!=l&&"onScroll"===o&&ji("scroll",e):null!=l&&be(e,o,l,s))}switch(n){case"input":qe(e),Ze(e,r,!1);break;case"textarea":qe(e),st(e);break;case"option":null!=r.value&&e.setAttribute("value",""+He(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?nt(e,!!r.multiple,o,!1):null!=r.defaultValue&&nt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ql(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(oe(166));if(n=Qs(Gs.current),Qs(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(o=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Ji(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return ql(t),null;case 13:if(Co(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(os&&null!==is&&1&t.mode&&!(128&t.flags))fs(),ps(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(oe(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(oe(317));o[fo]=t}else ps(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),o=!1}else null!==ss&&(su(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Lc&&(Lc=3):mu())),null!==t.updateQueue&&(t.flags|=4),ql(t),null);case 4:return Ys(),Al(e,t),null===e&&zi(t.stateNode.containerInfo),ql(t),null;case 10:return Is(t.type._context),ql(t),null;case 19:if(Co(ea),null===(o=t.memoizedState))return ql(t),null;if(r=!!(128&t.flags),null===(s=o.rendering))if(r)Wl(o,!1);else{if(0!==Lc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ta(e))){for(t.flags|=128,Wl(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(ea,1&ea.current|2),t.child}e=e.sibling}null!==o.tail&&Yt()>zc&&(t.flags|=128,r=!0,Wl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!os)return ql(t),null}else 2*Yt()-o.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Wl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,n=ea.current,To(ea,r?1&n|2:1&n),t):(ql(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ac)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null;case 24:case 25:return null}throw Error(oe(156,t.tag))}function Gl(e,t){switch(ns(t),t.tag){case 1:return Oo(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Co(Ro),Co(No),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Co(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(oe(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(ea),null;case 4:return Ys(),null;case 10:return Is(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Pl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Al=function(){},Ol=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(qs.current);var o,s=null;switch(n){case"input":i=Qe(e,i),r=Qe(e,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=rt(e,i),r=rt(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zi)}for(c in yt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ae.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ae.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&ji("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,Xl=!1,Yl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(Xg){Su(e,t,Xg)}else n.current=null}function ec(e,t,n){try{n()}catch(Xg){Su(e,t,Xg)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[vo],delete t[yo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zi));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}var uc=null,hc=!1;function dc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(on,n)}catch(ev){}switch(n.tag){case 5:Xl||Zl(n,t);case 6:var r=uc,i=hc;uc=null,dc(e,t,n),hc=i,null!==(uc=r)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bn(e)):lo(uc,n.stateNode));break;case 4:r=uc,i=hc,uc=n.stateNode.containerInfo,hc=!0,dc(e,t,n),uc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Xl&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(2&o||4&o)&&ec(n,t,s),i=i.next}while(i!==r)}dc(e,t,n);break;case 1:if(!Xl&&(Zl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(ev){Su(n,t,ev)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,dc(e,t,n),Xl=r):dc(e,t,n);break;default:dc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yl),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:uc=a.stateNode,hc=!1;break e;case 3:case 4:uc=a.stateNode.containerInfo,hc=!0;break e}a=a.return}if(null===uc)throw Error(oe(160));fc(o,s,i),uc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(nv){Su(i,t,nv)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(lv){Su(e,e.return,lv)}try{nc(5,e,e.return)}catch(lv){Su(e,e.return,lv)}}break;case 1:mc(t,e),vc(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(mc(t,e),vc(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{dt(i,"")}catch(lv){Su(e,e.return,lv)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&Ye(i,o),bt(a,s);var c=bt(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];"style"===u?gt(i,h):"dangerouslySetInnerHTML"===u?ht(i,h):"children"===u?dt(i,h):be(i,u,h,c)}switch(a){case"input":Je(i,o);break;case"textarea":ot(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?nt(i,!!o.multiple,f,!1):d!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[po]=o}catch(lv){Su(e,e.return,lv)}}break;case 6:if(mc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(lv){Su(e,e.return,lv)}}break;case 3:if(mc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(lv){Su(e,e.return,lv)}break;case 4:default:mc(t,e),vc(e);break;case 13:mc(t,e),vc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Fc=Yt())),4&r&&pc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(c=Xl)||u,mc(t,e),Xl=c):mc(t,e),vc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Jl=e,u=e.child;null!==u;){for(h=Jl=u;null!==Jl;){switch(f=(d=Jl).child,d.tag){case 0:case 11:case 14:case 15:nc(4,d,d.return);break;case 1:Zl(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(lv){Su(r,n,lv)}}break;case 5:Zl(d,d.return);break;case 22:if(null!==d.memoizedState){kc(h);continue}}null!==f?(f.return=d,Jl=f):kc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=mt("display",s))}catch(lv){Su(e,e.return,lv)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(lv){Su(e,e.return,lv)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),vc(e),4&r&&pc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),cc(e,ac(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,ac(e),o);break;default:throw Error(oe(161))}}catch(tv){Su(e,e.return,tv)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Jl=e,bc(e)}function bc(e,t,n){for(var r=!!(1&e.mode);null!==Jl;){var i=Jl,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ql;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xl;a=Ql;var c=Xl;if(Ql=s,(Xl=l)&&!c)for(Jl=i;null!==Jl;)l=(s=Jl).child,22===s.tag&&null!==s.memoizedState?Ec(i):null!==l?(l.return=s,Jl=l):Ec(i);for(;null!==o;)Jl=o,bc(o),o=o.sibling;Jl=i,Ql=a,Xl=c}wc(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Jl=o):wc(e)}}function wc(e){for(;null!==Jl;){var t=Jl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xl||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Bn(h)}}}break;default:throw Error(oe(163))}Xl||512&t.flags&&ic(t)}catch(av){Su(t,t.return,av)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function kc(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function Ec(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(tv){Su(t,n,tv)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(tv){Su(t,i,tv)}}var o=t.return;try{ic(t)}catch(tv){Su(t,o,tv)}break;case 5:var s=t.return;try{ic(t)}catch(tv){Su(t,s,tv)}}}catch(tv){Su(t,t.return,tv)}if(t===e){Jl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Jl=a;break}Jl=t.return}}var xc,Sc=Math.ceil,_c=we.ReactCurrentDispatcher,Cc=we.ReactCurrentOwner,Tc=we.ReactCurrentBatchConfig,Ic=0,Nc=null,Rc=null,Pc=0,Ac=0,Oc=_o(0),Lc=0,Dc=null,Mc=0,$c=0,Vc=0,jc=null,Uc=null,Fc=0,zc=1/0,Bc=null,Hc=!1,Wc=null,qc=null,Kc=!1,Gc=null,Qc=0,Xc=0,Yc=null,Jc=-1,Zc=0;function eu(){return 6&Ic?Yt():-1!==Jc?Jc:Jc=Yt()}function tu(e){return 1&e.mode?2&Ic&&0!==Pc?Pc&-Pc:null!==gs.transition?(0===Zc&&(Zc=gn()),Zc):0!==(e=wn)?e:e=void 0===(e=window.event)?16:Yn(e.type):1}function nu(e,t,n,r){if(50<Xc)throw Xc=0,Yc=null,Error(oe(185));yn(e,n,r),2&Ic&&e===Nc||(e===Nc&&(!(2&Ic)&&($c|=n),4===Lc&&au(e,Pc)),ru(e,r),1===n&&0===Ic&&!(1&t.mode)&&(zc=Yt()+500,Uo&&Bo()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-an(o),a=1<<s,l=i[s];-1===l?a&n&&!(a&r)||(i[s]=pn(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=fn(e,e===Nc?Pc:0);if(0===r)null!==n&&Gt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Gt(n),1===t)0===e.tag?function(e){Uo=!0,zo(e)}(lu.bind(null,e)):zo(lu.bind(null,e)),so((function(){!(6&Ic)&&Bo()})),n=null;else{switch(kn(r)){case 1:n=Zt;break;case 4:n=en;break;case 16:default:n=tn;break;case 536870912:n=rn}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jc=-1,Zc=0,6&Ic)throw Error(oe(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=fn(e,e===Nc?Pc:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=gu(e,r);else{t=r;var i=Ic;Ic|=2;var o=pu();for(Nc===e&&Pc===t||(Bc=null,zc=Yt()+500,du(e,t));;)try{yu();break}catch(ev){fu(e,ev)}Ts(),_c.current=o,Ic=i,null!==Rc?t=0:(Nc=null,Pc=0,t=Lc)}if(0!==t){if(2===t&&0!==(i=mn(e))&&(r=i,t=ou(e,i)),1===t)throw n=Dc,du(e,0),au(e,r),ru(e,Yt()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ai(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=gu(e,r),2===t&&(o=mn(e),0!==o&&(r=o,t=ou(e,o))),1!==t)))throw n=Dc,du(e,0),au(e,r),ru(e,Yt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:case 5:ku(e,Uc,Bc);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Fc+500-Yt())){if(0!==fn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ro(ku.bind(null,e,Uc,Bc),t);break}ku(e,Uc,Bc);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-an(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Yt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ro(ku.bind(null,e,Uc,Bc),r);break}ku(e,Uc,Bc);break;default:throw Error(oe(329))}}}return ru(e,Yt()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Uc,Uc=n,null!==t&&su(t)),e}function su(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function au(e,t){for(t&=~Vc,t&=~$c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-an(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Ic)throw Error(oe(327));Eu();var t=fn(e,0);if(!(1&t))return ru(e,Yt()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=mn(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dc,du(e,0),au(e,t),ru(e,Yt()),n;if(6===n)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Uc,Bc),ru(e,Yt()),null}function cu(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(zc=Yt()+500,Uo&&Bo())}}function uu(e){null!==Gc&&0===Gc.tag&&!(6&Ic)&&Eu();var t=Ic;Ic|=1;var n=Tc.transition,r=wn;try{if(Tc.transition=null,wn=1,e)return e()}finally{wn=r,Tc.transition=n,!(6&(Ic=t))&&Bo()}}function hu(){Ac=Oc.current,Co(Oc)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,io(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Lo();break;case 3:Ys(),Co(Ro),Co(No),ra();break;case 5:Zs(r);break;case 4:Ys();break;case 13:case 19:Co(ea);break;case 10:Is(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Nc=e,Rc=e=Ou(e.current,null),Pc=Ac=t,Lc=0,Dc=null,Vc=$c=Mc=0,Uc=jc=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}As=null}return e}function fu(e,t){for(;;){var n=Rc;try{if(Ts(),ia.current=Ja,ua){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(sa=0,ca=la=aa=null,ha=!1,da=0,Cc.current=null,null===n||null===n.return){Lc=1,Dc=t,Rc=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Pc,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=a,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gl(s);if(null!==f){f.flags&=-257,vl(f,s,a,0,t),1&f.mode&&ml(o,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){ml(o,c,t),mu();break e}l=Error(oe(426))}else if(os&&1&a.mode){var g=gl(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),vl(g,s,a,0,t),ms(cl(l,a));break e}}o=l=cl(l,a),4!==Lc&&(Lc=2),null===jc?jc=[o]:jc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fl(0,l,t));break e;case 1:a=l;var v=o.type,y=o.stateNode;if(!(128&o.flags||"function"!=typeof v.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==qc&&qc.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pl(o,a,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(b){t=b,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function pu(){var e=_c.current;return _c.current=Ja,null===e?Ja:e}function mu(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Nc||!(268435455&Mc)&&!(268435455&$c)||au(Nc,Pc)}function gu(e,t){var n=Ic;Ic|=2;var r=pu();for(Nc===e&&Pc===t||(Bc=null,du(e,t));;)try{vu();break}catch(Yg){fu(e,Yg)}if(Ts(),Ic=n,_c.current=r,null!==Rc)throw Error(oe(261));return Nc=null,Pc=0,Lc}function vu(){for(;null!==Rc;)bu(Rc)}function yu(){for(;null!==Rc&&!Qt();)bu(Rc)}function bu(e){var t=xc(e.alternate,e,Ac);e.memoizedProps=e.pendingProps,null===t?wu(e):Rc=t,Cc.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gl(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Lc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Kl(n,t,Ac)))return void(Rc=n);if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Lc&&(Lc=5)}function ku(e,t,n){var r=wn,i=Tc.transition;try{Tc.transition=null,wn=1,function(e,t,n,r){do{Eu()}while(null!==Gc);if(6&Ic)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-an(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Nc&&(Rc=Nc=null,Pc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kc||(Kc=!0,Nu(tn,(function(){return Eu(),null}))),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=Tc.transition,Tc.transition=null;var s=wn;wn=1;var a=Ic;Ic|=4,Cc.current=null,function(e,t){if(eo=Wn,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Kx){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(a=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wn=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:nl(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(oe(163))}}catch(Kx){Su(t,t.return,Kx)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}p=tc,tc=!1}(e,n),gc(n,e),pi(to),Wn=!!eo,to=eo=null,e.current=n,yc(n),Xt(),Ic=a,wn=s,Tc.transition=o}else e.current=n;if(Kc&&(Kc=!1,Gc=e,Qc=i),0===(o=e.pendingLanes)&&(qc=null),function(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(on,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),ru(e,Yt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;!!(1&Qc)&&0!==e.tag&&Eu(),1&(o=e.pendingLanes)?e===Yc?Xc++:(Xc=0,Yc=e):Xc=0,Bo()}(e,t,n,r)}finally{Tc.transition=i,wn=r}return null}function Eu(){if(null!==Gc){var e=kn(Qc),t=Tc.transition,n=wn;try{if(Tc.transition=null,wn=16>e?16:e,null===Gc)var r=!1;else{if(e=Gc,Gc=null,Qc=0,6&Ic)throw Error(oe(331));var i=Ic;for(Ic|=4,Jl=e.current;null!==Jl;){var o=Jl,s=o.child;if(16&Jl.flags){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(Jl=c;null!==Jl;){var u=Jl;switch(u.tag){case 0:case 11:case 15:nc(8,u,o)}var h=u.child;if(null!==h)h.return=u,Jl=h;else for(;null!==Jl;){var d=(u=Jl).sibling,f=u.return;if(oc(u),u===c){Jl=null;break}if(null!==d){d.return=f,Jl=d;break}Jl=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Jl=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Jl=s;else e:for(;null!==Jl;){if(2048&(o=Jl).flags)switch(o.tag){case 0:case 11:case 15:nc(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Jl=v;break e}Jl=o.return}}var y=e.current;for(Jl=y;null!==Jl;){var b=(s=Jl).child;if(2064&s.subtreeFlags&&null!==b)b.return=s,Jl=b;else e:for(s=y;null!==Jl;){if(2048&(a=Jl).flags)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(k){Su(a,a.return,k)}if(a===s){Jl=null;break e}var w=a.sibling;if(null!==w){w.return=a.return,Jl=w;break e}Jl=a.return}}if(Ic=i,Bo(),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(on,e)}catch(k){}r=!0}return r}finally{wn=n,Tc.transition=t}}return!1}function xu(e,t,n){e=Us(e,t=fl(0,t=cl(n,t),1),1),t=eu(),null!==e&&(yn(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===qc||!qc.has(r))){t=Us(t,e=pl(t,e=cl(n,e),1),1),e=eu(),null!==t&&(yn(t,1,e),ru(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nc===e&&(Pc&n)===n&&(4===Lc||3===Lc&&(130023424&Pc)===Pc&&500>Yt()-Fc?du(e,0):Vc|=n),ru(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=hn,!(130023424&(hn<<=1))&&(hn=4194304)):t=1);var n=eu();null!==(e=Ds(e,t))&&(yn(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}null!==r&&r.delete(t),Cu(e,n)}function Nu(e,t){return Kt(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Ru(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Au(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case xe:return Du(n.children,i,o,t);case Se:s=8,i|=8;break;case _e:return(e=Pu(12,n,t,2|i)).elementType=_e,e.lanes=o,e;case Ne:return(e=Pu(13,n,t,i)).elementType=Ne,e.lanes=o,e;case Re:return(e=Pu(19,n,t,i)).elementType=Re,e.lanes=o,e;case Oe:return Mu(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ce:s=10;break e;case Te:s=9;break e;case Ie:s=11;break e;case Pe:s=14;break e;case Ae:s=16,r=null;break e}throw Error(oe(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=Oe,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Vu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,o,s,a,l){return e=new ju(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(o),e}function Fu(e){if(!e)return Io;e:{if(zt(e=e._reactInternals)!==e||1!==e.tag)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(oe(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Mo(e,n,t)}return t}function zu(e,t,n,r,i,o,s,a,l){return(e=Uu(n,r,!0,e,0,o,0,a,l)).context=Fu(null),n=e.current,(o=js(r=eu(),i=tu(n))).callback=null!=t?t:null,Us(n,o,i),e.current.lanes=i,yn(e,i,r),ru(e,r),e}function Bu(e,t,n,r){var i=t.current,o=eu(),s=tu(i);return n=Fu(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,s))&&(nu(e,i,s,o),Fs(e,i,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}xc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)bl=!0;else{if(!(e.lanes&n||128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Nl(t),ps();break;case 5:Js(t);break;case 1:Oo(t.type)&&$o(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;To(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?$l(e,t,n):(To(ea,1&ea.current),null!==(e=Hl(e,t,n))?e.sibling:null);To(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return zl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),To(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return Hl(e,t,n)}(e,t,n);bl=!!(131072&e.flags)}else bl=!1,os&&1048576&t.flags&&es(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var i=Ao(t,No.current);Rs(t,n),i=ga(null,t,r,e,i,n);var o=va();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(o=!0,$o(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$s(t),i.updater=il,t.stateNode=i,i._reactInternals=t,ll(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,os&&o&&ts(t),wl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Au(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ie)return 11;if(e===Pe)return 14}return 2}(r),e=nl(r,e),i){case 0:t=Cl(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=kl(null,t,r,e,n);break e;case 14:t=El(null,t,r,nl(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 3:e:{if(Nl(t),null===e)throw Error(oe(387));r=t.pendingProps,i=(o=t.memoizedState).element,Vs(e,t),Bs(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rl(e,t,r,n,i=cl(Error(oe(423)),t));break e}if(r!==i){t=Rl(e,t,r,n,i=cl(Error(oe(424)),t));break e}for(is=co(t.stateNode.containerInfo.firstChild),rs=t,os=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Hl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,no(r,i)?s=null:null!==o&&no(r,o)&&(t.flags|=32),_l(e,t),wl(e,t,s,n),t.child;case 6:return null===e&&us(t),null;case 13:return $l(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ks(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,kl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,To(xs,r._currentValue),r._currentValue=s,null!==o)if(ai(o.value,s)){if(o.children===i.children&&!Ro.current){t=Hl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=js(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(oe(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ns(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}wl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rs(t,n),r=r(i=Ps(i)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return i=nl(r=t.type,t.pendingProps),El(e,t,r,i=nl(r.type,i),n);case 15:return xl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),Bl(e,t),t.tag=1,Oo(r)?(e=!0,$o(t)):e=!1,Rs(t,n),sl(t,r,i),ll(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return zl(e,t,n);case 22:return Sl(e,t,n)}throw Error(oe(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}Bu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}var s=zu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[mo]=s.current,zi(8===e.nodeType?e.parentNode:e),uu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[mo]=l.current,zi(8===e.nodeType?e.parentNode:e),uu((function(){Bu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(s)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(oe(409));Bu(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){Bu(null,e,null,null)})),t[mo]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_n();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&0!==t&&t<Ln[n].priority;n++);Ln.splice(n,0,e),0===n&&Vn(e)}},En=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dn(t.pendingLanes);0!==n&&(bn(t,1|n),ru(t,Yt()),!(6&Ic)&&(zc=Yt()+500,Bo()))}break;case 13:uu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},xn=function(e){if(13===e.tag){var t=Ds(e,134217728);null!==t&&nu(t,e,134217728,eu()),qu(e,134217728)}},Sn=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);null!==n&&nu(n,e,t,eu()),qu(e,t)}},_n=function(){return wn},Cn=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}},Et=function(e,t,n){switch(t){case"input":if(Je(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Eo(r);if(!i)throw Error(oe(90));Ke(r),Je(r,i)}}}break;case"textarea":ot(e,n);break;case"select":null!=(t=n.value)&&nt(e,!!n.multiple,t,!1)}},It=cu,Nt=uu;var eh={usingClientEntryPoint:!1,Events:[wo,ko,Eo,Ct,Tt,cu]},th={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Wt(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{on=rh.inject(nh),sn=rh}catch(ut){}}Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,Z.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(oe(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ee,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Z.createRoot=function(e,t){if(!Xu(e))throw Error(oe(299));var n=!1,r="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[mo]=t.current,zi(8===e.nodeType?e.parentNode:e),new Gu(t)},Z.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(oe(188));throw e=Object.keys(e).join(","),Error(oe(268,e))}return e=null===(e=Wt(t))?null:e.stateNode},Z.flushSync=function(e){return uu(e)},Z.hydrate=function(e,t,n){if(!Yu(t))throw Error(oe(200));return Zu(null,e,t,!0,n)},Z.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(oe(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,o,s),e[mo]=t.current,zi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},Z.render=function(e,t,n){if(!Yu(t))throw Error(oe(200));return Zu(null,e,t,!1,n)},Z.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(oe(40));return!!e._reactRootContainer&&(uu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},Z.unstable_batchedUpdates=cu,Z.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(oe(200));if(null==e||void 0===e._reactInternals)throw Error(oe(38));return Zu(e,t,n,!1,r)},Z.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch($h){console.error($h)}}(),J.exports=Z;var ih=J.exports;const oh=r(ih);var sh,ah=ih;sh=ah.createRoot,ah.hydrateRoot;const lh=function(e,t,n){let r=Promise.resolve();return r.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};var ch={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},uh=Object.defineProperty,hh=!0,dh=new WeakMap,fh=e=>dh.get(e),ph=(e,t)=>t in e,mh=(e,t)=>(0,console.error)(e,t),gh=new Map,vh=[],yh="http://www.w3.org/1999/xlink",bh="undefined"!=typeof window?window:{},wh=bh.document||{head:{}},kh=bh.HTMLElement||class{},Eh={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},xh=(()=>{let e=!1;try{wh.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(Yg){}return e})(),Sh=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(Yg){}return!1})(),_h=!1,Ch=[],Th=[],Ih=(e,t)=>n=>{e.push(n),_h||(_h=!0,t&&4&Eh.$flags$?Ph(Rh):Eh.raf(Rh))},Nh=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(Yg){mh(Yg)}e.length=0},Rh=()=>{Nh(Ch),Nh(Th),(_h=Ch.length>0)&&Eh.raf(Rh)},Ph=e=>(e=>Promise.resolve(e))().then(e),Ah=e("r",Ih(Ch,!1)),Oh=e("w",Ih(Th,!0)),Lh={},Dh=e=>"object"==(e=typeof e)||"function"===e;((e,t)=>{for(var n in t)uh(e,n,{get:t[n],enumerable:!0})})({},{err:()=>$h,map:()=>Vh,ok:()=>Mh,unwrap:()=>zh,unwrapErr:()=>Bh});var Mh=e=>({isOk:!0,isErr:!1,value:e}),$h=e=>({isOk:!1,isErr:!0,value:e});function Vh(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then((e=>Mh(e))):Mh(n)}if(e.isErr){const t=e.value;return $h(t)}throw"should never get here"}var jh,Uh,Fh,zh=e=>{if(e.isOk)return e.value;throw e.value},Bh=e=>{if(e.isErr)return e.value;throw e.value},Hh=(e,t,...n)=>{let r=null,i=null,o=null,s=!1,a=!1;const l=[],c=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((s="function"!=typeof e&&!Dh(r))&&(r=String(r)),s&&a?l[l.length-1].$text$+=r:l.push(s?Wh(null,r):r),a=s)};if(c(n),t){t.key&&(i=t.key),t.name&&(o=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,Kh);const u=Wh(e,null);return u.$attrs$=t,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=o,u},Wh=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return n},qh={},Kh={forEach:(e,t)=>e.map(Gh).forEach(t),map:(e,t)=>e.map(Gh).map(t).map(Qh)},Gh=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Qh=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),Hh(e.vtag,t,...e.vchildren||[])}const t=Wh(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},Xh=(e,t,n)=>{const r=e;return{emit:e=>Yh(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},Yh=(e,t,n)=>{const r=Eh.ce(t,n);return e.dispatchEvent(r),r},Jh=new WeakMap,Zh=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=(t.$tagName$,()=>{}),o=((e,t,n)=>{var r;const i=ed(t,n),o=gh.get(i);if(e=11===e.nodeType?e:wh,o)if("string"==typeof o){e=e.head||e;let n,s=Jh.get(e);if(s||Jh.set(e,s=new Set),!s.has(i)){{n=wh.createElement("style"),n.innerHTML=o;const i=null!=(r=Eh.$nonce$)?r:function(e){var t,n,r;return null!=(r=null==(n=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:n.getAttribute("content"))?r:void 0}(wh);null!=i&&n.setAttribute("nonce",i),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(n,e.querySelector("link"))}4&t.$flags$&&(n.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),s&&s.add(i)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i})(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);10&r&&2&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),2&r&&n.classList.add(o+"-s")),i()},ed=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),td=(e,t,n,r,i,o)=>{if(n!==r){let s=ph(e,t),a=t.toLowerCase();if("class"===t){const t=e.classList,i=rd(n),o=rd(r);t.remove(...i.filter((e=>e&&!o.includes(e)))),t.add(...o.filter((e=>e&&!i.includes(e))))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=Dh(r);if((s||l&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const i=null==r?"":r;"list"===t?s=!1:null!=n&&e[t]==i||(e[t]=i)}}catch(Yg){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(yh,t):e.removeAttribute(t)):(!s||4&o||i)&&!l&&(r=!0===r?"":r,c?e.setAttributeNS(yh,t,r):e.setAttribute(t,r))}else if(t="-"===t[2]?t.slice(3):ph(bh,a)?a.slice(2):a[2]+t.slice(3),n||r){const i=t.endsWith(id);t=t.replace(od,""),n&&Eh.rel(e,t,n,i),r&&Eh.ael(e,t,r,i)}}},nd=/\s/,rd=e=>e?e.split(nd):[],id="Capture",od=new RegExp(id+"$"),sd=(e,t,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||Lh,o=t.$attrs$||Lh;for(const s of ad(Object.keys(i)))s in o||td(r,s,i[s],void 0,n,t.$flags$);for(const s of ad(Object.keys(o)))td(r,s,i[s],o[s],n,t.$flags$)};function ad(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var ld=!1,cd=!1,ud=!1,hd=!1,dd=(e,t,n,r)=>{var i;const o=t.$children$[n];let s,a,l,c=0;if(ld||(ud=!0,"slot"===o.$tag$&&(jh&&r.classList.add(jh+"-s"),o.$flags$|=o.$children$?2:1)),null!==o.$text$)s=o.$elm$=wh.createTextNode(o.$text$);else if(1&o.$flags$)s=o.$elm$=wh.createTextNode("");else{if(hd||(hd="svg"===o.$tag$),s=o.$elm$=wh.createElementNS(hd?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ld&&ch.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$),hd&&"foreignObject"===o.$tag$&&(hd=!1),sd(null,o,hd),!!s.getRootNode().querySelector("body")&&ch.scoped&&(e=>null!=e)(jh)&&s["s-si"]!==jh&&s.classList.add(s["s-si"]=jh),Td(s,r),o.$children$)for(c=0;c<o.$children$.length;++c)a=dd(e,o,c,s),a&&s.appendChild(a);"svg"===o.$tag$?hd=!1:"foreignObject"===s.tagName&&(hd=!0)}return s["s-hn"]=Fh,3&o.$flags$&&(s["s-sr"]=!0,s["s-cr"]=Uh,s["s-sn"]=o.$name$||"",s["s-rf"]=null==(i=o.$attrs$)?void 0:i.ref,l=e&&e.$children$&&e.$children$[n],l&&l.$tag$===o.$tag$&&e.$elm$&&fd(e.$elm$,!1)),s},fd=(e,t)=>{Eh.$flags$|=1;const n=Array.from(e.childNodes);e["s-sr"];for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==Fh&&e["s-ol"]&&(_d(yd(e),e,vd(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,ud=!0),t&&fd(e,t)}Eh.$flags$&=-2},pd=(e,t,n,r,i,o)=>{let s,a=e["s-cr"]&&e["s-cr"].parentNode||e;for(a.shadowRoot&&a.tagName===Fh&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=dd(null,n,i,e),s&&(r[i].$elm$=s,_d(a,s,vd(t))))},md=(e,t,n)=>{for(let r=t;r<=n;++r){const t=e[r];if(t){const e=t.$elm$;Sd(t),e&&(cd=!0,e["s-ol"]?e["s-ol"].remove():fd(e,!0),e.remove())}}},gd=(e,t,n=!1)=>!(e.$tag$!==t.$tag$||("slot"===e.$tag$?"$nodeId$"in e&&n&&8!==e.$elm$.nodeType||e.$name$!==t.$name$:!n&&e.$key$!==t.$key$)),vd=e=>e&&e["s-ol"]||e,yd=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,bd=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;let l;null===a?(hd="svg"===s||"foreignObject"!==s&&hd,("slot"!==s||ld)&&sd(e,t,hd),null!==i&&null!==o?((e,t,n,r,i=!1)=>{let o,s,a=0,l=0,c=0,u=0,h=t.length-1,d=t[0],f=t[h],p=r.length-1,m=r[0],g=r[p];for(;a<=h&&l<=p;)if(null==d)d=t[++a];else if(null==f)f=t[--h];else if(null==m)m=r[++l];else if(null==g)g=r[--p];else if(gd(d,m,i))bd(d,m,i),d=t[++a],m=r[++l];else if(gd(f,g,i))bd(f,g,i),f=t[--h],g=r[--p];else if(gd(d,g,i))"slot"!==d.$tag$&&"slot"!==g.$tag$||fd(d.$elm$.parentNode,!1),bd(d,g,i),_d(e,d.$elm$,f.$elm$.nextSibling),d=t[++a],g=r[--p];else if(gd(f,m,i))"slot"!==d.$tag$&&"slot"!==g.$tag$||fd(f.$elm$.parentNode,!1),bd(f,m,i),_d(e,f.$elm$,d.$elm$),f=t[--h],m=r[++l];else{for(c=-1,u=a;u<=h;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===m.$key$){c=u;break}c>=0?(s=t[c],s.$tag$!==m.$tag$?o=dd(t&&t[l],n,c,e):(bd(s,m,i),t[c]=void 0,o=s.$elm$),m=r[++l]):(o=dd(t&&t[l],n,l,e),m=r[++l]),o&&_d(yd(d.$elm$),o,vd(d.$elm$))}a>h?pd(e,null==r[p+1]?null:r[p+1].$elm$,n,r,l,p):l>p&&md(t,a,h)})(r,i,t,o,n):null!==o?(null!==e.$text$&&(r.textContent=""),pd(r,null,t,o,0,o.length-1)):!n&&ch.updatable&&null!==i&&md(i,0,i.length-1),hd&&"svg"===s&&(hd=!1)):(l=r["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(r.data=a)},wd=e=>{const t=e.childNodes;for(const n of t)if(1===n.nodeType){if(n["s-sr"]){const e=n["s-sn"];n.hidden=!1;for(const r of t)if(r!==n)if(r["s-hn"]!==n["s-hn"]||""!==e){if(1===r.nodeType&&(e===r.getAttribute("slot")||e===r["s-sn"])||3===r.nodeType&&e===r["s-sn"]){n.hidden=!0;break}}else if(1===r.nodeType||3===r.nodeType&&""!==r.textContent.trim()){n.hidden=!0;break}}wd(n)}},kd=[],Ed=e=>{let t,n,r;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){n=t.parentNode.childNodes;const e=i["s-sn"];for(r=n.length-1;r>=0;r--)if(t=n[r],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"])if(xd(t,e)){let n=kd.find((e=>e.$nodeToRelocate$===t));cd=!0,t["s-sn"]=t["s-sn"]||e,n?(n.$nodeToRelocate$["s-sh"]=i["s-hn"],n.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],kd.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&kd.map((e=>{xd(e.$nodeToRelocate$,t["s-sn"])&&(n=kd.find((e=>e.$nodeToRelocate$===t)),n&&!e.$slotRefNode$&&(e.$slotRefNode$=n.$slotRefNode$))}))}else kd.some((e=>e.$nodeToRelocate$===t))||kd.push({$nodeToRelocate$:t})}1===i.nodeType&&Ed(i)}},xd=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,Sd=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Sd)},_d=(e,t,n)=>{const r=null==e?void 0:e.insertBefore(t,n);return Td(t,e),r},Cd=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...Cd(e.parentElement)),t},Td=(e,t,n=!1)=>{var r;if(e&&t&&1===e.nodeType){const i=new Set(Cd(t).filter(Boolean));if(i.size&&(null==(r=e.classList)||r.add(...e["s-scs"]=[...i]),e["s-ol"]||n))for(const t of Array.from(e.childNodes))Td(t,e,!0)}},Id=(e,t,n=!1)=>{var r,i,o,s,a;const l=e.$hostElement$,c=e.$cmpMeta$,u=e.$vnode$||Wh(null,null),h=(d=t)&&d.$tag$===qh?t:Hh(null,null,t);var d;if(Fh=l.tagName,c.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},c.$attrsToReflect$.map((([e,t])=>h.$attrs$[t]=l[e]))),n&&h.$attrs$)for(const f of Object.keys(h.$attrs$))l.hasAttribute(f)&&!["key","ref","style","class"].includes(f)&&(h.$attrs$[f]=l[f]);if(h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=u.$elm$=l.shadowRoot||l,jh=l["s-sc"],ld=!!(1&c.$flags$),Uh=l["s-cr"],cd=!1,bd(u,h,n),Eh.$flags$|=1,ud){Ed(h.$elm$);for(const e of kd){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=wh.createTextNode("");e["s-nr"]=t,_d(t.parentNode,t["s-ol"]=e,t)}}for(const e of kd){const t=e.$nodeToRelocate$,a=e.$slotRefNode$;if(a){const e=a.parentNode;let n=a.nextSibling;{let o=null==(r=t["s-ol"])?void 0:r.previousSibling;for(;o;){let r=null!=(i=o["s-nr"])?i:null;if(r&&r["s-sn"]===t["s-sn"]&&e===r.parentNode){for(r=r.nextSibling;r===t||(null==r?void 0:r["s-sr"]);)r=null==r?void 0:r.nextSibling;if(!r||!r["s-nr"]){n=r;break}}o=o.previousSibling}}(!n&&e!==t.parentNode||t.nextSibling!==n)&&t!==n&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),_d(e,t,n),1===t.nodeType&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof a["s-rf"]&&a["s-rf"](t)}else 1===t.nodeType&&(n&&(t["s-ih"]=null!=(s=t.hidden)&&s),t.hidden=!0)}}if(cd&&wd(h.$elm$),Eh.$flags$&=-2,kd.length=0,ch.experimentalScopedSlotChanges&&2&c.$flags$)for(const f of h.$elm$.childNodes)f["s-hn"]===Fh||f["s-sh"]||(n&&null==f["s-ih"]&&(f["s-ih"]=null!=(a=f.hidden)&&a),f.hidden=!0);Uh=void 0},Nd=(e,t)=>(e.$flags$|=16,e.$ancestorComponent$,Oh((()=>Rd(e,t)))),Rd=(e,t)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return o=$d(i,t?"componentWillLoad":"componentWillUpdate"),o=Pd(o,(()=>$d(i,"componentWillRender"))),r(),Pd(o,(()=>Od(e,i,t)))},Pd=(e,t)=>Ad(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),Ad=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Od=async(e,t,n)=>{const r=e.$hostElement$,i=(e.$cmpMeta$.$tagName$,()=>{});r["s-rc"],n&&Zh(e);const o=(e.$cmpMeta$.$tagName$,()=>{});Ld(e,t,r,n),o(),i(),Dd(e)},Ld=(e,t,n,r)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(ch.hasRenderFn||ch.reflect)&&(ch.vdomRender||ch.reflect)&&(ch.hydrateServerSide||Id(e,t,r))}catch(Yg){mh(Yg,e.$hostElement$)}return null},Dd=e=>{e.$cmpMeta$.$tagName$;const t=()=>{},n=e.$hostElement$;e.$ancestorComponent$,$d(n,"componentDidRender"),64&e.$flags$?($d(n,"componentDidUpdate"),t()):(e.$flags$|=64,$d(n,"componentDidLoad"),t())},Md=e=>{{const t=fh(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&Nd(t,!1),n}},$d=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(Yg){mh(Yg)}},Vd=(e,t,n,r)=>{const i=fh(e),o=e,s=i.$instanceValues$.get(t),a=i.$flags$,l=o;var c,u;c=n,u=r.$members$[t][0],n=null==c||Dh(c)?c:4&u?"false"!==c&&(""===c||!!c):2&u?parseFloat(c):1&u?String(c):c;const h=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!h){if(i.$instanceValues$.set(t,n),r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map((e=>{try{l[e](n,s,t)}catch(Yg){mh(Yg,o)}}))}if(2==(18&a)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,s,t))return;Nd(i,!1)}}},jd=(e,t,n)=>{var r,i;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const n=Object.entries(null!=(r=t.$members$)?r:{});n.map((([e,[n]])=>{(31&n||32&n)&&Object.defineProperty(o,e,{get(){return t=e,fh(this).$instanceValues$.get(t);var t},set(n){Vd(this,e,n,t)},configurable:!0,enumerable:!0})}));{const r=new Map;o.attributeChangedCallback=function(e,n,i){Eh.jmp((()=>{var s;const a=r.get(e);if(this.hasOwnProperty(a))i=this[a],delete this[a];else{if(o.hasOwnProperty(a)&&"number"==typeof this[a]&&this[a]==i)return;if(null==a){const r=fh(this),o=null==r?void 0:r.$flags$;if(o&&!(8&o)&&128&o&&i!==n){const r=this,o=null==(s=t.$watchers$)?void 0:s[e];null==o||o.forEach((t=>{null!=r[t]&&r[t].call(r,i,n,e)}))}return}}this[a]=(null!==i||"boolean"!=typeof this[a])&&i}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(i=t.$watchers$)?i:{}),...n.filter((([e,t])=>15&t[0])).map((([e,n])=>{var i;const o=n[1]||e;return r.set(o,e),512&n[0]&&(null==(i=t.$attrsToReflect$)||i.push([e,o])),o}))]))}}return e},Ud=async(e,t,n,r)=>{let i;if(!(32&t.$flags$)){t.$flags$|=32,n.$lazyBundleId$;{i=e.constructor;const n=e.localName;customElements.whenDefined(n).then((()=>t.$flags$|=128))}if(i&&i.style){let r;"string"==typeof i.style?r=i.style:"string"!=typeof i.style&&(t.$modeName$=(e=>vh.map((t=>t(e))).find((e=>!!e)))(e),t.$modeName$&&(r=i.style[t.$modeName$]));const o=ed(n,t.$modeName$);if(!gh.has(o)){const e=(n.$tagName$,()=>{});((e,t,n)=>{let r=gh.get(e);Sh&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,gh.set(e,r)})(o,r,!!(1&n.$flags$)),e()}}}t.$ancestorComponent$,Nd(t,!0)},Fd=e=>{const t=e["s-cr"]=wh.createComment("");t["s-cn"]=!0,_d(e,t,e.firstChild)},zd=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[];const r=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){((e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};dh.set(e,n)})(this,n)},connectedCallback(){const e=fh(this);Bd(this,e,n.$listeners$),(e=>{if(!(1&Eh.$flags$)){const t=fh(e),n=t.$cmpMeta$,r=(n.$tagName$,()=>{});1&t.$flags$?(Bd(e,t,n.$listeners$),(null==t?void 0:t.$lazyInstance$)?t.$lazyInstance$:(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{t.$lazyInstance$}))):(t.$flags$|=1,12&n.$flags$&&Fd(e),n.$members$&&Object.entries(n.$members$).map((([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}})),Ud(e,t,n)),r()}})(this),r&&r.call(this)},disconnectedCallback(){(async e=>{if(!(1&Eh.$flags$)){const t=fh(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this),i&&i.call(this)},__attachShadow(){if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)})}}),e.is=n.$tagName$,jd(e,n)},Bd=(e,t,n,r)=>{n&&n.map((([n,r,i])=>{const o=Wd(e,n),s=Hd(t,i),a=qd(n);Eh.ael(o,r,s,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>Eh.rel(o,r,s,a)))}))},Hd=(e,t)=>n=>{try{ch.lazyLoad||e.$hostElement$[t](n)}catch(Yg){mh(Yg)}},Wd=(e,t)=>4&t?wh:8&t?bh:16&t?wh.body:e,qd=e=>xh?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */;const Kd=e("g","undefined"!=typeof window?window:void 0),Gd=e("d","undefined"!=typeof document?document:void 0);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let Qd;const Xd=(e,t,n)=>{const r=t.startsWith("animation")?(e=>{if(void 0===Qd){const t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;Qd=!t&&n?"-webkit-":""}return Qd})(e):"";e.style.setProperty(r+t,n)},Yd=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e};e("j",(e=>{let t,n,r,i,o,s,a,l,c,u,h,d=[],f=[],p=[],m=!1,g={},v=[],y=[],b={},w=0,k=!1,E=!1,x=!0,S=!1,_=!0,C=!1;const T=e,I=[],N=[],R=[],P=[],A=[],O=[],L=[],D=[],M=[],$=[],V=[],j="function"==typeof AnimationEffect||void 0!==Kd&&"function"==typeof Kd.AnimationEffect,U="function"==typeof Element&&"function"==typeof Element.prototype.animate&&j,F=()=>V,z=e=>{q(),e&&K()},B=(e,t)=>{const n=t.findIndex((t=>t.c===e));n>-1&&t.splice(n,1)},H=(e,t)=>(((null==t?void 0:t.oneTimeCallback)?N:I).push({c:e,o:t}),h),W=()=>(I.length=0,N.length=0,h),q=()=>{U&&(V.forEach((e=>{e.cancel()})),V.length=0)},K=()=>{O.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),O.length=0},G=()=>void 0!==o?o:a?a.getFill():"both",Q=()=>void 0!==l?l:void 0!==s?s:a?a.getDirection():"normal",X=()=>k?"linear":void 0!==r?r:a?a.getEasing():"linear",Y=()=>E?0:void 0!==c?c:void 0!==n?n:a?a.getDuration():0,J=()=>void 0!==i?i:a?a.getIterations():1,Z=()=>void 0!==u?u:void 0!==t?t:a?a.getDelay():0,ee=e=>{U&&F().forEach((t=>{const n=t.effect;if(n.setKeyframes)n.setKeyframes(e);else{const r=new KeyframeEffect(n.target,e,n.getTiming());t.effect=r}}))},te=()=>{0!==w&&(w--,0===w&&((()=>{M.forEach((e=>e())),$.forEach((e=>e()));const e=x?1:0,t=v,n=y,r=b;P.forEach((e=>{const i=e.classList;t.forEach((e=>i.add(e))),n.forEach((e=>i.remove(e)));for(const t in r)r.hasOwnProperty(t)&&Xd(e,t,r[t])})),c=void 0,l=void 0,u=void 0,I.forEach((t=>t.c(e,h))),N.forEach((t=>t.c(e,h))),N.length=0,_=!0,x&&(S=!0),x=!0})(),a&&a.animationFinish()))},ne=()=>{(()=>{L.forEach((e=>e())),D.forEach((e=>e()));const e=f,t=p,n=g;P.forEach((r=>{const i=r.classList;e.forEach((e=>i.add(e))),t.forEach((e=>i.remove(e)));for(const e in n)n.hasOwnProperty(e)&&Xd(r,e,n[e])}))})(),d.length>0&&U&&(P.forEach((e=>{const t=e.animate(d,{id:T,delay:Z(),duration:Y(),easing:X(),iterations:J(),fill:G(),direction:Q()});t.pause(),V.push(t)})),V.length>0&&(V[0].onfinish=()=>{te()})),m=!0},re=e=>{e=Math.min(Math.max(e,0),.9999),U&&V.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+Y()*e,t.pause()}))},ie=e=>{V.forEach((e=>{e.effect.updateTiming({delay:Z(),duration:Y(),easing:X(),iterations:J(),fill:G(),direction:Q()})})),void 0!==e&&re(e)},oe=(e=!1,t=!0,n)=>(e&&A.forEach((r=>{r.update(e,t,n)})),U&&ie(n),h),se=()=>{m&&(U?V.forEach((e=>{e.pause()})):P.forEach((e=>{Xd(e,"animation-play-state","paused")})),C=!0)},ae=e=>new Promise((t=>{(null==e?void 0:e.sync)&&(E=!0,H((()=>E=!1),{oneTimeCallback:!0})),m||ne(),S&&(U&&(re(0),ie()),S=!1),_&&(w=A.length+1,_=!1);const n=()=>{B(r,N),t()},r=()=>{B(n,R),t()};H(r,{oneTimeCallback:!0}),((e,t)=>{R.push({c:e,o:t})})(n,{oneTimeCallback:!0}),A.forEach((e=>{e.play()})),U?(V.forEach((e=>{e.play()})),0!==d.length&&0!==P.length||te()):te(),C=!1})),le=(e,t)=>{const n=d[0];return void 0===n||void 0!==n.offset&&0!==n.offset?d=[{offset:0,[e]:t},...d]:n[e]=t,h};return h={parentAnimation:a,elements:P,childAnimations:A,id:T,animationFinish:te,from:le,to:(e,t)=>{const n=d[d.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?d=[...d,{offset:1,[e]:t}]:n[e]=t,h},fromTo:(e,t,n)=>le(e,t).to(e,n),parent:e=>(a=e,h),play:ae,pause:()=>(A.forEach((e=>{e.pause()})),se(),h),stop:()=>{A.forEach((e=>{e.stop()})),m&&(q(),m=!1),k=!1,E=!1,_=!0,l=void 0,c=void 0,u=void 0,w=0,S=!1,x=!0,C=!1,R.forEach((e=>e.c(0,h))),R.length=0},destroy:e=>(A.forEach((t=>{t.destroy(e)})),z(e),P.length=0,A.length=0,d.length=0,W(),m=!1,_=!0,h),keyframes:e=>{const t=d!==e;return d=e,t&&ee(d),h},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(h),A.push(t);else e.parent(h),A.push(e);return h},addElement:e=>{if(null!=e)if(1===e.nodeType)P.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)P.push(e[t]);else console.error("Invalid addElement value");return h},update:oe,fill:e=>(o=e,oe(!0),h),direction:e=>(s=e,oe(!0),h),iterations:e=>(i=e,oe(!0),h),duration:e=>(U||0!==e||(e=1),n=e,oe(!0),h),easing:e=>(r=e,oe(!0),h),delay:e=>(t=e,oe(!0),h),getWebAnimations:F,getKeyframes:()=>d,getFill:G,getDirection:Q,getDelay:Z,getIterations:J,getEasing:X,getDuration:Y,afterAddRead:e=>(M.push(e),h),afterAddWrite:e=>($.push(e),h),afterClearStyles:(e=[])=>{for(const t of e)b[t]="";return h},afterStyles:(e={})=>(b=e,h),afterRemoveClass:e=>(y=Yd(y,e),h),afterAddClass:e=>(v=Yd(v,e),h),beforeAddRead:e=>(L.push(e),h),beforeAddWrite:e=>(D.push(e),h),beforeClearStyles:(e=[])=>{for(const t of e)g[t]="";return h},beforeStyles:(e={})=>(g=e,h),beforeRemoveClass:e=>(p=Yd(p,e),h),beforeAddClass:e=>(f=Yd(f,e),h),onFinish:H,isRunning:()=>0!==w&&!C,progressStart:(e=!1,t)=>(A.forEach((n=>{n.progressStart(e,t)})),se(),k=e,m||ne(),oe(!1,!0,t),h),progressStep:e=>(A.forEach((t=>{t.progressStep(e)})),re(e),h),progressEnd:(e,t,n)=>(k=!1,A.forEach((r=>{r.progressEnd(e,t,n)})),void 0!==n&&(c=n),S=!1,x=!0,0===e?(l="reverse"===Q()?"normal":"reverse","reverse"===l&&(x=!1),U?(oe(),re(1-t)):(u=(1-t)*Y()*-1,oe(!1,!1))):1===e&&(U?(oe(),re(t)):(u=t*Y()*-1,oe(!1,!1))),void 0===e||a||ae(),h)}}));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
class Jd{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const Zd=new Jd,ef=(e,t)=>("string"==typeof e&&(t=e,e=void 0),(e=>tf(e))(e).includes(t)),tf=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=nf(e),t.forEach((t=>e.document.documentElement.classList.add(`plt-${t}`)))),t},nf=e=>{const t=Zd.get("platform");return Object.keys(df).filter((n=>{const r=null==t?void 0:t[n];return"function"==typeof r?r(e):df[n](e)}))},rf=e=>!!uf(e,/iPad/i)||!(!uf(e,/Macintosh/i)||!sf(e)),of=e=>uf(e,/android|sink/i),sf=e=>hf(e,"(any-pointer:coarse)"),af=e=>lf(e)||cf(e),lf=e=>!!(e.cordova||e.phonegap||e.PhoneGap),cf=e=>{const t=e.Capacitor;return!!(null==t?void 0:t.isNative)},uf=(e,t)=>t.test(e.navigator.userAgent),hf=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},df={ipad:rf,iphone:e=>uf(e,/iPhone/i),ios:e=>uf(e,/iPhone|iPod/i)||rf(e),android:of,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return rf(e)||(e=>of(e)&&!uf(e,/mobile/i))(e)||r>460&&r<820&&i>780&&i<1400},cordova:lf,capacitor:cf,electron:e=>uf(e,/electron/i),pwa:e=>{var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:sf,mobileweb:e=>sf(e)&&!af(e),desktop:e=>!sf(e),hybrid:af},ff=e=>e&&(e=>fh(e).$modeName$)(e)||void 0,pf=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),mf=e("a",((e,t)=>{e.componentOnReady?e.componentOnReady().then((e=>t(e))):bf((()=>t(e)))})),gf=e=>void 0!==e.componentOnReady,vf=(e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n},yf=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],bf=(e("b",((e,t,n,r)=>{var i;if("undefined"!=typeof window){const o=window,s=null===(i=null==o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(s){const i=s.get("_ael");if(i)return i(e,t,n,r);if(s._ael)return s._ael(e,t,n,r)}}return e.addEventListener(t,n,r)})),e("e",((e,t,n,r)=>{var i;if("undefined"!=typeof window){const o=window,s=null===(i=null==o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(s){const i=s.get("_rel");if(i)return i(e,t,n,r);if(s._rel)return s._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)})),e("h",(e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)))),wf=(e("c",((e,t,n)=>Math.max(e,Math.min(t,n)))),(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}}),kf=(e("p",(e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}})),(e,t)=>{if(null!=e||(e={}),null!=t||(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n){if(!(r in t))return!1;if(e[r]!==t[r])return!1}return!0}),Ef="ionViewWillLeave",xf="ionViewDidLeave",Sf="ionViewWillUnload",_f=e=>{e.tabIndex=-1,e.focus()},Cf=e=>null!==e.offsetParent,Tf="ion-last-focus",If={saveViewFocus:e=>{if(Zd.get("focusManagerPriority",!1)){const t=document.activeElement;null!==t&&(null==e?void 0:e.contains(t))&&t.setAttribute(Tf,"true")}},setViewFocus:e=>{const t=Zd.get("focusManagerPriority",!1);if(Array.isArray(t)&&!e.contains(document.activeElement)){const n=e.querySelector(`[${Tf}]`);if(n&&Cf(n))return void _f(n);for(const r of t)switch(r){case"content":const t=e.querySelector('main, [role="main"]');if(t&&Cf(t))return void _f(t);break;case"heading":const n=e.querySelector('h1, [role="heading"][aria-level="1"]');if(n&&Cf(n))return void _f(n);break;case"banner":const i=e.querySelector('header, [role="banner"]');if(i&&Cf(i))return void _f(i);break;default:pf(`Unrecognized focus manager priority value ${r}`)}_f(e)}}},Nf=e=>new Promise(((t,n)=>{Oh((()=>{Rf(e),Pf(e).then((n=>{n.animation&&n.animation.destroy(),Af(e),t(n)}),(t=>{Af(e),n(t)}))}))})),Rf=e=>{const t=e.enteringEl,n=e.leavingEl;If.saveViewFocus(n),Hf(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),Bf(t,!1),t.style.setProperty("pointer-events","none"),n&&(Bf(n,!1),n.style.setProperty("pointer-events","none"))},Pf=async e=>{const t=await Of(e);return t&&hh?Lf(t,e):Df(e)},Af=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),If.setViewFocus(t)},Of=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await lh((()=>t.import("./ios.transition-legacy-DpgcQ155.js")))).iosTransitionAnimation:(await lh((()=>t.import("./md.transition-legacy-DKdrrTAe.js")))).mdTransitionAnimation},Lf=async(e,t)=>{await Mf(t,!0);const n=e(t.baseEl,t);jf(t.enteringEl,t.leavingEl);const r=await Vf(n,t);return t.progressCallback&&t.progressCallback(void 0),r&&Uf(t.enteringEl,t.leavingEl),{hasCompleted:r,animation:n}},Df=async e=>{const t=e.enteringEl,n=e.leavingEl,r=Zd.get("focusManagerPriority",!1);return await Mf(e,r),jf(t,n),Uf(t,n),{hasCompleted:!0}},Mf=async(e,t)=>{(void 0!==e.deepWait?e.deepWait:t)&&await Promise.all([zf(e.enteringEl),zf(e.leavingEl)]),await $f(e.viewIsReady,e.enteringEl)},$f=async(e,t)=>{e&&await e(t)},Vf=(e,t)=>{const n=t.progressCallback,r=new Promise((t=>{e.onFinish((e=>t(1===e)))}));return n?(e.progressStart(!0),n(e)):e.play(),r},jf=(e,t)=>{Ff(t,Ef),Ff(e,"ionViewWillEnter")},Uf=(e,t)=>{Ff(e,"ionViewDidEnter"),Ff(t,xf)},Ff=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},zf=async e=>{const t=e;if(t){if(null!=t.componentOnReady){if(null!=await t.componentOnReady())return}else if(null!=t.__registerHost){const e=new Promise((e=>bf(e)));return void(await e)}await Promise.all(Array.from(t.children).map(zf))}},Bf=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},Hf=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},Wf=(e("k",(e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e})),(e,t,n,r,i)=>Kf(e[1],t[1],n[1],r[1],i).map((i=>qf(e[0],t[0],n[0],r[0],i)))),qf=(e,t,n,r,i)=>i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3),Kf=(e,t,n,r,i)=>Gf((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter((e=>e>=0&&e<=1)),Gf=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const i=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];const s=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===s)return[Math.pow(o/2,.5)-t/3];if(s>0)return[Math.pow(-o/2+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-t/3];const a=Math.sqrt(Math.pow(-i/3,3)),l=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]},Qf=(e,t)=>null!==t.closest(e),Xf=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,Yf=()=>Zd.get("experimentalCloseWatcher",!1)&&void 0!==Kd&&"CloseWatcher"in Kd,Jf=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:99,OVERLAY_BACK_BUTTON_PRIORITY:100,blockHardwareBackButton:()=>{document.addEventListener("backbutton",(()=>{}))},shouldUseCloseWatcher:Yf,startHardwareBackButton:()=>{const e=document;let t=!1;const n=()=>{if(t)return;let n=0,r=[];const i=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){r.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(i);const o=()=>{if(r.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach((t=>{t.priority>=e.priority&&(e=t)})),t=!0,r=r.filter((t=>t.id!==e.id)),(async e=>{try{if(null==e?void 0:e.handler){const t=e.handler(o);null!=t&&await t}}catch(Yg){console.error(Yg)}})(e).then((()=>t=!1))}};o()};if(Yf()){let e;const t=()=>{null==e||e.destroy(),e=new Kd.CloseWatcher,e.onclose=()=>{n(),t()}};t()}else e.addEventListener("backbutton",n)}},Symbol.toStringTag,{value:"Module"})),Zf=async(e,t,n,r,i,o)=>{var s;if(e)return e.attachViewToDom(t,n,i,r);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof n?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(n):n;return r&&r.forEach((e=>a.classList.add(e))),i&&Object.assign(a,i),t.appendChild(a),await new Promise((e=>mf(a,e))),a};function ep(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const tp=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise((n=>{Ah((()=>{const r=this.el.getBoundingClientRect(),i=r.width,o=r.height,s=Math.sqrt(i*i+o*o),a=Math.max(o,i),l=this.unbounded?a:s+rp,c=Math.floor(a*ip),u=l/c;let h=e-r.left,d=t-r.top;this.unbounded&&(h=.5*i,d=.5*o);const f=h-.5*c,p=d-.5*c,m=.5*i-h,g=.5*o-d;Oh((()=>{const e=document.createElement("div");e.classList.add("ripple-effect");const t=e.style;t.top=p+"px",t.left=f+"px",t.width=t.height=c+"px",t.setProperty("--final-scale",`${u}`),t.setProperty("--translate-end",`${m}px, ${g}px`),(this.el.shadowRoot||this.el).appendChild(e),setTimeout((()=>{n((()=>{np(e)}))}),325)}))}))}))}get unbounded(){return"unbounded"===this.type}render(){const e=ff(this);return Hh(qh,{key:"7ae559bda5d2c1856a45bfa150c2cb4f83373f8e",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),np=e=>{e.classList.add("fade-out"),setTimeout((()=>{e.remove()}),200)},rp=10,ip=.5,op="undefined"!=typeof window?window:void 0;op&&op.CSS&&op.CSS.supports&&op.CSS.supports("--a: 0");
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const sp=e("i",(e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),ap=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Xh(this,"ionScrollStart",7),this.ionScroll=Xh(this,"ionScroll",7),this.ionScrollEnd=Xh(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=(e=>vf(e,yf))(this.el)}connectedCallback(){if(this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal"),gf(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");null!==e&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),gf(this.el)){const{tabsElement:e,tabsLoadCallback:t}=this;null!==e&&void 0!==t&&e.removeEventListener("ionTabBarLoaded",t),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout((()=>{null!==this.el.offsetParent&&this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=ff(this);return void 0===e?"ios"===t&&ef("ios"):e}resize(){this.fullscreen?Ah((()=>this.readDimensions())):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,Md(this))}readDimensions(){const e=lp(this.el),t=Math.max(this.el.offsetTop,0),n=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||n!==this.cBottom)&&(this.cTop=t,this.cBottom=n,Md(this))}onScroll(e){const t=Date.now(),n=!this.isScrolling;this.lastScroll=t,n&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Ah((t=>{this.queued=!1,this.detail.event=e,cp(this.detail,this.scrollEl,t,n),this.ionScroll.emit(this.detail)})))}async getScrollElement(){return this.scrollEl||await new Promise((e=>mf(this.el,e))),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise((e=>mf(this.el,e))),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),n=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,n,e)}async scrollByPoint(e,t,n){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,t+r.scrollTop,n)}async scrollToPoint(e,t,n=0){const r=await this.getScrollElement();if(n<32)return null!=t&&(r.scrollTop=t),void(null!=e&&(r.scrollLeft=e));let i,o=0;const s=new Promise((e=>i=e)),a=r.scrollTop,l=r.scrollLeft,c=null!=t?t-a:0,u=null!=e?e-l:0,h=e=>{const t=Math.min(1,(e-o)/n)-1,s=Math.pow(t,3)+1;0!==c&&(r.scrollTop=Math.floor(s*c+a)),0!==u&&(r.scrollLeft=Math.floor(s*u+l)),s<1?requestAnimationFrame(h):i()};return requestAnimationFrame((e=>{o=e,h(e)})),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()}),100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:t,isMainContent:n,scrollX:r,scrollY:i,el:o}=this,s=sp(o)?"rtl":"ltr",a=ff(this),l=this.shouldForceOverscroll(),c="ios"===a;return this.resize(),Hh(qh,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:n?"main":void 0,class:Xf(this.color,{[a]:!0,"content-sizing":Qf("ion-popover",this.el),overscroll:l,[`content-${s}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},t),Hh("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:e=>this.backgroundContentEl=e,id:"background-content",part:"background"}),"before"===e?Hh("slot",{name:"fixed"}):null,Hh("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":r,"scroll-y":i,overscroll:(r||i)&&l},ref:e=>this.scrollEl=e,onScroll:this.scrollEvents?e=>this.onScroll(e):void 0,part:"scroll"},Hh("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),c?Hh("div",{class:"transition-effect"},Hh("div",{class:"transition-cover"}),Hh("div",{class:"transition-shadow"})):null,"after"===e?Hh("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),lp=e=>{const t=e.closest("ion-tabs");if(t)return t;const n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||(e=>{var t;return e.parentElement?e.parentElement:(null===(t=e.parentNode)||void 0===t?void 0:t.host)?e.parentNode.host:null})(e)},cp=(e,t,n,r)=>{const i=e.currentX,o=e.currentY,s=e.currentTime,a=t.scrollLeft,l=t.scrollTop,c=n-s;if(r&&(e.startTime=n,e.startX=a,e.startY=l,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=a,e.currentY=e.scrollTop=l,e.deltaX=a-e.startX,e.deltaY=l-e.startY,c>0&&c<100){const t=(a-i)/c,n=(l-o)/c;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*n+.3*e.velocityY}},up=function(){"undefined"!=typeof customElements&&["ion-content"].forEach((e=>{"ion-content"===e&&(customElements.get(e)||customElements.define(e,ap))}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var hp,dp;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(hp||(hp={})),e("f",dp),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(dp||e("f",dp={}));const fp=e("K",{getEngine(){const e=(()=>{if(void 0!==Kd)return Kd.Capacitor})();if(null==e?void 0:e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return(null==e?void 0:e.getResizeMode)?e.getResizeMode().catch((e=>{if(e.code!==hp.Unimplemented)throw e})):Promise.resolve(void 0)}}),pp=e=>{if(void 0===Gd||e===dp.None||void 0===e)return null;const t=Gd.querySelector("ion-app");return null!=t?t:Gd.body},mp=e=>{const t=pp(e);return null===t?0:t.clientHeight};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */class gp{constructor(e,t){this.component=e,this.params=t,this.state=1}async init(e){if(this.state=2,!this.element){const t=this.component;this.element=await Zf(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){wf(3!==this.state,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}const vp=(e,t,n)=>!!e&&e.component===t&&kf(e.params,n),yp=(e,t)=>e?e instanceof gp?e:new gp(e,t):null,bp=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Xh(this,"ionNavWillLoad",7),this.ionNavWillChange=Xh(this,"ionNavWillChange",3),this.ionNavDidChange=Xh(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&!1!==this.didLoad&&(this.useRouter||void 0!==this.root&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){const e=ff(this);this.swipeGesture=Zd.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await lh((()=>t.import("./swipe-back-legacy-CkTjs97F.js")))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ff(e.element,Sf),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,n,r){return this.insert(-1,e,t,n,r)}insert(e,t,n,r,i){return this.insertPages(e,[{component:t,componentProps:n}],r,i)}insertPages(e,t,n,r){return this.queueTrns({insertStart:e,insertViews:t,opts:n},r)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,n){const r={removeStart:-1,removeCount:-1,opts:t};return"object"==typeof e&&e.component?(r.removeView=e,r.removeStart=1):"number"==typeof e&&(r.removeStart=e+1),this.queueTrns(r,n)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,n,r){return this.queueTrns({removeStart:e,removeCount:t,opts:n},r)}setRoot(e,t,n,r){return this.setPages([{component:e,componentProps:t}],n,r)}setPages(e,t,n){return null!=t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},n)}setRouteId(e,t,n,r){const i=this.getActiveSync();if(vp(i,e,t))return Promise.resolve({changed:!1,element:i.element});let o;const s=new Promise((e=>o=e));let a;const l={updateURL:!1,viewIsReady:e=>{let t;const n=new Promise((e=>t=e));return o({changed:!0,element:e,markVisible:async()=>{t(),await a}}),n}};if("root"===n)a=this.setRoot(e,t,l);else{const i=this.views.find((n=>vp(n,e,t)));i?a=this.popTo(i,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:r})):"forward"===n?a=this.push(e,t,Object.assign(Object.assign({},l),{animationBuilder:r})):"back"===n&&(a=this.setRoot(e,t,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:r})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!(!e||!this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,n=t.indexOf(e);return n>0?t[n-1]:void 0}async queueTrns(e,t){var n,r;if(this.isTransitioning&&(null===(n=e.opts)||void 0===n?void 0:n.skipIfBusy))return!1;const i=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));if(e.done=t,e.opts&&!1!==e.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const n=await t.canTransition();if(!1===n)return!1;if("string"==typeof n)return t.push(n,e.opts.direction||"back"),!1}}return 0===(null===(r=e.insertViews)||void 0===r?void 0:r.length)&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),i}success(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const n="back"===e.direction?"back":"forward";t.navChanged(n)}}}failed(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),n=this.getEnteringView(e,t);if(!t&&!n)throw new Error("no views in the stack to be removed");n&&1===n.state&&await n.init(this.el),this.postViewInit(n,t,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&n!==t;let i;r&&e.opts&&t&&("back"===e.opts.direction&&(e.opts.animationBuilder=e.opts.animationBuilder||(null==n?void 0:n.animationBuilder)),t.animationBuilder=e.opts.animationBuilder),i=r?await this.transition(n,t,e):{hasCompleted:!0,requiresTransition:!1},this.success(i,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,n,r;const i=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(n=(r=e.opts).delegate)&&void 0!==n||(r.delegate=this.delegate),void 0!==e.removeView){wf(void 0!==e.removeStart,"removeView needs removeStart"),wf(void 0!==e.removeCount,"removeView needs removeCount");const t=this.views.indexOf(e.removeView);if(t<0)throw new Error("removeView was not found");e.removeStart+=t}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=i-1),e.removeCount<0&&(e.removeCount=i-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===i),e.insertViews&&((e.insertStart<0||e.insertStart>i)&&(e.insertStart=i),e.enteringRequiresTransition=e.insertStart===i);const o=e.insertViews;if(!o)return;wf(o.length>0,"length can not be zero");const s=o.map((e=>e instanceof gp?e:"component"in e?yp(e.component,null===e.componentProps?void 0:e.componentProps):yp(e,void 0))).filter((e=>null!==e));if(0===s.length)throw new Error("invalid views to insert");for(const a of s){a.delegate=e.opts.delegate;const t=a.nav;if(t&&t!==this)throw new Error("inserted view was already inserted");if(3===a.state)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const n=e.insertViews;if(void 0!==n)return n[n.length-1];const r=e.removeStart;if(void 0!==r){const n=this.views,i=r+e.removeCount;for(let e=n.length-1;e>=0;e--){const o=n[e];if((e<r||e>=i)&&o!==t)return o}}}postViewInit(e,t,n){var r,i,o;wf(t||e,"Both leavingView and enteringView are null"),wf(n.resolve,"resolve must be valid"),wf(n.reject,"reject must be valid");const s=n.opts,{insertViews:a,removeStart:l,removeCount:c}=n;let u;if(void 0!==l&&void 0!==c){wf(l>=0,"removeStart can not be negative"),wf(c>=0,"removeCount can not be negative"),u=[];for(let n=l;n<l+c;n++){const r=this.views[n];void 0!==r&&r!==e&&r!==t&&u.push(r)}null!==(r=s.direction)&&void 0!==r||(s.direction="back")}const h=this.views.length+(null!==(i=null==a?void 0:a.length)&&void 0!==i?i:0)-(null!=c?c:0);if(wf(h>=0,"final balance can not be negative"),0===h)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(a){let e=n.insertStart;for(const t of a)this.insertViewAt(t,e),e++;n.enteringRequiresTransition&&(null!==(o=s.direction)&&void 0!==o||(s.direction="forward"))}if(u&&u.length>0){for(const e of u)Ff(e.element,Ef),Ff(e.element,xf),Ff(e.element,Sf);for(const e of u)this.destroyView(e)}}async transition(e,t,n){const r=n.opts,i=r.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.sbAni=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0,o=ff(this),s=e.element,a=t&&t.element,l=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:i,animated:this.animated&&Zd.getBoolean("animated",!0),enteringEl:s,leavingEl:a},r),{animationBuilder:r.animationBuilder||this.animation||Zd.get("navAnimation")}),{hasCompleted:c}=await Nf(l);return this.transitionFinish(c,e,t,r)}transitionFinish(e,t,n,r){const i=e?t:n;return i&&this.unmountInactiveViews(i),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:n,direction:r.direction}}insertViewAt(e,t){const n=this.views,r=n.indexOf(e);r>-1?(wf(e.nav===this,"view is not part of the nav"),n.splice(r,1),n.splice(t,0,e)):(wf(!e.nav,"nav is used"),e.nav=this,n.splice(t,0,e))}removeView(e){wf(2===e.state||3===e.state,"view state should be loaded or destroyed");const t=this.views,n=t.indexOf(e);wf(n>-1,"view must be part of the stack"),n>=0&&t.splice(n,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,n=t.indexOf(e);for(let r=t.length-1;r>=0;r--){const e=t[r],i=e.element;i&&(r>n?(Ff(i,Sf),this.destroyView(e)):r<n&&Bf(i,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,n){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=Wf([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Wf([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,r,n)}else this.gestureOrAnimationInProgress=!1}render(){return Hh("slot",{key:"dfe98cb6604a2015a49f41beffebdd2da957dfff"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]),wp=function(){"undefined"!=typeof customElements&&["ion-nav"].forEach((e=>{"ion-nav"===e&&(customElements.get(e)||customElements.define(e,bp))}))},kp=zd(class extends kh{constructor(){super(),this.__registerHost()}componentDidLoad(){xp((async()=>{const e=ef(window,"hybrid");if(Zd.getBoolean("_testing")||lh((()=>t.import("./index9-legacy-DqBCEnbA.js"))).then((e=>e.startTapClick(Zd))),Zd.getBoolean("statusTap",e)&&lh((()=>t.import("./status-tap-legacy-CpDibNaj.js"))).then((e=>e.startStatusTap())),Zd.getBoolean("inputShims",Ep())){const e=ef(window,"ios")?"ios":"android";lh((()=>t.import("./input-shims-legacy-DRQj4sj3.js"))).then((t=>t.startInputShims(Zd,e)))}const n=await lh((()=>Promise.resolve().then((()=>Jf)))),r=e||Yf();Zd.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(Yf()&&pf("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),"undefined"!=typeof window&&lh((()=>t.import("./keyboard2-legacy-BMMLOiuz.js"))).then((e=>e.startKeyboardAssist(window))),lh((()=>t.import("./focus-visible-legacy-CdO5cX4I.js"))).then((e=>this.focusVisible=e.startFocusVisible()))}))}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=ff(this);return Hh(qh,{key:"96715520fd05d6f0e6fa26a8ba78792cfccd4c0a",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Zd.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),Ep=()=>!(!ef(window,"ios")||!ef(window,"mobile"))||!(!ef(window,"android")||!ef(window,"mobileweb")),xp=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)},Sp=function(){"undefined"!=typeof customElements&&["ion-app"].forEach((e=>{"ion-app"===e&&(customElements.get(e)||customElements.define(e,kp))}))},_p=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Xh(this,"ionNavWillLoad",7),this.ionNavWillChange=Xh(this,"ionNavWillChange",3),this.ionNavDidChange=Xh(this,"ionNavDidChange",3),this.lockController=(()=>{let e;return{lock:async()=>{const t=e;let n;return e=new Promise((e=>n=e)),void 0!==t&&await t,n}}})(),this.gestureOrAnimationInProgress=!1,this.mode=ff(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await lh((()=>t.import("./swipe-back-legacy-CkTjs97F.js")))).createSwipeBackGesture(this.el,(()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart()),(()=>e()),(e=>{var t;return null===(t=this.ani)||void 0===t?void 0:t.progressStep(e)}),((e,t,n)=>{if(this.ani){this.ani.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=Wf([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Wf([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.ani.progressEnd(e?1:0,r,n)}else this.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,n){const r=await this.lockController.lock();let i=!1;try{i=await this.transition(e,t,n)}catch(Yg){console.error(Yg)}return r(),i}async setRouteId(e,t,n,r){return{changed:await this.setRoot(e,t,{duration:"root"===n?0:void 0,direction:"back"===n?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,n){if(this.activeComponent===e&&kf(t,this.activeParams))return!1;const r=this.activeEl,i=await Zf(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=i,this.activeParams=t,await this.commit(i,r,n),await((e,t)=>{if(t){if(e){const n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()})(this.delegate,r),!0}async transition(e,t,n={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:i}=this,o=this.animated&&Zd.getBoolean("animated",!0),s=n.animationBuilder||this.animation||Zd.get("navAnimation");return await Nf(Object.assign(Object.assign({mode:i,animated:o,enteringEl:e,leavingEl:t,baseEl:r,deepWait:gf(r),progressCallback:n.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.ani=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},n),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}render(){return Hh("slot",{key:"a70341f58d19df55de1dad00e3464388e446aa2a"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]),Cp=function(){"undefined"!=typeof customElements&&["ion-router-outlet"].forEach((e=>{"ion-router-outlet"===e&&(customElements.get(e)||customElements.define(e,_p))}))},Tp=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Xh(this,"ionTabBarChanged",7),this.ionTabBarLoaded=Xh(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await(async e=>{let t,n,r,i;const o=async()=>{const e=await fp.getResizeMode(),o=void 0===e?void 0:e.mode;t=()=>{void 0===i&&(i=mp(o)),r=!0,s(r,o)},n=()=>{r=!1,s(r,o)},null==Kd||Kd.addEventListener("keyboardWillShow",t),null==Kd||Kd.addEventListener("keyboardWillHide",n)},s=(t,n)=>{e&&e(t,a(n))},a=e=>{if(0===i||i===mp(e))return;const t=pp(e);return null!==t?new Promise((e=>{const n=new ResizeObserver((()=>{t.clientHeight===i&&(n.disconnect(),e())}));n.observe(t)})):void 0};return await o(),{init:o,destroy:()=>{null==Kd||Kd.removeEventListener("keyboardWillShow",t),null==Kd||Kd.removeEventListener("keyboardWillHide",n),t=n=void 0},isKeyboardVisible:()=>r}})((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:t,keyboardVisible:n}=this,r=ff(this),i=n&&"top"!==this.el.getAttribute("slot");return Hh(qh,{key:"a87fd2ea5df053705a37ea7ffec043e75c4a9907",role:"tablist","aria-hidden":i?"true":null,class:Xf(e,{[r]:!0,"tab-bar-translucent":t,"tab-bar-hidden":i})},Hh("slot",{key:"81a6223299b6cab29d7ddced590e9152e2b3ded0"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}"}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]),Ip=function(){"undefined"!=typeof customElements&&["ion-tab-bar"].forEach((e=>{"ion-tab-bar"===e&&(customElements.get(e)||customElements.define(e,Tp))}))},Np=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Xh(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{"Enter"!==e.key&&" "!==e.key||this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,n=this.el.parentElement;(e.composedPath().includes(n)||(null==t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},vf(this.el,["aria-label"])),void 0===this.layout&&(this.layout=Zd.get("tabButtonLayout","icon-top"))}selectTab(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:n,href:r,rel:i,target:o,layout:s,selected:a,tab:l,inheritedAttributes:c}=this,u=ff(this),h={download:this.download,href:r,rel:i,target:o};return Hh(qh,{key:"5976c45943ea7ea8e7c1a85fc9996de421439f08",onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==l?`tab-button-${l}`:null,class:{[u]:!0,"tab-selected":a,"tab-disabled":e,"tab-has-label":n,"tab-has-icon":t,"tab-has-label-only":n&&!t,"tab-has-icon-only":t&&!n,[`tab-layout-${s}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Hh("a",Object.assign({key:"1db09d861b67ff292018fb4b0dc7b85bd4677eb8"},h,{class:"button-native",part:"native",role:"tab","aria-selected":a?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},c),Hh("span",{key:"4381eafcb27e8c7bb0d86d4f115ceb0caf03b9b4",class:"button-inner"},Hh("slot",{key:"1981135f6fbb88376c1bd923c55c70fe8b5c5159"})),"md"===u&&Hh("ion-ripple-effect",{key:"0509bc7155d055d1ed710600e9cf4df135881491",type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]),Rp=function(){"undefined"!=typeof customElements&&["ion-tab-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Np);break;case"ion-ripple-effect":customElements.get(e)||"undefined"!=typeof customElements&&["ion-ripple-effect"].forEach((e=>{"ion-ripple-effect"===e&&(customElements.get(e)||customElements.define(e,tp))}))}}))};let Pp;const Ap=(e,t)=>{const n=(()=>{if("undefined"==typeof window)return new Map;if(!Pp){const e=window;e.Ionicons=e.Ionicons||{},Pp=e.Ionicons.map=e.Ionicons.map||new Map}return Pp})().get(e);if(n)return n;try{return(e=>{const t=new URL(e,Eh.$resourcesUrl$);return t.origin!==bh.location.origin?t.href:t.pathname})(`svg/${e}.svg`)}catch(Yg){console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},Op=(e,t,n,r,i)=>(n="ios"===(n&&$p(n))?"ios":"md",r&&"ios"===n?e=$p(r):i&&"md"===n?e=$p(i):(e||!t||Dp(t)||(e=t),Mp(e)&&(e=$p(e))),Mp(e)&&""!==e.trim()?""!==e.replace(/[a-z]|-|\d/gi,"")?null:e:null),Lp=e=>Mp(e)&&(e=e.trim(),Dp(e))?e:null,Dp=e=>e.length>0&&/(\/|\.)/.test(e),Mp=e=>"string"==typeof e,$p=e=>e.toLowerCase(),Vp=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(Mp(n)&&0===n.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!Vp(e.childNodes[t]))return!1}return!0},jp=new Map,Up=new Map;let Fp;const zp=(e,t)=>{let n=Up.get(e);if(!n){if("undefined"==typeof fetch||"undefined"==typeof document)return jp.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){Fp||(Fp=new DOMParser);const t=Fp.parseFromString(e,"text/html").querySelector("svg");return t&&jp.set(e,t.outerHTML),Promise.resolve()}n=fetch(e).then((n=>{if(n.ok)return n.text().then((n=>{n&&!1!==t&&(n=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let r=t.childNodes.length-1;r>=0;r--)"svg"!==t.childNodes[r].nodeName.toLowerCase()&&t.removeChild(t.childNodes[r]);const n=t.firstElementChild;if(n&&"svg"===n.nodeName.toLowerCase()){const e=n.getAttribute("class")||"";if(n.setAttribute("class",(e+" s-ion-icon").trim()),Vp(n))return t.innerHTML}return""})(n)),jp.set(e,n||"")}));jp.set(e,"")})),Up.set(e,n)}return n},Bp=zd(class extends kh{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Hp(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const n={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,n){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(r.disconnect(),this.io=void 0,n())}),{rootMargin:t});r.observe(e)}else n()}loadIcon(){if(this.isVisible){const e=(e=>{let t=Lp(e.src);if(t)return t;if(t=Op(e.name,e.icon,e.mode,e.ios,e.md),t)return Ap(t,e);if(e.icon){if(t=Lp(e.icon),t)return t;if(t=Lp(e.icon[e.mode]),t)return t}return null})(this);e&&(jp.has(e)?this.svgContent=jp.get(e):zp(e,this.sanitize).then((()=>this.svgContent=jp.get(e))),this.didLoadIcon=!0)}this.iconName=Op(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:n,el:r}=this,i=this.mode||"md",o=!!t&&(t.includes("arrow")||t.includes("chevron"))&&!1!==e,s=e||o;return Hh(qh,Object.assign({role:"img",class:Object.assign(Object.assign({[i]:!0},Wp(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(a=r,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},n),this.svgContent?Hh("div",{class:"icon-inner",innerHTML:this.svgContent}):Hh("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),Hp=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",Wp=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null,qp=function(){"undefined"!=typeof customElements&&["ion-icon"].forEach((e=>{"ion-icon"===e&&(customElements.get(e)||customElements.define(e,Bp))}))},Kp=B.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),Gp=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(e){if(e.id){const t=this.ionViewWillEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}teardownCallback(e,t){const n=t.filter((t=>t.id===e.id));0!==n.length&&(n.forEach((e=>{e&&"function"==typeof e.destructor&&e.destructor()})),t=t.filter((t=>t.id!==e.id)))}cleanupIonViewWillEnter(e){this.teardownCallback(e,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(e){this.teardownCallback(e,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(e){this.teardownCallback(e,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(e){this.teardownCallback(e,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewWillEnterDestructorCallbacks.push({id:e.id,destructor:t})}))}onIonViewDidEnter(e){if(e.id){const t=this.ionViewDidEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewDidEnterDestructorCallbacks.push({id:e.id,destructor:t})}))}onIonViewWillLeave(e){if(e.id){const t=this.ionViewWillLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:e.id,destructor:t})}))}onIonViewDidLeave(e){if(e.id){const t=this.ionViewDidLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach((e=>{const t=e();e.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:e.id,destructor:t})})),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(e){this.componentCanBeDestroyedCallback=e}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Qp=B.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:e=>{"undefined"!=typeof window&&("string"==typeof e?window.location.pathname=e:window.history.back())},navigate:e=>{"undefined"!=typeof window&&(window.location.pathname=e)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)},resetTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)}}),Xp=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),Yp=(e,t,n)=>{const r=t.className||t.class,i=n.className||n.class,o=em(e),s=em(r?r.split(" "):[]),a=em(i?i.split(" "):[]),l=[];return o.forEach((e=>{s.has(e)?(l.push(e),s.delete(e)):a.has(e)||l.push(e)})),s.forEach((e=>l.push(e))),l.join(" ")},Jp=e=>{if("undefined"==typeof document)return!0;{const t="on"+(e=>"doubleclick"===e?"dblclick":e)(e);let n=t in document;if(!n){const e=document.createElement("div");e.setAttribute(t,"return;"),n="function"==typeof e[t]}return n}},Zp=(e,t,n)=>{const r=e.__events||(e.__events={}),i=r[t];i&&e.removeEventListener(t,i),e.addEventListener(t,r[t]=function(e){n&&n.call(this,e)})},em=e=>{const t=new Map;return e.forEach((e=>t.set(e,e))),t},tm=(...e)=>t=>{e.forEach((e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)}))},nm=(e,t,n,r)=>{void 0!==r&&r();const i=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),o=class extends B.Component{constructor(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){((e,t,n={})=>{if(e instanceof Element){const r=Yp(e.classList,t,n);""!==r&&(e.className=r),Object.keys(t).forEach((n=>{if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){const r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);Jp(i)||Zp(e,i,t[n])}else e[n]=t[n],"string"==typeof t[n]&&e.setAttribute(Xp(n),t[n])}))}})(this.componentEl,this.props,e)}render(){const t=this.props,{children:n,forwardedRef:r,style:i,className:o,ref:s}=t,a=ep(t,["children","forwardedRef","style","className","ref"]);let l=Object.keys(a).reduce(((e,t)=>{const n=a[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const r=t.substring(2).toLowerCase();"undefined"!=typeof document&&Jp(r)&&(e[t]=n)}else{const r=typeof n;"string"!==r&&"boolean"!==r&&"number"!==r||(e[Xp(t)]=n)}return e}),{});const c=Object.assign(Object.assign({},l),{ref:tm(r,this.setComponentElRef),style:i});return z.createElement(e,c,n)}static get displayName(){return i}};return((e,t)=>{const n=(t,n)=>B.createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,B.forwardRef(n)})(o,i)},rm=nm("ion-content",0,0,up),im=(e,t)=>{const n=(t,n)=>B.createElement(e,Object.assign({},t,{forwardedRef:n}));return n.displayName=t,B.forwardRef(n)},om=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null},sm=B.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),am=({onAddOverlay:e,onRemoveOverlay:t})=>{const[n,r]=z.useState({}),i=z.useRef({});z.useEffect((()=>{e(o),t(s)}),[]);const o=(e,t,n)=>{const o=Object.assign({},i.current);o[e]={component:t,containerElement:n},i.current=o,r(o)},s=e=>{const t=Object.assign({},i.current);delete t[e],i.current=t,r(t)},a=Object.keys(n);return B.createElement(B.Fragment,null,a.map((e=>{const t=n[e];return oh.createPortal(t.component,t.containerElement,`overlay-${e}`)})))},lm=nm("ion-tab-button",0,0,Rp),cm=nm("ion-tab-bar",0,0,Ip),um=nm("ion-router-outlet",0,0,Cp),hm=nm("ion-app",0,0,Sp),dm=nm("ion-icon",0,0,qp),fm=(()=>class extends B.Component{constructor(e){super(e),this.ionContext={addOverlay:(e,t,n)=>{this.addOverlayCallback&&this.addOverlayCallback(e,t,n)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return B.createElement(sm.Provider,{value:this.ionContext},B.createElement(hm,Object.assign({},this.props),this.props.children),B.createElement(am,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}}))}static get displayName(){return"IonApp"}})(),pm=B.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class mm extends B.PureComponent{constructor(e){super(e),this.ionPageElementRef=B.createRef(),this.stableMergedRefs=tm(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:n,routeInfo:r,forwardedRef:i}=e,o=ep(e,["className","children","routeInfo","forwardedRef"]);return B.createElement(Kp.Consumer,null,(e=>(this.ionLifeCycleContext=e,B.createElement("div",Object.assign({className:t?`${t} ion-page`:"ion-page",ref:this.stableMergedRefs},o),n))))}static get contextType(){return pm}}class gm extends B.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:n,forwardedRef:r}=e,i=ep(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?B.createElement(mm,Object.assign({className:t?`${t}`:"",routeInfo:this.context.routeInfo,forwardedRef:r},i),n):B.createElement("div",Object.assign({className:t?`ion-page ${t}`:"ion-page",ref:r},i),n)}static get displayName(){return"IonPage"}static get contextType(){return Qp}}const vm=im(gm,"IonPage"),ym={main:0},bm=(e="main")=>{var t;const n=(null!==(t=ym[e])&&void 0!==t?t:0)+1;return ym[e]=n,n.toString()},wm=nm("ion-nav",0,0,wp);im((e=>{var{children:t,forwardedRef:n}=e,r=ep(e,["children","forwardedRef"]);const[i,o]=z.useState([]),s=e=>o((t=>[...t,e])),a=e=>o((t=>t.filter((t=>t!==e)))),l=z.useMemo((()=>((e,t)=>{const n=new WeakMap,r=`react-delegate-${bm()}`;let i=0;return{attachViewToDom:async(t,o,s,a)=>{const l=document.createElement("div");a&&l.classList.add(...a),t.appendChild(l);const c=o(s),u=`${r}-${i++}`,h=ih.createPortal(c,l,u);return n.set(l,h),e(h),Promise.resolve(l)},removeViewFromDom:(e,r)=>{const i=n.get(r);return i&&t(i),r.remove(),Promise.resolve()}}})(s,a)),[]);return B.createElement(wm,Object.assign({delegate:l,ref:n},r),i)}),"IonNav");const km=B.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:B.createRef()}}),Em="undefined"!=typeof HTMLElement?HTMLElement:class{};class xm extends B.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||mf(this.ionRouterOutlet,(()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:n,routeInfo:r}=e,i=ep(e,["StackManager","children","routeInfo"]);return B.createElement(Kp.Consumer,null,(e=>(this.ionLifeCycleContext=e,B.createElement(t,{routeInfo:r},B.createElement(um,Object.assign({setRef:e=>this.ionRouterOutlet=e},i),n)))))}static get contextType(){return pm}}class Sm extends B.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:n,forwardedRef:r}=t,i=ep(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?i.ionPage?B.createElement(xm,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},i),n):B.createElement(e,{routeInfo:this.context.routeInfo},B.createElement(um,Object.assign({},i,{forwardedRef:r}),n)):B.createElement(um,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return Qp}}const _m=im(Sm,"IonRouterOutlet");class Cm extends Em{constructor(){super()}}"undefined"!=typeof window&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Cm));const Tm=(()=>class extends B.Component{constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const e=ep(this.props,["onClick"]);return B.createElement(lm,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class Im extends B.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=e=>{};const t={};B.Children.forEach(e.children,(n=>{var r,i,o,s;null!=n&&"object"==typeof n&&n.props&&(n.type===Tm||n.type.isTabButton)&&(t[n.props.tab]={originalHref:n.props.href,currentHref:n.props.href,originalRouteOptions:n.props.href===(null===(r=e.routeInfo)||void 0===r?void 0:r.pathname)?null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions:void 0,currentRouteOptions:n.props.href===(null===(o=e.routeInfo)||void 0===o?void 0:o.pathname)?null===(s=e.routeInfo)||void 0===s?void 0:s.routeOptions:void 0})})),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,t=Object.keys(e).find((t=>{const n=e[t].originalHref;return this.props.routeInfo.pathname.startsWith(n)}));t&&this.setState({activeTab:t})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}static getDerivedStateFromProps(e,t){var n,r,i;const o=Object.assign({},t.tabs),s=Object.keys(t.tabs).find((n=>{const r=t.tabs[n].originalHref;return e.routeInfo.pathname.startsWith(r)}));B.Children.forEach(e.children,(e=>{if(null!=e&&"object"==typeof e&&e.props&&(e.type===Tm||e.type.isTabButton)){const t=o[e.props.tab];t&&t.originalHref===e.props.href||(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));const{activeTab:a}=t;if(s&&a){const l=t.tabs[a].currentHref,c=t.tabs[a].currentRouteOptions;s===a&&l===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)&&c===(null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions)||(o[s]={originalHref:o[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[s].originalRouteOptions,currentRouteOptions:null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions},"pop"===e.routeInfo.routeAction&&s!==a&&(o[a]={originalHref:o[a].originalHref,currentHref:o[a].originalHref,originalRouteOptions:o[a].originalRouteOptions,currentRouteOptions:o[a].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:o}}onTabButtonClick(e,t){var n;const r=this.state.tabs[e.detail.tab],i=r.originalHref,o=null===(n=this.props.tabsContext)||void 0===n?void 0:n.hasRouterOutlet,s=o?e.detail.href:"",{activeTab:a}=this.state;t&&t(e),a===e.detail.tab?i!==s&&this.context.resetTab(e.detail.tab,i,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions)))}renderTabButton(e){return t=>{var n,r;if(null!=t&&t.props&&(t.type===Tm||t.type.isTabButton)){const i=t.props.tab===e?null===(n=this.props.routeInfo)||void 0===n?void 0:n.pathname:this.state.tabs[t.props.tab].currentHref,o=t.props.tab===e?null===(r=this.props.routeInfo)||void 0===r?void 0:r.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return B.cloneElement(t,{href:i,routeOptions:o,onClick:e=>this.onTabButtonClick(e,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return B.createElement(cm,Object.assign({},this.props,{selectedTab:e}),B.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return Qp}}const Nm=B.memo((e=>{var{forwardedRef:t}=e,n=ep(e,["forwardedRef"]);const r=z.useContext(Qp),i=z.useContext(km),o=t||i.tabBarProps.ref,s=Object.assign(Object.assign({},i.tabBarProps),{ref:o});return B.createElement(Im,Object.assign({ref:o},n,{routeInfo:n.routeInfo||r.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:r.setCurrentTab,tabsContext:Object.assign(Object.assign({},i),{tabBarProps:s})}),n.children)}));im(Nm,"IonTabBar");class Rm extends B.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const n=this.props,{icon:r,ios:i,md:o,mode:s}=n,a=ep(n,["icon","ios","md","mode"]);let l;const c=om(),u=s||(null==c?void 0:c.get("mode"));return l=i||o?"ios"===u?null!==(e=null!=i?i:o)&&void 0!==e?e:r:null!==(t=null!=o?o:i)&&void 0!==t?t:r:r,B.createElement(dm,Object.assign({ref:this.props.forwardedRef,icon:l},a),this.props.children)}static get contextType(){return Qp}}im(Rm,"IonIcon");class Pm extends B.PureComponent{render(){const e=this.context.getIonRoute();return this.context.hasIonicRouter()&&Pm?B.createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}static get contextType(){return Qp}}B.PureComponent;const Am=B.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});B.PureComponent;const Om=B.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class Lm extends B.Component{constructor(e){super(e),this.ionLifeCycleContext=new Gp,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed((()=>{this.props.mount||this._isMounted&&this.setState({show:!1},(()=>this.props.removeView()))})),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return B.createElement(Kp.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class Dm{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){"push"===e.routeAction||null==e.routeAction?this._add(e):"pop"===e.routeAction?this._pop(e):"replace"===e.routeAction&&this._replace(e),"root"===e.routeDirection&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach((e=>{this.locationHistory=this.locationHistory.filter((t=>t.id!==e.id))})),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex((t=>t.id===e.id));t>-1&&this.locationHistory.splice(t,1,e);const n=this.tabHistory[e.tab||""];if(n){const t=n.findIndex((t=>t.id===e.id));t>-1?n.splice(t,1,e):n.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!(!e||!t)&&e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach((e=>this.tabHistory[e]=[])),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let n=t.length-2;n>=0;n--){const r=t[n];if(r&&r.pathname===e.pushedByRoute)return r}for(let n=this.locationHistory.length-2;n>=0;n--){const t=this.locationHistory[n];if(t&&t.pathname===e.pushedByRoute)return t}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class Mm extends B.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(e,t,n,r,i)=>{this.navigate(e,t,n,i,r)},back:e=>{this.goBack(void 0,e)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){"undefined"!=typeof document&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){"undefined"!=typeof document&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,(e=>{this.nativeGoBack(),e()}))}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",n="push",r,i,o){this.props.onNavigate(e,n,t,r,i,o)}getPageManager(){return mm}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return B.createElement(Qp.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},B.createElement(Am.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class $m{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout((()=>{delete this.viewStacks[e]}),500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,n=this.viewStacks[t];if(n){const r=n.find((t=>t.id===e.id));r&&(r.mount=!1,this.viewStacks[t]=n.filter((e=>e.id!==r.id)))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach((e=>{t.push(...this.viewStacks[e])})),t}}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm.apply(null,arguments)}function jm(e){return"/"===e.charAt(0)}function Um(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function Fm(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function zm(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return zm(e,t[n])}));if("object"==typeof e||"object"==typeof t){var n=Fm(e),r=Fm(t);return n!==e||r!==t?zm(n,r):Object.keys(Object.assign({},e,t)).every((function(n){return zm(e[n],t[n])}))}return!1}function Bm(e,t){throw new Error("Invariant failed")}function Hm(e){return"/"===e.charAt(0)?e:"/"+e}function Wm(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function qm(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Km(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Gm(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=Vm({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(Yg){throw Yg instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Yg}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&jm(e),s=t&&jm(t),a=o||s;if(e&&jm(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var h=i[u];"."===h?Um(i,u):".."===h?(Um(i,u),c++):c&&(Um(i,u),c--)}if(!a)for(;c--;c)i.unshift("..");!a||""===i[0]||i[0]&&jm(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Qm(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&zm(e.state,t.state)}function Xm(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ym=!("undefined"==typeof window||!window.document||!window.document.createElement);function Jm(e,t){t(window.confirm(e))}var Zm="popstate",eg="hashchange";function tg(){try{return window.history.state||{}}catch(Yg){return{}}}function ng(e){void 0===e&&(e={}),Ym||Bm();var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,a=i.getUserConfirmation,l=void 0===a?Jm:a,c=i.keyLength,u=void 0===c?6:c,h=e.basename?qm(Hm(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=Wm(o,h)),Gm(o,r,n)}function f(){return Math.random().toString(36).substr(2,u)}var p=Xm();function m(e){Vm(T,e),T.length=t.length,p.notifyListeners(T.location,T.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(d(e.state))}function v(){b(d(tg()))}var y=!1;function b(e){y?(y=!1,m()):p.confirmTransitionTo(e,"POP",l,(function(t){t?m({action:"POP",location:e}):function(e){var t=T.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,x(i))}(e)}))}var w=d(tg()),k=[w.key];function E(e){return h+Km(e)}function x(e){t.go(e)}var S=0;function _(e){1===(S+=e)&&1===e?(window.addEventListener(Zm,g),r&&window.addEventListener(eg,v)):0===S&&(window.removeEventListener(Zm,g),r&&window.removeEventListener(eg,v))}var C=!1,T={length:t.length,action:"POP",location:w,createHref:E,push:function(e,r){var i="PUSH",o=Gm(e,r,f(),T.location);p.confirmTransitionTo(o,i,l,(function(e){if(e){var r=E(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=k.indexOf(T.location.key),u=k.slice(0,c+1);u.push(o.key),k=u,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=Gm(e,r,f(),T.location);p.confirmTransitionTo(o,i,l,(function(e){if(e){var r=E(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=k.indexOf(T.location.key);-1!==c&&(k[c]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return C||(_(1),C=!0),function(){return C&&(C=!1,_(-1)),t()}},listen:function(e){var t=p.appendListener(e);return _(1),function(){_(-1),t()}}};return T}function rg(e,t){return rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rg(e,t)}function ig(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rg(e,t)}var og={exports:{}};function sg(){}function ag(){}ag.resetWarningCache=sg,og.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ag,resetWarningCache:sg};return n.PropTypes=n,n}();const lg=r(og.exports);var cg={exports:{}},ug=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};cg.exports=kg,cg.exports.parse=dg,cg.exports.compile=function(e,t){return mg(dg(e,t),t)},cg.exports.tokensToFunction=mg,cg.exports.tokensToRegExp=wg;var hg=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function dg(e,t){for(var n,r=[],i=0,o=0,s="",a=t&&t.delimiter||"/";null!=(n=hg.exec(e));){var l=n[0],c=n[1],u=n.index;if(s+=e.slice(o,u),o=u+l.length,c)s+=c[1];else{var h=e[o],d=n[2],f=n[3],p=n[4],m=n[5],g=n[6],v=n[7];s&&(r.push(s),s="");var y=null!=d&&null!=h&&h!==d,b="+"===g||"*"===g,w="?"===g||"*"===g,k=d||a,E=p||m,x=d||("string"==typeof r[r.length-1]?r[r.length-1]:"");r.push({name:f||i++,prefix:d||"",delimiter:k,optional:w,repeat:b,partial:y,asterisk:!!v,pattern:E?vg(E):v?".*":fg(k,x)})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function fg(e,t){return!t||t.indexOf(e)>-1?"[^"+gg(e)+"]+?":gg(t)+"|(?:(?!"+gg(t)+")[^"+gg(e)+"])+?"}function pg(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function mg(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",bg(t)));return function(t,r){for(var i="",o=t||{},s=(r||{}).pretty?pg:encodeURIComponent,a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(ug(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(c=s(u[h]),!n[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(u),!n[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function gg(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function vg(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function yg(e,t){return e.keys=t,e}function bg(e){return e&&e.sensitive?"":"i"}function wg(e,t,n){ug(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"==typeof a)o+=gg(a);else{var l=gg(a.prefix),c="(?:"+a.pattern+")";t.push(a),a.repeat&&(c+="(?:"+l+c+")*"),o+=c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=gg(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",yg(new RegExp("^"+o,bg(n)),t)}function kg(e,t,n){return ug(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return yg(e,t)}(e,t):ug(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(kg(e[i],t,n).source);return yg(new RegExp("(?:"+r.join("|")+")",bg(n)),t)}(e,t,n):function(e,t,n){return wg(dg(e,n),t,n)}(e,t,n)}const Eg=r(cg.exports);var xg={},Sg="function"==typeof Symbol&&Symbol.for,_g=Sg?Symbol.for("react.element"):60103,Cg=Sg?Symbol.for("react.portal"):60106,Tg=Sg?Symbol.for("react.fragment"):60107,Ig=Sg?Symbol.for("react.strict_mode"):60108,Ng=Sg?Symbol.for("react.profiler"):60114,Rg=Sg?Symbol.for("react.provider"):60109,Pg=Sg?Symbol.for("react.context"):60110,Ag=Sg?Symbol.for("react.async_mode"):60111,Og=Sg?Symbol.for("react.concurrent_mode"):60111,Lg=Sg?Symbol.for("react.forward_ref"):60112,Dg=Sg?Symbol.for("react.suspense"):60113,Mg=Sg?Symbol.for("react.suspense_list"):60120,$g=Sg?Symbol.for("react.memo"):60115,Vg=Sg?Symbol.for("react.lazy"):60116,jg=Sg?Symbol.for("react.block"):60121,Ug=Sg?Symbol.for("react.fundamental"):60117,Fg=Sg?Symbol.for("react.responder"):60118,zg=Sg?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
             * react-is.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function Bg(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case _g:switch(e=e.type){case Ag:case Og:case Tg:case Ng:case Ig:case Dg:return e;default:switch(e=e&&e.$$typeof){case Pg:case Lg:case Vg:case $g:case Rg:return e;default:return t}}case Cg:return t}}}function Hg(e){return Bg(e)===Og}function Wg(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}xg.AsyncMode=Ag,xg.ConcurrentMode=Og,xg.ContextConsumer=Pg,xg.ContextProvider=Rg,xg.Element=_g,xg.ForwardRef=Lg,xg.Fragment=Tg,xg.Lazy=Vg,xg.Memo=$g,xg.Portal=Cg,xg.Profiler=Ng,xg.StrictMode=Ig,xg.Suspense=Dg,xg.isAsyncMode=function(e){return Hg(e)||Bg(e)===Ag},xg.isConcurrentMode=Hg,xg.isContextConsumer=function(e){return Bg(e)===Pg},xg.isContextProvider=function(e){return Bg(e)===Rg},xg.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===_g},xg.isForwardRef=function(e){return Bg(e)===Lg},xg.isFragment=function(e){return Bg(e)===Tg},xg.isLazy=function(e){return Bg(e)===Vg},xg.isMemo=function(e){return Bg(e)===$g},xg.isPortal=function(e){return Bg(e)===Cg},xg.isProfiler=function(e){return Bg(e)===Ng},xg.isStrictMode=function(e){return Bg(e)===Ig},xg.isSuspense=function(e){return Bg(e)===Dg},xg.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Tg||e===Og||e===Ng||e===Ig||e===Dg||e===Mg||"object"==typeof e&&null!==e&&(e.$$typeof===Vg||e.$$typeof===$g||e.$$typeof===Rg||e.$$typeof===Pg||e.$$typeof===Lg||e.$$typeof===Ug||e.$$typeof===Fg||e.$$typeof===zg||e.$$typeof===jg)},xg.typeOf=Bg;var qg={exports:{}},Kg={},Gg="function"==typeof Symbol&&Symbol.for,Qg=Gg?Symbol.for("react.element"):60103,Xg=Gg?Symbol.for("react.portal"):60106,Yg=Gg?Symbol.for("react.fragment"):60107,Jg=Gg?Symbol.for("react.strict_mode"):60108,Zg=Gg?Symbol.for("react.profiler"):60114,ev=Gg?Symbol.for("react.provider"):60109,tv=Gg?Symbol.for("react.context"):60110,nv=Gg?Symbol.for("react.async_mode"):60111,rv=Gg?Symbol.for("react.concurrent_mode"):60111,iv=Gg?Symbol.for("react.forward_ref"):60112,ov=Gg?Symbol.for("react.suspense"):60113,sv=Gg?Symbol.for("react.suspense_list"):60120,av=Gg?Symbol.for("react.memo"):60115,lv=Gg?Symbol.for("react.lazy"):60116,cv=Gg?Symbol.for("react.block"):60121,uv=Gg?Symbol.for("react.fundamental"):60117,hv=Gg?Symbol.for("react.responder"):60118,dv=Gg?Symbol.for("react.scope"):60119;function fv(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Qg:switch(e=e.type){case nv:case rv:case Yg:case Zg:case Jg:case ov:return e;default:switch(e=e&&e.$$typeof){case tv:case iv:case lv:case av:case ev:return e;default:return t}}case Xg:return t}}}function pv(e){return fv(e)===rv}Kg.AsyncMode=nv,Kg.ConcurrentMode=rv,Kg.ContextConsumer=tv,Kg.ContextProvider=ev,Kg.Element=Qg,Kg.ForwardRef=iv,Kg.Fragment=Yg,Kg.Lazy=lv,Kg.Memo=av,Kg.Portal=Xg,Kg.Profiler=Zg,Kg.StrictMode=Jg,Kg.Suspense=ov,Kg.isAsyncMode=function(e){return pv(e)||fv(e)===nv},Kg.isConcurrentMode=pv,Kg.isContextConsumer=function(e){return fv(e)===tv},Kg.isContextProvider=function(e){return fv(e)===ev},Kg.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Qg},Kg.isForwardRef=function(e){return fv(e)===iv},Kg.isFragment=function(e){return fv(e)===Yg},Kg.isLazy=function(e){return fv(e)===lv},Kg.isMemo=function(e){return fv(e)===av},Kg.isPortal=function(e){return fv(e)===Xg},Kg.isProfiler=function(e){return fv(e)===Zg},Kg.isStrictMode=function(e){return fv(e)===Jg},Kg.isSuspense=function(e){return fv(e)===ov},Kg.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Yg||e===rv||e===Zg||e===Jg||e===ov||e===sv||"object"==typeof e&&null!==e&&(e.$$typeof===lv||e.$$typeof===av||e.$$typeof===ev||e.$$typeof===tv||e.$$typeof===iv||e.$$typeof===uv||e.$$typeof===hv||e.$$typeof===dv||e.$$typeof===cv)},Kg.typeOf=fv,qg.exports=Kg;var mv=qg.exports,gv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bv={};function wv(e){return mv.isMemo(e)?yv:bv[e.$$typeof]||gv}bv[mv.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bv[mv.Memo]=yv;var kv=Object.defineProperty,Ev=Object.getOwnPropertyNames,xv=Object.getOwnPropertySymbols,Sv=Object.getOwnPropertyDescriptor,_v=Object.getPrototypeOf,Cv=Object.prototype,Tv=function e(t,n,r){if("string"!=typeof n){if(Cv){var i=_v(n);i&&i!==Cv&&e(t,i,r)}var o=Ev(n);xv&&(o=o.concat(xv(n)));for(var s=wv(t),a=wv(n),l=0;l<o.length;++l){var c=o[l];if(!(vv[c]||r&&r[c]||a&&a[c]||s&&s[c])){var u=Sv(n,c);try{kv(t,c,u)}catch(Yg){}}}}return t};const Iv=r(Tv);var Nv=1073741823,Rv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},Pv=B.createContext||function(e,t){var n,r,i,o="__create-react-context-"+(Rv[i="__global_unique_id__"]=(Rv[i]||0)+1)+"__",s=function(e){function n(){for(var t,n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}ig(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):Nv,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(B.Component);s.childContextTypes=((n={})[o]=lg.object.isRequired,n);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){e.observedBits&n&&e.setState({value:e.getValue()})},e}ig(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?Nv:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?Nv:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(B.Component);return a.contextTypes=((r={})[o]=lg.object,r),{Provider:s,Consumer:a}},Av=function(e){var t=Pv();return t.displayName=e,t},Ov=Av("Router-History"),Lv=Av("Router"),Dv=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}ig(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return B.createElement(Lv.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},B.createElement(Ov.Provider,{children:this.props.children||null,value:this.props.history}))},t}(B.Component);B.Component;var Mv=function(e){function t(){return e.apply(this,arguments)||this}ig(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(B.Component),$v={},Vv=0;function jv(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if($v[e])return $v[e];var t=Eg.compile(e);return Vv<1e4&&($v[e]=t,Vv++),t}(e)(t,{pretty:!0})}function Uv(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return B.createElement(Lv.Consumer,null,(function(e){e||Bm();var r=e.history,o=e.staticContext,s=i?r.push:r.replace,a=Gm(t?"string"==typeof n?jv(n,t.params):Vm({},n,{pathname:jv(n.pathname,t.params)}):n);return o?(s(a),null):B.createElement(Mv,{onMount:function(){s(a)},onUpdate:function(e,t){var n=Gm(t.to);Qm(n,Vm({},a,{key:n.key}))||s(a)},to:n})}))}var Fv={},zv=0;function Bv(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Fv[n]||(Fv[n]={});if(r[e])return r[e];var i=[],o={regexp:Eg(e,i,t),keys:i};return zv<1e4&&(r[e]=o,zv++),o}(n,{end:o,strict:a,sensitive:c}),i=r.regexp,s=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],h=l.slice(1),d=e===u;return o&&!d?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:d,params:s.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var Hv=function(e){function t(){return e.apply(this,arguments)||this}return ig(t,e),t.prototype.render=function(){var e=this;return B.createElement(Lv.Consumer,null,(function(t){t||Bm();var n=e.props.location||t.location,r=Vm({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Bv(n.pathname,e.props):t.match}),i=e.props,o=i.children,s=i.component,a=i.render;return Array.isArray(o)&&function(e){return 0===B.Children.count(e)}(o)&&(o=null),B.createElement(Lv.Provider,{value:r},r.match?o?"function"==typeof o?o(r):o:s?B.createElement(s,r):a?a(r):null:"function"==typeof o?o(r):null)}))},t}(B.Component);B.Component;var Wv=function(e){function t(){return e.apply(this,arguments)||this}return ig(t,e),t.prototype.render=function(){var e=this;return B.createElement(Lv.Consumer,null,(function(t){t||Bm();var n,r,i=e.props.location||t.location;return B.Children.forEach(e.props.children,(function(e){if(null==r&&B.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?Bv(i.pathname,Vm({},e.props,{path:o})):t.match}})),r?B.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(B.Component),qv=B.useContext;function Kv(){return qv(Ov)}function Gv(){var e=qv(Lv).match;return e?e.params:{}}class Qv extends B.PureComponent{render(){return B.createElement(Hv,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},void 0!==this.props.computedMatch?{computedMatch:this.props.computedMatch}:{}))}}const Xv=({pathname:e,componentProps:t})=>{const{exact:n,component:r}=t,i=Bv(e,{exact:n,path:t.path||t.from,component:r});return i||!1};class Yv extends $m{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,n,r){const i={id:bm("viewItem"),outletId:e,ionPageElement:r,reactElement:t,mount:!0,ionRoute:!1};return t.type===Pm&&(i.ionRoute=!0,i.disableIonPageManagement=t.props.disableIonPageManagement),i.routeData={match:Xv({pathname:n.pathname,componentProps:t.props}),childProps:t.props},i}getChildrenToRender(e,t,n){const r=this.getViewItemsForOutlet(e);return B.Children.forEach(t.props.children,(e=>{const t=r.find((t=>Jv(e,t.routeData.childProps.path||t.routeData.childProps.from)));t&&(t.reactElement=e)})),r.map((e=>{let t;if(e.ionRoute&&!e.disableIonPageManagement)t=B.createElement(Lm,{key:`view-${e.id}`,mount:e.mount,removeView:()=>this.remove(e)},B.cloneElement(e.reactElement,{computedMatch:e.routeData.match}));else{const r=Jv(e.reactElement,n.pathname);t=B.createElement(Lm,{key:`view-${e.id}`,mount:e.mount,removeView:()=>this.remove(e)},B.cloneElement(e.reactElement,{computedMatch:e.routeData.match})),!r&&e.routeData.match&&(e.routeData.match=void 0,e.mount=!1)}return t}))}findViewItemByRouteInfo(e,t,n){const{viewItem:r,match:i}=this.findViewItemByPath(e.pathname,t);return(void 0===n||!0===n)&&r&&i&&(r.routeData.match=i),r}findLeavingViewItemByRouteInfo(e,t,n=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,t,n);return r}findViewItemByPathname(e,t){const{viewItem:n}=this.findViewItemByPath(e,t);return n}findViewItemByPath(e,t,n){let r,i,o;if(t)o=this.getViewItemsForOutlet(t),o.some(s),r||o.some(a);else{const e=this.getAllViewItems();e.some(s),r||e.some(a)}return{viewItem:r,match:i};function s(t){var o,s;if(n&&!t.ionRoute)return!1;if(i=Xv({pathname:e,componentProps:t.routeData.childProps}),i){const e=i.path.includes(":");if(!e||e&&i.url===(null===(s=null===(o=t.routeData)||void 0===o?void 0:o.match)||void 0===s?void 0:s.url))return r=t,!0}return!1}function a(t){return!t.routeData.childProps.path&&!t.routeData.childProps.from&&(i={path:e,url:e,isExact:!0,params:{}},r=t,!0)}}}function Jv(e,t){return Xv({pathname:t,componentProps:e.props})}const Zv=e=>!e.classList.contains("ion-page-invisible")&&!e.classList.contains("ion-page-hidden");class ey extends B.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=bm("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:n}=e.routeInfo;t!==n?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,n;if(this.routerOutletElement&&this.routerOutletElement.commit){let r=this.context.findViewItemByRouteInfo(e,this.id),i=this.context.findLeavingViewItemByRouteInfo(e,this.id);!i&&e.prevRouteLastPathname&&(i=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),i&&("replace"===e.routeAction?i.mount=!1:"push"!==e.routeAction||"forward"!==e.routeDirection?"none"!==e.routeDirection&&r!==i&&(i.mount=!1):(null===(t=e.routeOptions)||void 0===t?void 0:t.unmount)&&(i.mount=!1));const o=function(e,t){let n;return B.Children.forEach(e,(e=>{Xv({pathname:t.pathname,componentProps:e.props})&&(n=e)})),n||(B.Children.forEach(e,(e=>{e.props.path||e.props.from||(n=e)})),n)}(null===(n=this.ionRouterOutlet)||void 0===n?void 0:n.props.children,e);if(r?r.reactElement=o:o&&(r=this.context.createViewItem(this.id,o,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===i&&r.routeData.match.url!==e.pathname)return;if(!i&&this.props.routeInfo.prevRouteLastPathname&&(i=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),Zv(r.ionPageElement)&&void 0!==i&&!Zv(i.ionPageElement))return;this.transitionPage(e,r,i)}else!i||o||r||i.ionPageElement&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}else this.pendingPageTransition=!0}registerIonPage(e,t){const n=this.context.findViewItemByRouteInfo(t,this.id);if(n){const t=n.ionPageElement;if(n.ionPageElement=e,n.ionRoute=!0,t===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){e.swipeHandler={canStart:()=>{const t=om();if(!t||!t.get("swipeBackEnabled","ios"===e.mode))return!1;const{routeInfo:n}=this.props,r=this.prevProps&&this.prevProps.routeInfo.pathname===n.pushedByRoute?this.prevProps.routeInfo:{pathname:n.pushedByRoute||""},i=this.context.findViewItemByRouteInfo(r,this.id,!1);return!!i&&i.mount&&i.routeData.match.path!==n.pathname},onStart:async()=>{const{routeInfo:e}=this.props,t=this.prevProps&&this.prevProps.routeInfo.pathname===e.pushedByRoute?this.prevProps.routeInfo:{pathname:e.pushedByRoute||""},n=this.context.findViewItemByRouteInfo(t,this.id,!1),r=this.context.findViewItemByRouteInfo(e,this.id,!1);return n&&r&&await this.transitionPage(e,n,r,"back",!0),Promise.resolve()},onEnd:e=>{if(e)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:e}=this.props,t=this.prevProps&&this.prevProps.routeInfo.pathname===e.pushedByRoute?this.prevProps.routeInfo:{pathname:e.pushedByRoute||""},n=this.context.findViewItemByRouteInfo(t,this.id,!1);if(n!==this.context.findViewItemByRouteInfo(e,this.id,!1)&&void 0!==(null==n?void 0:n.ionPageElement)){const{ionPageElement:e}=n;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")}}}}}async transitionPage(e,t,n,r,i=!1){const o=async(t,n)=>{const r=this.skipTransition;r?this.skipTransition=!1:(t.classList.add("ion-page"),t.classList.add("ion-page-invisible")),await s.commit(t,n,{duration:r||void 0===l?0:void 0,direction:l,showGoBack:!!e.pushedByRoute,progressAnimation:i,animationBuilder:e.routeAnimation})},s=this.routerOutletElement,a="none"===e.routeDirection||"root"===e.routeDirection?void 0:e.routeDirection,l=null!=r?r:a;if(t&&t.ionPageElement&&this.routerOutletElement)if(n&&n.ionPageElement&&t===n)if(c=n.reactElement,u=e.pathname,h=!0,Xv({pathname:u,componentProps:Object.assign(Object.assign({},c.props),{exact:h})})){const e=function(e){let t;if(t="string"==typeof e?e:e.outerHTML,document){const e=document.createElement("div");e.innerHTML=t,e.style.zIndex="";const n=e.getElementsByTagName("ion-back-button");return n[0]&&n[0].remove(),e.firstChild}}(n.ionPageElement.outerHTML);e&&(this.routerOutletElement.appendChild(e),await o(t.ionPageElement,e),this.routerOutletElement.removeChild(e))}else await o(t.ionPageElement,void 0);else await o(t.ionPageElement,null==n?void 0:n.ionPageElement),n&&n.ionPageElement&&!i&&(n.ionPageElement.classList.add("ion-page-hidden"),n.ionPageElement.setAttribute("aria-hidden","true"));var c,u,h}render(){const{children:e}=this.props,t=B.Children.only(e);this.ionRouterOutlet=t;const n=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,(()=>{this.forceUpdate()}));return B.createElement(pm.Provider,{value:this.stackContextValue},B.cloneElement(t,{ref:e=>{t.props.setRef&&t.props.setRef(e),t.props.forwardedRef&&(t.props.forwardedRef.current=e),this.routerOutletElement=e;const{ref:n}=t;"function"==typeof n&&n(e)}},n))}static get contextType(){return Om}}class ty extends B.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new Dm,this.viewStack=new Yv,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:bm("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,n){if(!t)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[i,o]=t.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===i?(this.incomingRouteParams.routeOptions=n,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=i,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=n,this.props.history.push(i+(o?"?"+o:"")))):this.handleNavigate(i,"push","none",void 0,n,e)}handleHistoryChange(e,t){var n,r,i;let o;if(o=this.incomingRouteParams&&"replace"===this.incomingRouteParams.routeAction?this.locationHistory.previous():this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if("REPLACE"===t&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),"POP"===t){const e=this.locationHistory.current();if(e&&e.pushedByRoute){const t=this.locationHistory.findLastLocation(e);this.incomingRouteParams=Object.assign(Object.assign({},t),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:(null===(n=e.state)||void 0===n?void 0:n.direction)||"forward",routeOptions:null===(r=e.state)||void 0===r?void 0:r.routerOptions,tab:this.currentTab})}let s;if(null===(i=this.incomingRouteParams)||void 0===i?void 0:i.id)s=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(s);else{const t="push"===this.incomingRouteParams.routeAction&&"forward"===this.incomingRouteParams.routeDirection;if(s=Object.assign(Object.assign({id:bm("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),t)s.tab=o.tab,s.pushedByRoute=o.pathname;else if("pop"===s.routeAction){const e=this.locationHistory.findLastLocation(s);s.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("push"===s.routeAction&&s.tab!==o.tab){const e=this.locationHistory.getCurrentRouteInfoForTab(s.tab);s.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("replace"===s.routeAction){const e=this.locationHistory.current(),t=null==e?void 0:e.pushedByRoute,n=void 0!==t&&t!==s.pathname?t:s.pushedByRoute;s.lastPathname=(null==e?void 0:e.pathname)||s.lastPathname,s.prevRouteLastPathname=null==e?void 0:e.lastPathname,s.pushedByRoute=n,s.routeDirection=s.routeDirection||(null==e?void 0:e.routeDirection),s.routeAnimation=s.routeAnimation||(null==e?void 0:e.routeAnimation)}this.locationHistory.add(s)}this.setState({routeInfo:s})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,n,r,i,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:n,routeOptions:i,routeAnimation:r,tab:o}),"push"===t?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const n=om();e=e||n&&n.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const n=this.locationHistory.findLastLocation(r);if(n){const e=t||r.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},n),{routeAction:"pop",routeDirection:"back",routeAnimation:e}),r.lastPathname===r.pushedByRoute||n.pathname===r.pushedByRoute&&""===r.tab&&""===n.tab){const e=this.props.history;(e.goBack||e.back)()}else this.handleNavigate(n.pathname+(n.search||""),"pop","back",e)}else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,n){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const e=Object.assign({},r);e.pathname=t,e.routeOptions=n,this.incomingRouteParams=Object.assign(Object.assign({},e),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(e.pathname+(e.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return B.createElement(Om.Provider,{value:this.routeMangerContextState},B.createElement(Mm,{ionRoute:Qv,ionRedirect:{},stackManager:ey,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const ny=function(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Wg(t,["wrappedComponentRef"]);return B.createElement(Lv.Consumer,null,(function(t){return t||Bm(),B.createElement(e,Vm({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,Iv(n,e)}(ty);ny.displayName="IonRouter";class ry extends B.Component{constructor(e){super(e);const{history:t}=e,n=ep(e,["history"]);this.history=t||ng(n),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const n=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(n,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,n=ep(e,["children"]);return B.createElement(Dv,Object.assign({history:this.history},n),B.createElement(ny,{registerHistoryListener:this.registerHistoryListener},t))}}B.Component,B.Component;var iy={};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const oy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},sy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new ay;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ay extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ly=function(e){return function(e){const t=oy(e);return sy.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cy=function(e){try{return sy.decodeString(e,!0)}catch(Yg){console.error("base64Decode failed: ",Yg)}return null},uy=()=>
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */().__FIREBASE_DEFAULTS__,hy=()=>{try{return uy()||(()=>{if("undefined"==typeof process)return;const e=iy.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Yg){return}const t=e&&cy(e[1]);return t&&JSON.parse(t)})()}catch(Yg){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Yg}`)}},dy=e=>{var t,n;return null===(n=null===(t=hy())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fy=()=>{var e;return null===(e=hy())||void 0===e?void 0:e.config},py=e=>{var t;return null===(t=hy())||void 0===t?void 0:t[`_${e}`]};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class my{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function gy(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vy(){return!function(){var e;const t=null===(e=hy())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Yg){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class yy extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,yy.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,by.prototype.create)}}class by{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(wy,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new yy(r,s,n)}}const wy=/\{\$([^}]+)}/g;function ky(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ey(n)&&Ey(o)){if(!ky(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ey(e){return null!==e&&"object"==typeof e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function xy(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sy(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _y(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Cy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ty),void 0===r.error&&(r.error=Ty),void 0===r.complete&&(r.complete=Ty);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Yg){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Yg){"undefined"!=typeof console&&console.error&&console.error(Yg)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ty(){}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Iy(e){return e&&e._delegate?e._delegate:e}class Ny{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ry="[DEFAULT]";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Py{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new my;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Yg){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Yg){if(r)return null;throw Yg}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e))try{this.getOrInitializeService({instanceIdentifier:Ry})}catch(Yg){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Yg){}}}}clearInstance(e=Ry){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Ry){return this.instances.has(e)}getOptions(e=Ry){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&o.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Ry?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=Ry){return this.component?this.component.multipleInstances?e:Ry:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ay{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Py(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Oy;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Oy||(Oy={}));const Ly={debug:Oy.DEBUG,verbose:Oy.VERBOSE,info:Oy.INFO,warn:Oy.WARN,error:Oy.ERROR,silent:Oy.SILENT},Dy=Oy.INFO,My={[Oy.DEBUG]:"log",[Oy.VERBOSE]:"log",[Oy.INFO]:"info",[Oy.WARN]:"warn",[Oy.ERROR]:"error"},$y=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=My[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Vy{constructor(e){this.name=e,this._logLevel=Dy,this._logHandler=$y,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oy))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ly[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oy.DEBUG,...e),this._logHandler(this,Oy.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oy.VERBOSE,...e),this._logHandler(this,Oy.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oy.INFO,...e),this._logHandler(this,Oy.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oy.WARN,...e),this._logHandler(this,Oy.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oy.ERROR,...e),this._logHandler(this,Oy.ERROR,...e)}}let jy,Uy;const Fy=new WeakMap,zy=new WeakMap,By=new WeakMap,Hy=new WeakMap,Wy=new WeakMap;let qy={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zy.get(e);if("objectStoreNames"===t)return e.objectStoreNames||By.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qy(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ky(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Xy(this),t),Qy(Fy.get(this))}:function(...t){return Qy(e.apply(Xy(this),t))}:function(t,...n){const r=e.call(Xy(this),t,...n);return By.set(r,t.sort?t.sort():[t]),Qy(r)}}function Gy(e){return"function"==typeof e?Ky(e):(e instanceof IDBTransaction&&function(e){if(zy.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));zy.set(e,t)}(e),t=e,(jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,qy):e);var t}function Qy(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Qy(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Fy.set(t,e)})).catch((()=>{})),Wy.set(t,e),t}(e);if(Hy.has(e))return Hy.get(e);const t=Gy(e);return t!==e&&(Hy.set(e,t),Wy.set(t,e)),t}const Xy=e=>Wy.get(e),Yy=["get","getKey","getAll","getAllKeys","count"],Jy=["put","add","delete","clear"],Zy=new Map;function eb(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Zy.get(t))return Zy.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yy.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Zy.set(t,o),o}var tb;tb=qy,qy={...tb,get:(e,t,n)=>eb(e,t)||tb.get(e,t,n),has:(e,t)=>!!eb(e,t)||tb.has(e,t)};
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class nb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const rb="@firebase/app",ib="0.11.2",ob=new Vy("@firebase/app"),sb="@firebase/app-compat",ab="@firebase/analytics-compat",lb="@firebase/analytics",cb="@firebase/app-check-compat",ub="@firebase/app-check",hb="@firebase/auth",db="@firebase/auth-compat",fb="@firebase/database",pb="@firebase/data-connect",mb="@firebase/database-compat",gb="@firebase/functions",vb="@firebase/functions-compat",yb="@firebase/installations",bb="@firebase/installations-compat",wb="@firebase/messaging",kb="@firebase/messaging-compat",Eb="@firebase/performance",xb="@firebase/performance-compat",Sb="@firebase/remote-config",_b="@firebase/remote-config-compat",Cb="@firebase/storage",Tb="@firebase/storage-compat",Ib="@firebase/firestore",Nb="@firebase/vertexai",Rb="@firebase/firestore-compat",Pb="firebase",Ab="[DEFAULT]",Ob={[rb]:"fire-core",[sb]:"fire-core-compat",[lb]:"fire-analytics",[ab]:"fire-analytics-compat",[ub]:"fire-app-check",[cb]:"fire-app-check-compat",[hb]:"fire-auth",[db]:"fire-auth-compat",[fb]:"fire-rtdb",[pb]:"fire-data-connect",[mb]:"fire-rtdb-compat",[gb]:"fire-fn",[vb]:"fire-fn-compat",[yb]:"fire-iid",[bb]:"fire-iid-compat",[wb]:"fire-fcm",[kb]:"fire-fcm-compat",[Eb]:"fire-perf",[xb]:"fire-perf-compat",[Sb]:"fire-rc",[_b]:"fire-rc-compat",[Cb]:"fire-gcs",[Tb]:"fire-gcs-compat",[Ib]:"fire-fst",[Rb]:"fire-fst-compat",[Nb]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"},Lb=new Map,Db=new Map,Mb=new Map;function $b(e,t){try{e.container.addComponent(t)}catch(Yg){ob.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Yg)}}function Vb(e){const t=e.name;if(Mb.has(t))return ob.debug(`There were multiple attempts to register component ${t}.`),!1;Mb.set(t,e);for(const n of Lb.values())$b(n,e);for(const n of Db.values())$b(n,e);return!0}function jb(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ub(e){return null!=e&&void 0!==e.settings}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Fb=new by("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class zb{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ny("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fb.create("app-deleted",{appName:this._name})}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Bb="11.4.0";function Hb(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Ab,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Fb.create("bad-app-name",{appName:String(i)});if(n||(n=fy()),!n)throw Fb.create("no-options");const o=Lb.get(i);if(o){if(ky(n,o.options)&&ky(r,o.config))return o;throw Fb.create("duplicate-app",{appName:i})}const s=new Ay(i);for(const l of Mb.values())s.addComponent(l);const a=new zb(n,r,s);return Lb.set(i,a),a}function Wb(e=Ab){const t=Lb.get(e);if(!t&&e===Ab&&fy())return Hb();if(!t)throw Fb.create("no-app",{appName:e});return t}function qb(e,t,n){var r;let i=null!==(r=Ob[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ob.warn(e.join(" "))}Vb(new Ny(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Kb="firebase-heartbeat-store";let Gb=null;function Qb(){return Gb||(Gb=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Qy(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Qy(s.result),e.oldVersion,e.newVersion,Qy(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Kb)}catch(Yg){console.warn(Yg)}}}).catch((e=>{throw Fb.create("idb-open",{originalErrorMessage:e.message})}))),Gb}async function Xb(e,t){try{const n=(await Qb()).transaction(Kb,"readwrite"),r=n.objectStore(Kb);await r.put(t,Yb(e)),await n.done}catch(Yg){if(Yg instanceof yy)ob.warn(Yg.message);else{const t=Fb.create("idb-set",{originalErrorMessage:null==Yg?void 0:Yg.message});ob.warn(t.message)}}}function Yb(e){return`${e.name}!${e.options.appId}`}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Jb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ew(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zb();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Yg){ob.warn(Yg)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Zb(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),tw(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ly(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Yg){return ob.warn(Yg),""}}}function Zb(){return(new Date).toISOString().substring(0,10)}class ew{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(Yg){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Qb()).transaction(Kb),n=await t.objectStore(Kb).get(Yb(e));return await t.done,n}catch(Yg){if(Yg instanceof yy)ob.warn(Yg.message);else{const t=Fb.create("idb-get",{originalErrorMessage:null==Yg?void 0:Yg.message});ob.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xb(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xb(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function tw(e){return ly(JSON.stringify({version:2,heartbeats:e})).length}var nw;function rw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}nw="",Vb(new Ny("platform-logger",(e=>new nb(e)),"PRIVATE")),Vb(new Ny("heartbeat",(e=>new Jb(e)),"PRIVATE")),qb(rb,ib,nw),qb(rb,ib,"esm2017"),qb("fire-js",""),
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
qb("firebase","11.4.0","app");const iw=rw,ow=new by("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sw=new Vy("@firebase/auth");function aw(e,...t){sw.logLevel<=Oy.ERROR&&sw.error(`Auth (${Bb}): ${e}`,...t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function lw(e,...t){throw dw(e,...t)}function cw(e,...t){return dw(e,...t)}function uw(e,t,n){const r=Object.assign(Object.assign({},iw()),{[t]:n});return new by("auth","Firebase",r).create(t,{appName:e.name})}function hw(e){return uw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dw(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ow.create(e,...t)}function fw(e,t,...n){if(!e)throw dw(t,...n)}function pw(e){const t="INTERNAL ASSERTION FAILED: "+e;throw aw(t),new Error(t)}function mw(e,t){e||pw(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function gw(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function vw(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function yw(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==vw()&&"https:"!==vw()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class bw{constructor(e,t){this.shortDelay=e,this.longDelay=t,mw(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gy())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function ww(e,t){mw(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class kw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void pw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void pw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void pw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ew={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xw=new bw(3e4,6e4);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Sw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _w(e,t,n,r,i={}){return Cw(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=xy(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),kw.fetch()(Iw(e,e.config.apiHost,n,s),l)}))}async function Cw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ew),t);try{const t=new Rw(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Pw(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Pw(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Pw(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Pw(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw uw(e,a,s);lw(e,a)}}catch(Yg){if(Yg instanceof yy)throw Yg;lw(e,"network-request-failed",{message:String(Yg)})}}async function Tw(e,t,n,r,i={}){const o=await _w(e,t,n,r,i);return"mfaPendingCredential"in o&&lw(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Iw(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ww(e.config,i):`${e.config.apiScheme}://${i}`}function Nw(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(cw(this.auth,"network-request-failed"))),xw.get())}))}}function Pw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cw(e,t,r);return i.customData._tokenResponse=n,i}function Aw(e){return void 0!==e&&void 0!==e.enterprise}class Ow{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Nw(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Lw(e,t){return _w(e,"POST","/v1/accounts:lookup",t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Dw(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Yg){}}function Mw(e){return 1e3*Number(e)}function $w(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return aw("JWT malformed, contained fewer than 3 sections"),null;try{const e=cy(n);return e?JSON.parse(e):(aw("Failed to decode base64 JWT payload"),null)}catch(Yg){return aw("Caught error parsing JWT payload as JSON",null==Yg?void 0:Yg.toString()),null}}function Vw(e){const t=$w(e);return fw(t,"internal-error"),fw(void 0!==t.exp,"internal-error"),fw(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function jw(e,t,n=!1){if(n)return t;try{return await t}catch(Yg){throw Yg instanceof yy&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(Yg)&&e.auth.currentUser===e&&await e.auth.signOut(),Yg}}class Uw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Yg){return void("auth/network-request-failed"===(null==Yg?void 0:Yg.code)&&this.schedule(!0))}this.schedule()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Fw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dw(this.lastLoginAt),this.creationTime=Dw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function zw(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jw(e,Lw(n,{idToken:r}));fw(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Bw(o.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fw(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function Bw(e){return e.map((e=>{var{providerId:t}=e,n=ep(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Hw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fw(e.idToken,"internal-error"),fw(void 0!==e.idToken,"internal-error"),fw(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fw(0!==e.length,"internal-error");const t=Vw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(fw(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Cw(e,{},(async()=>{const n=xy({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Iw(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",kw.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Hw;return n&&(fw("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(fw("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(fw("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hw,this.toJSON())}_performRefresh(){return pw("not implemented")}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Ww(e,t){fw("string"==typeof e||void 0===e,"internal-error",{appName:t})}class qw{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jw(this,this.stsTokenManager.getToken(this.auth,e));return fw(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Iy(e),r=await n.getIdToken(t),i=$w(r);fw(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Dw(Mw(i.auth_time)),issuedAtTime:Dw(Mw(i.iat)),expirationTime:Dw(Mw(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Iy(e);await zw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(fw(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qw(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ub(this.auth.app))return Promise.reject(hw(this.auth));const e=await this.getIdToken();return await jw(this,
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t){return _w(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:E}=t;fw(y&&E,e,"internal-error");const x=Hw.fromJSON(this.name,E);fw("string"==typeof y,e,"internal-error"),Ww(u,e.name),Ww(h,e.name),fw("boolean"==typeof b,e,"internal-error"),fw("boolean"==typeof w,e,"internal-error"),Ww(d,e.name),Ww(f,e.name),Ww(p,e.name),Ww(m,e.name),Ww(g,e.name),Ww(v,e.name);const S=new qw({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(S.providerData=k.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new Hw;r.updateFromServerResponse(t);const i=new qw({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zw(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];fw(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Bw(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),s=new Hw;s.updateFromIdToken(n);const a=new qw({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fw(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(a,l),a}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Kw=new Map;function Gw(e){mw(e instanceof Function,"Expected a class definition");let t=Kw.get(e);return t?(mw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kw.set(e,t),t)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qw.type="NONE";const Xw=Qw;
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Yw(e,t,n){return`firebase:${e}:${t}:${n}`}class Jw{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Yw(this.userKey,r.apiKey,i),this.fullPersistenceKey=Yw("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qw._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Jw(Gw(Xw),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Gw(Xw);const o=Yw(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=qw._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Jw(i,e,n)):new Jw(i,e,n)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Zw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ek(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ok(t))return"Blackberry";if(sk(t))return"Webos";if(tk(t))return"Safari";if((t.includes("chrome/")||nk(t))&&!t.includes("edge/"))return"Chrome";if(ik(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ek(e=gy()){return/firefox\//i.test(e)}function tk(e=gy()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nk(e=gy()){return/crios\//i.test(e)}function rk(e=gy()){return/iemobile/i.test(e)}function ik(e=gy()){return/android/i.test(e)}function ok(e=gy()){return/blackberry/i.test(e)}function sk(e=gy()){return/webos/i.test(e)}function ak(e=gy()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lk(){return function(){const e=gy();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ck(e=gy()){return ak(e)||ik(e)||sk(e)||ok(e)||/windows phone/i.test(e)||rk(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function uk(e,t=[]){let n;switch(e){case"Browser":n=Zw(gy());break;case"Worker":n=`${Zw(gy())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bb}/${r}`}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class hk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Yg){r(Yg)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Yg){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==Yg?void 0:Yg.message})}}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class dk{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class fk{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mk(this),this.idTokenSubscription=new mk(this),this.beforeStateQueue=new hk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gw(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Jw.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Yg){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Lw(this,{idToken:e}),n=await qw._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch($h){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",$h),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ub(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Yg){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Yg)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fw(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Yg){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zw(e)}catch(Yg){if("auth/network-request-failed"!==(null==Yg?void 0:Yg.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ub(this.app))return Promise.reject(hw(this));const t=e?Iy(e):null;return t&&fw(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fw(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ub(this.app)?Promise.reject(hw(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ub(this.app)?Promise.reject(hw(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Gw(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return _w(e,"GET","/v2/passwordPolicy",Sw(e,t))}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this),t=new dk(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new by("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _w(e,"POST","/v2/accounts:revokeToken",Sw(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gw(e)||this._popupRedirectResolver;fw(t,this,"argument-error"),this.redirectPersistenceManager=await Jw.create(this,[Gw(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(fw(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fw(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ub(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){sw.logLevel<=Oy.WARN&&sw.warn(`Auth (${Bb}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function pk(e){return Iy(e)}class mk{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Cy(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return fw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let gk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vk(e){return gk.loadJS(e)}class yk{constructor(){this.enterprise=new bk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wk="NO_RECAPTCHA";class kk{constructor(e){this.type="recaptcha-enterprise",this.auth=pk(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return _w(e,"GET","/v2/recaptchaConfig",Sw(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ow(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function r(t,n,r){const i=window.grecaptcha;Aw(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(wk)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?(new yk).execute("siteKey",{action:"verify"}):new Promise(((e,i)=>{n(this.auth).then((n=>{if(!t&&Aw(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=gk.recaptchaEnterpriseScript;0!==t.length&&(t+=n),vk(t).then((()=>{r(n,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Ek(e,t,n,r=!1,i=!1){const o=new kk(e);let s;if(i)s=wk;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function xk(e,t,n,r,i){var o;if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ek(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ek(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Sk(e,t,n){const r=pk(e);fw(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=_k(t),{host:o,port:s}=function(e){const t=_k(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ck(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ck(t)}}}(t),a={url:`${i}//${o}${null===s?"":`:${s}`}/`},l=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator)return fw(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void fw(ky(a,r.config.emulator)&&ky(l,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=a,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */()}function _k(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ck(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Tk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pw("not implemented")}_getIdTokenResponse(e){return pw("not implemented")}_linkToIdToken(e,t){return pw("not implemented")}_getReauthenticationResolver(e){return pw("not implemented")}}async function Ik(e,t){return _w(e,"POST","/v1/accounts:signUp",t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function Nk(e,t){return Tw(e,"POST","/v1/accounts:signInWithPassword",Sw(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Rk extends Tk{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rk(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Rk(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return xk(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Nk);case"emailLink":return async function(e,t){return Tw(e,"POST","/v1/accounts:signInWithEmailLink",Sw(e,t))}(e,{email:this._email,oobCode:this._password});default:lw(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return xk(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ik);case"emailLink":return async function(e,t){return Tw(e,"POST","/v1/accounts:signInWithEmailLink",Sw(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:lw(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function Pk(e,t){return Tw(e,"POST","/v1/accounts:signInWithIdp",Sw(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ak extends Tk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ak(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lw("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ep(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ak(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Pk(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pk(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pk(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xy(t)}return e}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Ok{constructor(e){var t,n,r,i,o,s;const a=Sy(_y(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);fw(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Sy(_y(e)).link,n=t?Sy(_y(t)).deep_link_id:null,r=Sy(_y(e)).deep_link_id;return(r?Sy(_y(r)).link:null)||r||n||t||e}(e);try{return new Ok(t)}catch(n){return null}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Lk{constructor(){this.providerId=Lk.PROVIDER_ID}static credential(e,t){return Rk._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ok.parseLink(t);return fw(n,"argument-error"),Rk._fromEmailAndCode(e,n.code,n.tenantId)}}Lk.PROVIDER_ID="password",Lk.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lk.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Dk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Mk extends Dk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $k extends Mk{constructor(){super("facebook.com")}static credential(e){return Ak._fromParams({providerId:$k.PROVIDER_ID,signInMethod:$k.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $k.credentialFromTaggedObject(e)}static credentialFromError(e){return $k.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return $k.credential(e.oauthAccessToken)}catch(t){return null}}}$k.FACEBOOK_SIGN_IN_METHOD="facebook.com",$k.PROVIDER_ID="facebook.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Vk extends Mk{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ak._fromParams({providerId:Vk.PROVIDER_ID,signInMethod:Vk.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vk.credentialFromTaggedObject(e)}static credentialFromError(e){return Vk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Vk.credential(t,n)}catch(r){return null}}}Vk.GOOGLE_SIGN_IN_METHOD="google.com",Vk.PROVIDER_ID="google.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class jk extends Mk{constructor(){super("github.com")}static credential(e){return Ak._fromParams({providerId:jk.PROVIDER_ID,signInMethod:jk.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jk.credentialFromTaggedObject(e)}static credentialFromError(e){return jk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return jk.credential(e.oauthAccessToken)}catch(t){return null}}}jk.GITHUB_SIGN_IN_METHOD="github.com",jk.PROVIDER_ID="github.com";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class Uk extends Mk{constructor(){super("twitter.com")}static credential(e,t){return Ak._fromParams({providerId:Uk.PROVIDER_ID,signInMethod:Uk.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Uk.credentialFromTaggedObject(e)}static credentialFromError(e){return Uk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Uk.credential(t,n)}catch(r){return null}}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function Fk(e,t){return Tw(e,"POST","/v1/accounts:signUp",Sw(e,t))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */Uk.TWITTER_SIGN_IN_METHOD="twitter.com",Uk.PROVIDER_ID="twitter.com";class zk{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await qw._fromIdTokenResponse(e,n,r),o=Bk(n);return new zk({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Bk(n);return new zk({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Bk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Hk extends yy{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Hk.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Hk(e,t,n,r)}}function Wk(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Hk._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function qk(e,t,n=!1){if(Ub(e.app))return Promise.reject(hw(e));const r="signIn",i=await Wk(e,r,t),o=await zk._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function Kk(e){const t=pk(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Gk(e,t,n){return Ub(e.app)?Promise.reject(hw(e)):async function(e,t){return qk(pk(e),t)}(Iy(e),Lk.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Kk(e),t}))}function Qk(e,t,n,r){return Iy(e).onAuthStateChanged(t,n,r)}function Xk(e){return Iy(e).signOut()}const Yk="__sak";
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Jk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yk,"1"),this.storage.removeItem(Yk),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Zk extends Jk{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ck(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);lk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zk.type="LOCAL";const eE=Zk;
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class tE extends Jk{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tE.type="SESSION";const nE=tE;
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class rE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new rE(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function iE(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */rE.receivers=[];class oE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=iE("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function sE(){return window}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function aE(){return void 0!==sE().WorkerGlobalScope&&"function"==typeof sE().importScripts}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const lE="firebaseLocalStorageDb",cE="firebaseLocalStorage",uE="fbase_key";class hE{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function dE(e,t){return e.transaction([cE],t?"readwrite":"readonly").objectStore(cE)}function fE(){const e=indexedDB.open(lE,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(cE,{keyPath:uE})}catch(Yg){n(Yg)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(cE)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(lE);return new hE(e).toPromise()}(),t(await fE()))}))}))}async function pE(e,t,n){const r=dE(e,!0).put({[uE]:t,value:n});return new hE(r).toPromise()}function mE(e,t){const n=dE(e,!0).delete(t);return new hE(n).toPromise()}class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await fE()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Yg){if(t++>3)throw Yg;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rE._getInstance(aE()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new oE(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fE();return await pE(e,Yk,"1"),await mE(e,Yk),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pE(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=dE(e,!1).get(t),r=await new hE(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mE(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=dE(e,!1).getAll();return new hE(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}gE.type="LOCAL";const vE=gE;new bw(3e4,6e4);
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class yE extends Tk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pk(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pk(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pk(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bE(e){return qk(e.auth,new yE(e),e.bypassAuthState)}function wE(e){const{auth:t,user:n}=e;return fw(n,t,"internal-error"),
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
async function(e,t,n=!1){const{auth:r}=e;if(Ub(r.app))return Promise.reject(hw(r));const i="reauthenticate";try{const o=await jw(e,Wk(r,i,t,e),n);fw(o.idToken,r,"internal-error");const s=$w(o.idToken);fw(s,r,"internal-error");const{sub:a}=s;return fw(e.uid===a,r,"user-mismatch"),zk._forOperation(e,i,o)}catch(Yg){throw"auth/user-not-found"===(null==Yg?void 0:Yg.code)&&lw(r,"user-mismatch"),Yg}}(n,new yE(e),e.bypassAuthState)}async function kE(e){const{auth:t,user:n}=e;return fw(n,t,"internal-error"),async function(e,t,n=!1){const r=await jw(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zk._forOperation(e,"link",r)}(n,new yE(e),e.bypassAuthState)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class EE{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Yg){this.reject(Yg)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(Yg){this.reject(Yg)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bE;case"linkViaPopup":case"linkViaRedirect":return kE;case"reauthViaPopup":case"reauthViaRedirect":return wE;default:lw(this.auth,"internal-error")}}resolve(e){mw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const xE=new bw(2e3,1e4);class SE extends EE{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,SE.currentPopupAction&&SE.currentPopupAction.cancel(),SE.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fw(e,this.auth,"internal-error"),e}async onExecution(){mw(1===this.filter.length,"Popup operations only handle one event");const e=iE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(cw(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(cw(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,SE.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(cw(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,xE.get())};e()}}SE.currentPopupAction=null;
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const _E="pendingRedirect",CE=new Map;class TE extends EE{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=CE.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Yw(_E,e.config.apiKey,e.name)}(t),r=function(e){return Gw(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Yg){e=()=>Promise.reject(Yg)}CE.set(this.auth._key(),e)}return this.bypassAuthState||CE.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function IE(e,t){CE.set(e._key(),t)}async function NE(e,t,n=!1){if(Ub(e.app))return Promise.reject(hw(e));const r=pk(e),i=
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function(e,t){return t?Gw(t):(fw(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new TE(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class RE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AE(e);default:return!1}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!AE(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(cw(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function AE({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const OE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LE=/^https?/;async function DE(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return _w(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(ME(r))return}catch(n){}lw(e,"unauthorized-domain")}function ME(e){const t=gw(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!LE.test(n))return!1;if(OE.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const $E=new bw(3e4,6e4);function VE(){const e=sE().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function jE(e){return new Promise(((t,n)=>{var r,i,o;function s(){VE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(cw(e,"network-request-failed"))},timeout:$E.get()})}if(null===(i=null===(r=sE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=sE().gapi)||void 0===o?void 0:o.load)){const t=function(e){return`__${e}${Math.floor(1e6*Math.random())}`}("iframefcb");return sE()[t]=()=>{gapi.load?s():n(cw(e,"network-request-failed"))},vk(`${gk.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw UE=null,e}))}let UE=null;
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const FE=new bw(5e3,15e3),zE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HE(e){const t=e.config;fw(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ww(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Bb},i=BE.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xy(r).slice(1)}`}async function WE(e){const t=await function(e){return UE=UE||jE(e),UE}(e),n=sE().gapi;return fw(n,e,"internal-error"),t.open({where:document.body,url:HE(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zE,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=cw(e,"network-request-failed"),o=sE().setTimeout((()=>{r(i)}),FE.get());function s(){sE().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}
/**
             * @license
             * Copyright 2020 Google LLC.
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const qE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Yg){}}}function GE(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qE),{width:r.toString(),height:i.toString(),top:o,left:s}),c=gy().toLowerCase();n&&(a=nk(c)?"_blank":n),ek(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=gy()){var t;return ak(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(t||"",a),new KE(null);const h=window.open(t||"",a,u);fw(h,e,"popup-blocked");try{h.focus()}catch(Yg){}return new KE(h)}const QE="__/auth/handler",XE="emulator/auth/handler",YE=encodeURIComponent("fac");async function JE(e,t,n,r,i,o){fw(e.config.authDomain,e,"auth-domain-config-required"),fw(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bb,eventId:i};if(t instanceof Dk){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))s[e]=t}if(t instanceof Mk){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${YE}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?ww(e,XE):`https://${e.authDomain}/${QE}`}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)}?${xy(a).slice(1)}${c}`}const ZE="webStorageSupport",ex=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nE,this._completeRedirectFn=NE,this._overrideRedirectResult=IE}async _openPopup(e,t,n,r){var i;return mw(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),GE(e,await JE(e,t,n,gw(),r),iE())}async _openRedirect(e,t,n,r){return await this._originValidation(e),function(e){sE().location.href=e}(await JE(e,t,n,gw(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(mw(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await WE(e),n=new RE(e);return t.register("authEvent",(t=>(fw(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ZE,{type:ZE},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ZE];void 0!==i&&t(!!i),lw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DE(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ck()||tk()||ak()}};var tx="@firebase/auth",nx="1.9.1";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class rx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const ix=py("authIdTokenMaxAge")||300;let ox=null;var sx;!function(e){gk=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=cw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),sx="Browser",Vb(new Ny("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;fw(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:sx,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uk(sx)},l=new fk(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gw);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Vb(new Ny("auth-internal",(e=>(e=>new rx(e))(pk(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),qb(tx,nx,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sx)),qb(tx,nx,"esm2017");var ax,lx,cx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */(function(){var e;
/** @license

             Copyright The Closure Library Authors.
             SPDX-License-Identifier: Apache-2.0
            */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);h(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,lx=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},ax=r}).apply(void 0!==cx?cx:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ux,hx,dx,fx,px,mx,gx,vx,yx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
            Copyright The Closure Library Authors.
            SPDX-License-Identifier: Apache-2.0
            */(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof yx&&yx];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));
/** @license

             Copyright The Closure Library Authors.
             SPDX-License-Identifier: Apache-2.0
            */
var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(Qg){x(Qg)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function A(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Qg){}return e}();function D(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Jg){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,O);var M={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),V=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function F(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}F.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=B(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new j(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=Z(n),e&&e[$]?e.K(t,n,!!s(r)&&!!r.capture,i):function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Y(e);if(l||(e[H]=l=new F(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=Z(n),e&&e[$]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=B(o=e.g[t],n,r,i))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Y(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[$])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Y(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function Q(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function Y(e){return(e=e[H])instanceof F?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){A.call(this),this.i=new F(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;k(t=new O(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ne(s,r,!0,t)&&i}if(i=ne(s=t.g=e,r,!0,t)&&i,i=ne(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ne(s=t.g=n[o],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&z(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re((()=>{e.g=null,e.i&&(e.i=!1,ie(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ee,A),ee.prototype[$]=!0,ee.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(e){A.call(this),this.h=e,this.g={}}h(se,A);var ae=[];function le(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&G(e)}),e),e.g={}}se.prototype.N=function(){se.aa.N.call(this),le(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,ue=i.JSON.parse,he=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function de(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}de.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){O.call(this,"d")}function ve(){O.call(this,"c")}h(ge,O),h(ve,O);var ye={},be=null;function we(){return be=be||new ee}function ke(e){O.call(this,ye.La,e)}function Ee(e){const t=we();te(t,new ke(t))}function xe(e,t){O.call(this,ye.STAT_EVENT,e),this.stat=t}function Se(e){const t=we();te(t,new xe(t,e))}function _e(e,t){O.call(this,ye.Ma,e),this.size=t}function Ce(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ce(n)}catch(rv){return t}}(e,n)+(r?" "+r:"")}))}ye.La="serverreachability",h(ke,O),ye.STAT_EVENT="statevent",h(xe,O),ye.Ma="timingevent",h(_e,O),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ne,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ae(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new se(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Ae,de),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},Ne=new Ae;var De={},Me={};function $e(e,t,n){e.L=1,e.v=ct(it(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Fe(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ae[0]=i.toString()),i=ae);for(var o=0;o<i.length;o++){var s=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.S=Date.now()+e.I,ze(e,e.I)}function ze(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function Be(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||sn(e.j,e)}function We(e){Be(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ye(n.h,e)))if(!e.K&&Ye(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(nv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Gt(n)}tn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(nv){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Je(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=un(r,r.J?r.ia:null,r.W),s.K){Ze(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(Be(a),Fe(a)),r.g=s}else en(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||ln(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ln(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(nv){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Bt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Bt(this.g);var t=this.g.Ba();if(this.g.Z(),!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||Ee(),Be(this);var n=this.g.Z();this.X=n;t:if(je(this)){var r=Ht(this.g);e="";var o=r.length,s=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),We(this),He(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Me){4==d&&(this.s=4,Se(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==De){this.s=4,Se(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),qe(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),nn(h),h.M=!0,Se(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Ie(this.i,this.l,a,null),qe(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&2<=Bt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),We(this),He(this)}}}catch(uv){}},Oe.prototype.cancel=function(){this.J=!0,We(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Se(17)),We(this),this.s=2,He(this)):ze(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,e=i.PerformanceNavigationTiming?0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ye(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ge.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,st(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),at(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),st(this,t[4]),this.l=ht(t[5]||"",!0),at(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function it(e){return new rt(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function st(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function at(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),xt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,vt)),e.i=new bt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,pt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,pt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?gt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,yt)),e.join("")};var pt=/[#\/\?@]/g,mt=/[#\?:]/g,gt=/[#\?]/g,vt=/[#\?@]/g,yt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){wt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return wt(e),t=St(e,t),e.g.has(t)}function xt(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),d(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Jg){}}function Ct(){this.g=new he}function Tt(e,t,n){const r=n||"";try{tt(e,(function(e,n){let i=e;s(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Yg){throw t.push(r+"type="+encodeURIComponent("_badmap")),Yg}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Dt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"==typeof e)Et(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,Et(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},h(It,de),It.prototype.g=function(){return new Nt(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),h(Nt,ee),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):At(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Dt,ee);var Mt=/^https?$/i,$t=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,jt(e),Ft(e)}function jt(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ut(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Bt(e)||2!=e.Z()))if(e.u&&4==Bt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Bt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(nt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Mt.test(s?s.toLowerCase():"")}n=o}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var a=2<Bt(e)?e.g.statusText:""}catch(rv){a=""}e.l=a+" ["+e.Z()+"]",jt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){zt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch(Yg){}}}function zt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Bt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bx){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Qt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Jt(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ct(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Xg){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Fe(t)}cn(e)}function Gt(e){e.g&&(nn(e),e.g.cancel(),e.g=null)}function Qt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||R(),I||(T(),I=!0),N.add(t,e),e.B=0}}function Yt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),$e(n,r,t)}function Jt(e,t){e.H&&y(e.H,(function(e,n){lt(t,n,e)})),e.l&&tt({},(function(e,n){lt(t,n,e)}))}function Zt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Tt(a,e,"req"+n+"_")}catch(uv){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function en(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||R(),I||(T(),I=!0),N.add(t,e),e.v=0}}function tn(e){return!(e.g||e.u||3<=e.v||(e.Y++,e.u=Ce(c(e.Fa,e),an(e,e.v)),e.v++,0))}function nn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function rn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(it(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),nn(e),e.g=null;var r=2}else{if(!Ye(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new _e(r,n)),Xt(e)}else en(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ce(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&tn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ct(r),t?function(e,t){const n=new Te;if(i.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),_t(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)})).catch((()=>{clearTimeout(r),_t(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),cn(e),Qt(e)}function cn(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function un(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),st(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new rt(null);r&&ot(s,r),t&&(s.g=t),o&&st(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Jt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Dt(new It({eb:n})):new Dt(e.pa)).Ha(e.J),t}function dn(){}function fn(){}function pn(e,t){ee.call(this),this.g=new qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new vn(this)}function mn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gn(){ve.call(this),this.status=1}function vn(e){this.g=e}(e=Dt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?fe(this.o):fe(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Jg){return void Vt(this,Jg)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call($t,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Jg){Vt(this,Jg)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch(ut){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ut){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=un(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),k(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Jt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ot(o)))+"&"+t:this.m&&Lt(n,this.m,o)),Je(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,$e(i,n,null)):$e(i,n,t),this.G=2}}else 3==this.G&&(e?Yt(this,e):0==this.i.length||Qe(this.h)||Yt(this))},e.Fa=function(){if(this.u=null,rn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Gt(this),rn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),tn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new pn(e,t)},h(pn,ee),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Xt(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)},h(mn,ge),h(gn,ve),h(vn,dn),vn.prototype.ua=function(){te(this.g,"a")},vn.prototype.ta=function(e){te(this.g,new mn(e))},vn.prototype.sa=function(e){te(this.g,new gn)},vn.prototype.ra=function(){te(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,vx=function(){return new fn},gx=function(){return we()},mx=ye,px={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,fx=Re,Pe.COMPLETE="complete",dx=Pe,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,hx=pe,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,ux=Dt}).apply(void 0!==yx?yx:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const bx="@firebase/firestore",wx="4.7.9";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class kx{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kx.UNAUTHENTICATED=new kx(null),kx.GOOGLE_CREDENTIALS=new kx("google-credentials-uid"),kx.FIRST_PARTY=new kx("first-party-uid"),kx.MOCK_USER=new kx("mock-user");
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
let Ex="11.4.0";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const xx=new Vy("@firebase/firestore");function Sx(){return xx.logLevel}function _x(e,...t){if(xx.logLevel<=Oy.DEBUG){const n=t.map(Ix);xx.debug(`Firestore (${Ex}): ${e}`,...n)}}function Cx(e,...t){if(xx.logLevel<=Oy.ERROR){const n=t.map(Ix);xx.error(`Firestore (${Ex}): ${e}`,...n)}}function Tx(e,...t){if(xx.logLevel<=Oy.WARN){const n=t.map(Ix);xx.warn(`Firestore (${Ex}): ${e}`,...n)}}function Ix(e){if("string"==typeof e)return e;try{
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */return function(e){return JSON.stringify(e)}(e)}catch(lv){return e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Nx(e="Unexpected state"){const t=`FIRESTORE (${Ex}) INTERNAL ASSERTION FAILED: `+e;throw Cx(t),new Error(t)}function Rx(e,t){e||Nx()}function Px(e,t){return e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Ax={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ox extends yy{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Lx{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Dx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kx.UNAUTHENTICATED)))}shutdown(){}}class $x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=kx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rx(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Lx;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lx,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{_x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(_x("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lx)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(_x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rx("string"==typeof t.accessToken),new Dx(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rx(null===e||"string"==typeof e),new kx(e)}}class jx{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=kx.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ux{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new jx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(kx.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ub(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Rx(void 0===this.o);const n=e=>{null!=e.error&&_x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,_x("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{_x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):_x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Fx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Rx("string"==typeof e.token),this.R=e.token,new Fx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Bx(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Hx{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Bx(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Wx(e,t){return e<t?-1:e>t?1:0}function qx(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Kx=-62135596800,Gx=1e6;class Qx{static now(){return Qx.fromMillis(Date.now())}static fromDate(e){return Qx.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Gx);return new Qx(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ox(Ax.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ox(Ax.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kx)throw new Ox(Ax.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ox(Ax.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gx}_compareTo(e){return this.seconds===e.seconds?Wx(this.nanoseconds,e.nanoseconds):Wx(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class Xx{static fromTimestamp(e){return new Xx(e)}static min(){return new Xx(new Qx(0,0))}static max(){return new Xx(new Qx(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const Yx="__name__";class Jx{constructor(e,t,n){void 0===t?t=0:t>e.length&&Nx(),void 0===n?n=e.length-t:n>e.length-t&&Nx(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Jx.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jx?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Jx.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Jx.isNumericId(e),r=Jx.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Jx.extractNumericId(e).compare(Jx.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ax.fromString(e.substring(4,e.length-2))}}class Zx extends Jx{construct(e,t,n){return new Zx(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ox(Ax.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Zx(t)}static emptyPath(){return new Zx([])}}const eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tS extends Jx{construct(e,t,n){return new tS(e,t,n)}static isValidIdentifier(e){return eS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tS.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Yx}static keyField(){return new tS([Yx])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ox(Ax.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ox(Ax.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ox(Ax.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ox(Ax.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tS(t)}static emptyPath(){return new tS([])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class nS{constructor(e){this.path=e}static fromPath(e){return new nS(Zx.fromString(e))}static fromName(e){return new nS(Zx.fromString(e).popFirst(5))}static empty(){return new nS(Zx.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zx.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zx.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nS(new Zx(e.slice()))}}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function rS(e){return new iS(e.readTime,e.key,-1)}class iS{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new iS(Xx.min(),nS.empty(),-1)}static max(){return new iS(Xx.max(),nS.empty(),-1)}}function oS(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=nS.comparator(e.documentKey,t.documentKey),0!==n?n:Wx(e.largestBatchId,t.largestBatchId)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */)}class sS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */async function aS(e){if(e.code!==Ax.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;_x("LocalStore","Unexpectedly lost primary lease")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class lS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lS(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof lS?t:lS.resolve(t)}catch(e){return lS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):lS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):lS.reject(t)}static resolve(e){return new lS(((t,n)=>{t(e)}))}static reject(e){return new lS(((t,n)=>{n(e)}))}static waitFor(e){return new lS(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=lS.resolve(!1);for(const n of e)t=t.next((e=>e?lS.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new lS(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new lS(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function cS(e){return"IndexedDbTransactionError"===e.name}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class uS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}function hS(e){return null==e}function dS(e){return 0===e&&1/e==-1/0}function fS(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function pS(e){return e+""}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function mS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gS(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */uS.ae=-1;class yS{constructor(e,t){this.comparator=e,this.root=t||wS.EMPTY}insert(e,t){return new yS(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wS.BLACK,null,null))}remove(e){return new yS(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wS.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bS(this.root,e,this.comparator,!1)}getReverseIterator(){return new bS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bS(this.root,e,this.comparator,!0)}}class bS{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wS{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wS.RED,this.left=null!=r?r:wS.EMPTY,this.right=null!=i?i:wS.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wS(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wS.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wS.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wS.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wS.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nx();if(this.right.isRed())throw Nx();const e=this.left.check();if(e!==this.right.check())throw Nx();return e+(this.isRed()?0:1)}}wS.EMPTY=null,wS.RED=!0,wS.BLACK=!1,wS.EMPTY=new class{constructor(){this.size=0}get key(){throw Nx()}get value(){throw Nx()}get color(){throw Nx()}get left(){throw Nx()}get right(){throw Nx()}copy(e,t,n,r,i){return this}insert(e,t,n){return new wS(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class kS{constructor(e){this.comparator=e,this.data=new yS(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ES(this.data.getIterator())}getIteratorFrom(e){return new ES(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof kS))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kS(this.comparator);return t.data=e,t}}class ES{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xS{constructor(e){this.fields=e,e.sort(tS.comparator)}static empty(){return new xS([])}unionWith(e){let t=new kS(tS.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xS(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qx(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class _S{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new SS("Invalid base64 string: "+e):e}}(e);return new _S(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new _S(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wx(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_S.EMPTY_BYTE_STRING=new _S("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function TS(e){if(Rx(!!e),"string"==typeof e){let t=0;const n=CS.exec(e);if(Rx(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:IS(e.seconds),nanos:IS(e.nanos)}}function IS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function NS(e){return"string"==typeof e?_S.fromBase64String(e):_S.fromUint8Array(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const RS="server_timestamp",PS="__type__",AS="__previous_value__",OS="__local_write_time__";function LS(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[PS])||void 0===n?void 0:n.stringValue)===RS}function DS(e){const t=e.mapValue.fields[AS];return LS(t)?DS(t):t}function MS(e){const t=TS(e.mapValue.fields[OS].timestampValue);return new Qx(t.seconds,t.nanos)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $S{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const VS="(default)";class jS{constructor(e,t){this.projectId=e,this.database=t||VS}static empty(){return new jS("","")}get isDefaultDatabase(){return this.database===VS}isEqual(e){return e instanceof jS&&e.projectId===this.projectId&&e.database===this.database}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const US="__type__",FS="__max__",zS={},BS="__vector__",HS="value";function WS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?LS(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===FS}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[US])||void 0===n?void 0:n.stringValue)===BS}(e)?10:11:Nx()}function qS(e,t){if(e===t)return!0;const n=WS(e);if(n!==WS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return MS(e).isEqual(MS(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=TS(e.timestampValue),r=TS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return NS(e.bytesValue).isEqual(NS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return IS(e.geoPointValue.latitude)===IS(t.geoPointValue.latitude)&&IS(e.geoPointValue.longitude)===IS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return IS(e.integerValue)===IS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=IS(e.doubleValue),r=IS(t.doubleValue);return n===r?dS(n)===dS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qx(e.arrayValue.values||[],t.arrayValue.values||[],qS);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mS(n)!==mS(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qS(n[i],r[i])))return!1;return!0}(e,t);default:return Nx()}}function KS(e,t){return void 0!==(e.values||[]).find((e=>qS(e,t)))}function GS(e,t){if(e===t)return 0;const n=WS(e),r=WS(t);if(n!==r)return Wx(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wx(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=IS(e.integerValue||e.doubleValue),r=IS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return QS(e.timestampValue,t.timestampValue);case 4:return QS(MS(e),MS(t));case 5:return Wx(e.stringValue,t.stringValue);case 6:return function(e,t){const n=NS(e),r=NS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Wx(n[i],r[i]);if(0!==e)return e}return Wx(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Wx(IS(e.latitude),IS(t.latitude));return 0!==n?n:Wx(IS(e.longitude),IS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return XS(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[HS])||void 0===n?void 0:n.arrayValue,c=null===(r=a[HS])||void 0===r?void 0:r.arrayValue,u=Wx((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:XS(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zS&&t===zS)return 0;if(e===zS)return 1;if(t===zS)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Wx(r[s],o[s]);if(0!==e)return e;const t=GS(n[r[s]],i[o[s]]);if(0!==t)return t}return Wx(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Nx()}}function QS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wx(e,t);const n=TS(e),r=TS(t),i=Wx(n.seconds,r.seconds);return 0!==i?i:Wx(n.nanos,r.nanos)}function XS(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=GS(n[i],r[i]);if(e)return e}return Wx(n.length,r.length)}function YS(e){return JS(e)}function JS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=TS(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return NS(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return nS.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=JS(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${JS(e.fields[i])}`;return n+"}"}(e.mapValue):Nx()}function ZS(e){switch(WS(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=DS(e);return t?16+ZS(t):16;case 5:return 2*e.stringValue.length;case 6:return NS(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ZS(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return gS(e.fields,((e,n)=>{t+=e.length+ZS(n)})),t}(e.mapValue);default:throw Nx()}}function e_(e){return!!e&&"integerValue"in e}function t_(e){return!!e&&"arrayValue"in e}function n_(e){return!!e&&"nullValue"in e}function r_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function i_(e){return!!e&&"mapValue"in e}function o_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gS(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=o_(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=o_(e.arrayValue.values[n]);return t}return Object.assign({},e)}class s_{constructor(e){this.value=e}static empty(){return new s_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!i_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=o_(t)}setAll(e){let t=tS.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=o_(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());i_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qS(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];i_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){gS(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new s_(o_(this.value))}}function a_(e){const t=[];return gS(e.fields,((e,n)=>{const r=new tS([e]);if(i_(n)){const e=a_(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new xS(t)
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class l_{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new l_(e,0,Xx.min(),Xx.min(),Xx.min(),s_.empty(),0)}static newFoundDocument(e,t,n,r){return new l_(e,1,t,Xx.min(),n,r,0)}static newNoDocument(e,t){return new l_(e,2,t,Xx.min(),Xx.min(),s_.empty(),0)}static newUnknownDocument(e,t){return new l_(e,3,t,Xx.min(),Xx.min(),s_.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xx.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=s_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=s_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xx.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof l_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new l_(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class c_{constructor(e,t){this.position=e,this.inclusive=t}}function u_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?nS.comparator(nS.fromName(s.referenceValue),n.key):GS(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function h_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qS(e.position[n],t.position[n]))return!1;return!0}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class d_{constructor(e,t="asc"){this.field=e,this.dir=t}}function f_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class p_{}class m_ extends p_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new E_(e,t,n):"array-contains"===t?new C_(e,n):"in"===t?new T_(e,n):"not-in"===t?new I_(e,n):"array-contains-any"===t?new N_(e,n):new m_(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new x_(e,n):new S_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(GS(t,this.value)):null!==t&&WS(this.value)===WS(t)&&this.matchesComparison(GS(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nx()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class g_ extends p_{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new g_(e,t)}matches(e){return v_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function v_(e){return"and"===e.op}function y_(e){return function(e){for(const t of e.filters)if(t instanceof g_)return!1;return!0}(e)&&v_(e)}function b_(e){if(e instanceof m_)return e.field.canonicalString()+e.op.toString()+YS(e.value);if(y_(e))return e.filters.map((e=>b_(e))).join(",");{const t=e.filters.map((e=>b_(e))).join(",");return`${e.op}(${t})`}}function w_(e,t){return e instanceof m_?function(e,t){return t instanceof m_&&e.op===t.op&&e.field.isEqual(t.field)&&qS(e.value,t.value)}(e,t):e instanceof g_?function(e,t){return t instanceof g_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&w_(n,t.filters[r])),!0)}(e,t):void Nx()}function k_(e){return e instanceof m_?function(e){return`${e.field.canonicalString()} ${e.op} ${YS(e.value)}`}(e):e instanceof g_?function(e){return e.op.toString()+" {"+e.getFilters().map(k_).join(" ,")+"}"}(e):"Filter"}class E_ extends m_{constructor(e,t,n){super(e,t,n),this.key=nS.fromName(n.referenceValue)}matches(e){const t=nS.comparator(e.key,this.key);return this.matchesComparison(t)}}class x_ extends m_{constructor(e,t){super(e,"in",t),this.keys=__(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class S_ extends m_{constructor(e,t){super(e,"not-in",t),this.keys=__(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function __(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>nS.fromName(e.referenceValue)))}class C_ extends m_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t_(t)&&KS(t.arrayValue,this.value)}}class T_ extends m_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&KS(this.value.arrayValue,t)}}class I_ extends m_{constructor(e,t){super(e,"not-in",t)}matches(e){if(KS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!KS(this.value.arrayValue,t)}}class N_ extends m_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>KS(this.value.arrayValue,e)))}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class R_{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.le=null}}function P_(e,t=null,n=[],r=[],i=null,o=null,s=null){return new R_(e,t,n,r,i,o,s)}function A_(e){const t=Px(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>b_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),hS(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>YS(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>YS(e))).join(",")),t.le=e}return t.le}function O_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!f_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!w_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!h_(e.startAt,t.startAt)&&h_(e.endAt,t.endAt)}function L_(e){return nS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class D_{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function M_(e){return new D_(e)}function $_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function V_(e){const t=Px(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new kS(tS.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new d_(r,n))})),e.has(tS.keyField().canonicalString())||t.he.push(new d_(tS.keyField(),n))}return t.he}function j_(e){const t=Px(e);return t.Pe||(t.Pe=function(e,t){if("F"===e.limitType)return P_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new d_(e.field,t)}));const n=e.endAt?new c_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new c_(e.startAt.position,e.startAt.inclusive):null;return P_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,V_(e))),t.Pe}function U_(e,t,n){return new D_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function F_(e,t){return O_(j_(e),j_(t))&&e.limitType===t.limitType}function z_(e){return`${A_(j_(e))}|lt:${e.limitType}`}function B_(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>k_(e))).join(", ")}]`),hS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>YS(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>YS(e))).join(",")),`Target(${t})`}(j_(e))}; limitType=${e.limitType})`}function H_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of V_(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=u_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,V_(e),t)||e.endAt&&!function(e,t,n){const r=u_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,V_(e),t))}(e,t)}function W_(e){return(t,n)=>{let r=!1;for(const i of V_(e)){const e=q_(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function q_(e,t,n){const r=e.field.isKeyField()?nS.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?GS(r,i):Nx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nx()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class K_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gS(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const G_=new yS(nS.comparator);function Q_(){return G_}const X_=new yS(nS.comparator);function Y_(...e){let t=X_;for(const n of e)t=t.insert(n.key,n);return t}function J_(e){let t=X_;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Z_(){return tC()}function eC(){return tC()}function tC(){return new K_((e=>e.toString()),((e,t)=>e.isEqual(t)))}const nC=new yS(nS.comparator),rC=new kS(nS.comparator);function iC(...e){let t=rC;for(const n of e)t=t.add(n);return t}const oC=new kS(Wx);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function sC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dS(t)?"-0":t}}function aC(e){return{integerValue:""+e}}function lC(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!dS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(t)?aC(t):sC(e,t)}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class cC{constructor(){this._=void 0}}function uC(e,t,n){return e instanceof fC?function(e,t){const n={fields:{[PS]:{stringValue:RS},[OS]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&LS(t)&&(t=DS(t)),t&&(n.fields[AS]=t),{mapValue:n}}(n,t):e instanceof pC?mC(e,t):e instanceof gC?vC(e,t):function(e,t){const n=dC(e,t),r=bC(n)+bC(e.Ie);return e_(n)&&e_(e.Ie)?aC(r):sC(e.serializer,r)}(e,t)}function hC(e,t,n){return e instanceof pC?mC(e,t):e instanceof gC?vC(e,t):n}function dC(e,t){return e instanceof yC?function(e){return e_(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class fC extends cC{}class pC extends cC{constructor(e){super(),this.elements=e}}function mC(e,t){const n=wC(t);for(const r of e.elements)n.some((e=>qS(e,r)))||n.push(r);return{arrayValue:{values:n}}}class gC extends cC{constructor(e){super(),this.elements=e}}function vC(e,t){let n=wC(t);for(const r of e.elements)n=n.filter((e=>!qS(e,r)));return{arrayValue:{values:n}}}class yC extends cC{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bC(e){return IS(e.integerValue||e.doubleValue)}function wC(e){return t_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class kC{constructor(e,t){this.version=e,this.transformResults=t}}class EC{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new EC}static exists(e){return new EC(void 0,e)}static updateTime(e){return new EC(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class SC{}function _C(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new DC(e.key,EC.none()):new RC(e.key,e.data,EC.none());{const n=e.data,r=s_.empty();let i=new kS(tS.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new PC(e.key,r,new xS(i.toArray()),EC.none())}}function CC(e,t,n){e instanceof RC?function(e,t,n){const r=e.value.clone(),i=OC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof PC?function(e,t,n){if(!xC(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=OC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(AC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function TC(e,t,n,r){return e instanceof RC?function(e,t,n,r){if(!xC(e.precondition,t))return n;const i=e.value.clone(),o=LC(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof PC?function(e,t,n,r){if(!xC(e.precondition,t))return n;const i=LC(e.fieldTransforms,r,t),o=t.data;return o.setAll(AC(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function IC(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dC(r.transform,e||null);null!=i&&(null===n&&(n=s_.empty()),n.set(r.field,i))}return n||null}function NC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qx(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pC&&t instanceof pC||e instanceof gC&&t instanceof gC?qx(e.elements,t.elements,qS):e instanceof yC&&t instanceof yC?qS(e.Ie,t.Ie):e instanceof fC&&t instanceof fC}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class RC extends SC{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class PC extends SC{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function AC(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function OC(e,t,n){const r=new Map;Rx(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,hC(s,a,n[i]))}return r}function LC(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,uC(e,o,t))}return r}class DC extends SC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MC extends SC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $C{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&CC(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=TC(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=TC(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=eC();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=_C(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Xx.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),iC())}isEqual(e){return this.batchId===e.batchId&&qx(this.mutations,e.mutations,((e,t)=>NC(e,t)))&&qx(this.baseMutations,e.baseMutations,((e,t)=>NC(e,t)))}}class VC{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rx(e.mutations.length===n.length);let r=nC;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new VC(e,t,n,r)}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class jC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class UC{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var FC,zC;function BC(e){if(void 0===e)return Cx("GRPC error has no .code"),Ax.UNKNOWN;switch(e){case FC.OK:return Ax.OK;case FC.CANCELLED:return Ax.CANCELLED;case FC.UNKNOWN:return Ax.UNKNOWN;case FC.DEADLINE_EXCEEDED:return Ax.DEADLINE_EXCEEDED;case FC.RESOURCE_EXHAUSTED:return Ax.RESOURCE_EXHAUSTED;case FC.INTERNAL:return Ax.INTERNAL;case FC.UNAVAILABLE:return Ax.UNAVAILABLE;case FC.UNAUTHENTICATED:return Ax.UNAUTHENTICATED;case FC.INVALID_ARGUMENT:return Ax.INVALID_ARGUMENT;case FC.NOT_FOUND:return Ax.NOT_FOUND;case FC.ALREADY_EXISTS:return Ax.ALREADY_EXISTS;case FC.PERMISSION_DENIED:return Ax.PERMISSION_DENIED;case FC.FAILED_PRECONDITION:return Ax.FAILED_PRECONDITION;case FC.ABORTED:return Ax.ABORTED;case FC.OUT_OF_RANGE:return Ax.OUT_OF_RANGE;case FC.UNIMPLEMENTED:return Ax.UNIMPLEMENTED;case FC.DATA_LOSS:return Ax.DATA_LOSS;default:return Nx()}}(zC=FC||(FC={}))[zC.OK=0]="OK",zC[zC.CANCELLED=1]="CANCELLED",zC[zC.UNKNOWN=2]="UNKNOWN",zC[zC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zC[zC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zC[zC.NOT_FOUND=5]="NOT_FOUND",zC[zC.ALREADY_EXISTS=6]="ALREADY_EXISTS",zC[zC.PERMISSION_DENIED=7]="PERMISSION_DENIED",zC[zC.UNAUTHENTICATED=16]="UNAUTHENTICATED",zC[zC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zC[zC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zC[zC.ABORTED=10]="ABORTED",zC[zC.OUT_OF_RANGE=11]="OUT_OF_RANGE",zC[zC.UNIMPLEMENTED=12]="UNIMPLEMENTED",zC[zC.INTERNAL=13]="INTERNAL",zC[zC.UNAVAILABLE=14]="UNAVAILABLE",zC[zC.DATA_LOSS=15]="DATA_LOSS";
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
const HC=new ax([4294967295,4294967295],0);function WC(e){const t=(new TextEncoder).encode(e),n=new lx;return n.update(t),new Uint8Array(n.digest())}function qC(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ax([n,r],0),new ax([i,o],0)]}class KC{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new GC(`Invalid padding: ${t}`);if(n<0)throw new GC(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new GC(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new GC(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ax.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(ax.fromNumber(n)));return 1===r.compare(HC)&&(r=new ax([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=WC(e),[n,r]=qC(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new KC(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=WC(e),[n,r]=qC(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class GC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class QC{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,XC.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new QC(Xx.min(),r,new yS(Wx),Q_(),iC())}}class XC{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new XC(n,t,iC(),iC(),iC())}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class YC{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class JC{constructor(e,t){this.targetId=e,this.ge=t}}class ZC{constructor(e,t,n=_S.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class eT{constructor(){this.pe=0,this.ye=rT(),this.we=_S.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=iC(),t=iC(),n=iC();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Nx()}})),new XC(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=rT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rx(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class tT{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Q_(),this.$e=nT(),this.Ke=nT(),this.Ue=new yS(Wx)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Nx()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(L_(i))if(0===n){const e=new nS(i.path);this.ze(t,e,l_.newNoDocument(e,Xx.min()))}else Rx(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=NS(n).toUint8Array()}catch(e){if(e instanceof SS)return Tx("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new KC(o,r,i)}catch(e){return Tx(e instanceof GC?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&L_(i.target)){const t=new nS(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,l_.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=iC();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new QC(e,t,this.Ue,this.Qe,n);return this.Qe=Q_(),this.$e=nT(),this.Ke=nT(),this.Ue=new yS(Wx),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new eT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new kS(Wx),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new kS(Wx),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||_x("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new eT),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function nT(){return new yS(nS.comparator)}function rT(){return new yS(nS.comparator)}const iT={asc:"ASCENDING",desc:"DESCENDING"},oT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sT={and:"AND",or:"OR"};class aT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lT(e,t){return e.useProto3Json||hS(t)?t:{value:t}}function cT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hT(e,t){return cT(e,t.toTimestamp())}function dT(e){return Rx(!!e),Xx.fromTimestamp(function(e){const t=TS(e);return new Qx(t.seconds,t.nanos)}(e))}function fT(e,t){return pT(e,t).canonicalString()}function pT(e,t){const n=function(e){return new Zx(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function mT(e){const t=Zx.fromString(e);return Rx(OT(t)),t}function gT(e,t){return fT(e.databaseId,t.path)}function vT(e,t){const n=mT(t);if(n.get(1)!==e.databaseId.projectId)throw new Ox(Ax.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ox(Ax.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nS(wT(n))}function yT(e,t){return fT(e.databaseId,t)}function bT(e){return new Zx(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wT(e){return Rx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kT(e,t,n){return{name:gT(e,t),fields:n.value.mapValue.fields}}function ET(e,t){return{documents:[yT(e,t.path)]}}function xT(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yT(e,i);const o=function(e){if(0!==e.length)return PT(g_.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:NT(e.field),direction:CT(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=lT(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function ST(e){let t=function(e){const t=mT(e);return 4===t.length?Zx.emptyPath():wT(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rx(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=_T(e);return t instanceof g_&&y_(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new d_(RT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,hS(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new c_(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new c_(n,t)}(n.endAt)),function(e,t,n,r,i,o,s,a){return new D_(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,c)}function _T(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=RT(e.unaryFilter.field);return m_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=RT(e.unaryFilter.field);return m_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=RT(e.unaryFilter.field);return m_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=RT(e.unaryFilter.field);return m_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nx()}}(e):void 0!==e.fieldFilter?function(e){return m_.create(RT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nx()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return g_.create(e.compositeFilter.filters.map((e=>_T(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Nx()}}(e.compositeFilter.op))}(e):Nx()}function CT(e){return iT[e]}function TT(e){return oT[e]}function IT(e){return sT[e]}function NT(e){return{fieldPath:e.canonicalString()}}function RT(e){return tS.fromServerFormat(e.fieldPath)}function PT(e){return e instanceof m_?function(e){if("=="===e.op){if(r_(e.value))return{unaryFilter:{field:NT(e.field),op:"IS_NAN"}};if(n_(e.value))return{unaryFilter:{field:NT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(r_(e.value))return{unaryFilter:{field:NT(e.field),op:"IS_NOT_NAN"}};if(n_(e.value))return{unaryFilter:{field:NT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:NT(e.field),op:TT(e.op),value:e.value}}}(e):e instanceof g_?function(e){const t=e.getFilters().map((e=>PT(e)));return 1===t.length?t[0]:{compositeFilter:{op:IT(e.op),filters:t}}}(e):Nx()}function AT(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function OT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class LT{constructor(e,t,n,r,i=Xx.min(),o=Xx.min(),s=_S.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new LT(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new LT(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new LT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new LT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class DT{constructor(e){this.Tt=e}}function MT(e){const t=ST({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?U_(t,t.limit,"L"):t}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class $T{constructor(){this.Tn=new VT}addToCollectionParentIndex(e,t){return this.Tn.add(t),lS.resolve()}getCollectionParents(e,t){return lS.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return lS.resolve()}deleteFieldIndex(e,t){return lS.resolve()}deleteAllFieldIndexes(e){return lS.resolve()}createTargetIndexes(e,t){return lS.resolve()}getDocumentsMatchingTarget(e,t){return lS.resolve(null)}getIndexType(e,t){return lS.resolve(0)}getFieldIndexes(e,t){return lS.resolve([])}getNextCollectionGroupToUpdate(e){return lS.resolve(null)}getMinOffset(e,t){return lS.resolve(iS.min())}getMinOffsetFromCollectionGroup(e,t){return lS.resolve(iS.min())}updateCollectionGroup(e,t,n){return lS.resolve()}updateIndexEntries(e,t){return lS.resolve()}}class VT{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kS(Zx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kS(Zx.comparator)).toArray()}}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const jT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class FT{static withCacheSize(e){return new FT(e,FT.DEFAULT_COLLECTION_PERCENTILE,FT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */FT.DEFAULT_COLLECTION_PERCENTILE=10,FT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,FT.DEFAULT=new FT(UT,FT.DEFAULT_COLLECTION_PERCENTILE,FT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),FT.DISABLED=new FT(-1,0,0);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class zT{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new zT(0)}static Un(){return new zT(-1)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const BT="LruGarbageCollector";function HT([e,t],[n,r]){const i=Wx(e,n);return 0===i?Wx(t,r):i}class WT{constructor(e){this.Hn=e,this.buffer=new kS(HT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();HT(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qT{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){_x(BT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){cS(e)?_x(BT,"Ignoring IndexedDB error during garbage collection: ",e):await aS(e)}await this.er(3e5)}))}}class KT{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return lS.resolve(uS.ae);const n=new WT(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_x("LruGarbageCollector","Garbage collection skipped; disabled"),lS.resolve(jT)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(_x("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jT):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(_x("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Sx()<=Oy.DEBUG&&_x("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),lS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class GT{constructor(){this.changes=new K_((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,l_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?lS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class QT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class XT{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&TC(n.mutation,e,xS.empty(),Qx.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,iC()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=iC()){const r=Z_();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Y_();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Z_();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,iC())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Q_();const o=tC(),s=tC();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof PC)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),TC(s.mutation,t,s.mutation.getFieldMask(),Qx.now())):o.set(t.key,xS.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new QT(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=tC();let r=new yS(((e,t)=>e-t)),i=iC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||xS.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||iC()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=eC();l.forEach((e=>{if(!i.has(e)){const r=_C(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return lS.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return nS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):lS.resolve(Z_());let s=-1,a=i;return o.next((t=>lS.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?lS.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,iC()))).next((e=>({batchId:s,changes:J_(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nS(t)).next((e=>{let t=Y_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Y_();return this.indexManager.getCollectionParents(e,i).next((s=>lS.forEach(s,(s=>{const a=function(e,t){return new D_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,l_.newInvalidDocument(r)))}));let n=Y_();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&TC(o.mutation,r,xS.empty(),Qx.now()),H_(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class YT{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return lS.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dT(e.createTime)}}(t)),lS.resolve()}getNamedQuery(e,t){return lS.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:MT(e.bundledQuery),readTime:dT(e.readTime)}}(t)),lS.resolve()}}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class JT{constructor(){this.overlays=new yS(nS.comparator),this.Rr=new Map}getOverlay(e,t){return lS.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Z_();return lS.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),lS.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),lS.resolve()}getOverlaysForCollection(e,t,n){const r=Z_(),i=t.length+1,o=new nS(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return lS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new yS(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Z_(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Z_(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return lS.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jC(t,n));let i=this.Rr.get(t);void 0===i&&(i=iC(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}
/**
             * @license
             * Copyright 2024 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class ZT{constructor(){this.sessionToken=_S.EMPTY_BYTE_STRING}getSessionToken(e){return lS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,lS.resolve()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class eI{constructor(){this.Vr=new kS(tI.mr),this.gr=new kS(tI.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new tI(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new tI(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new nS(new Zx([])),n=new tI(t,e),r=new tI(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new nS(new Zx([])),n=new tI(t,e),r=new tI(t,e+1);let i=iC();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new tI(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class tI{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return nS.comparator(e.key,t.key)||Wx(e.Cr,t.Cr)}static pr(e,t){return Wx(e.Cr,t.Cr)||nS.comparator(e.key,t.key)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class nI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new kS(tI.mr)}checkEmpty(e){return lS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $C(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Mr=this.Mr.add(new tI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return lS.resolve(o)}lookupMutationBatch(e,t){return lS.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return lS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return lS.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return lS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tI(t,0),r=new tI(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),lS.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kS(Wx);return t.forEach((e=>{const t=new tI(e,0),r=new tI(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),lS.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;nS.isDocumentKey(i)||(i=i.child(""));const o=new tI(new nS(i),0);let s=new kS(Wx);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),o),lS.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Rx(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return lS.forEach(t.mutations,(r=>{const i=new tI(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new tI(t,0),r=this.Mr.firstAfterOrEqual(n);return lS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,lS.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class rI{constructor(e){this.kr=e,this.docs=new yS(nS.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return lS.resolve(n?n.document.mutableCopy():l_.newInvalidDocument(t))}getEntries(e,t){let n=Q_();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():l_.newInvalidDocument(e))})),lS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Q_();const o=t.path,s=new nS(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||oS(rS(s),n)<=0||(r.has(s.key)||H_(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return lS.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Nx()}qr(e,t){return lS.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new iI(this)}getSize(e){return lS.resolve(this.size)}}class iI extends GT{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),lS.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class oI{constructor(e){this.persistence=e,this.Qr=new K_((e=>A_(e)),O_),this.lastRemoteSnapshotVersion=Xx.min(),this.highestTargetId=0,this.$r=0,this.Kr=new eI,this.targetCount=0,this.Ur=zT.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),lS.resolve()}getLastRemoteSnapshotVersion(e){return lS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lS.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),lS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),lS.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new zT(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,lS.resolve()}updateTargetData(e,t){return this.zn(t),lS.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,lS.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),lS.waitFor(i).next((()=>r))}getTargetCount(e){return lS.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return lS.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),lS.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),lS.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),lS.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return lS.resolve(n)}containsKey(e,t){return lS.resolve(this.Kr.containsKey(t))}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class sI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new uS(0),this.zr=!1,this.zr=!0,this.jr=new ZT,this.referenceDelegate=e(this),this.Hr=new oI(this),this.indexManager=new $T,this.remoteDocumentCache=function(e){return new rI(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new DT(t),this.Yr=new YT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new nI(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){_x("MemoryPersistence","Starting transaction:",e);const r=new aI(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return lS.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class aI extends sS{constructor(e){super(),this.currentSequenceNumber=e}}class lI{constructor(e){this.persistence=e,this.ti=new eI,this.ni=null}static ri(e){return new lI(e)}get ii(){if(this.ni)return this.ni;throw Nx()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),lS.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),lS.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),lS.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lS.forEach(this.ii,(n=>{const r=nS.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Xx.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return lS.or([()=>lS.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class cI{constructor(e,t){this.persistence=e,this.oi=new K_((e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=pS(t)),t=fS(e.get(n),t);return pS(t)}(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=function(e,t){return new KT(e,t)}(this,t)}static ri(e,t){return new cI(e,t)}Zr(){}Xr(e){return lS.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return lS.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?lS.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Xx.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),lS.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),lS.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),lS.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),lS.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ZS(e.data.value)),t}ar(e,t,n){return lS.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return lS.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class uI{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=iC(),r=iC();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new uI(e,t.fromCache,n,r)}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class dI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=vy()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(gy())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new hI;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Sx()<=Oy.DEBUG&&_x("QueryEngine","SDK will not create cache indexes for query:",B_(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),lS.resolve()):(Sx()<=Oy.DEBUG&&_x("QueryEngine","Query:",B_(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Sx()<=Oy.DEBUG&&_x("QueryEngine","The SDK decides to create cache indexes for query:",B_(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,j_(t))):lS.resolve())}rs(e,t){if($_(t))return lS.resolve(null);let n=j_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=U_(t,null,"F"),n=j_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=iC(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,U_(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return $_(t)||r.isEqual(Xx.min())?lS.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?lS.resolve(null):(Sx()<=Oy.DEBUG&&_x("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),B_(t)),this.hs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Xx.fromTimestamp(1e9===r?new Qx(n+1,0):new Qx(n,r));return new iS(i,nS.empty(),t)}(r,-1)).next((e=>e)))}))}cs(e,t){let n=new kS(W_(e));return t.forEach(((t,r)=>{H_(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Sx()<=Oy.DEBUG&&_x("QueryEngine","Using full collection scan to execute query:",B_(t)),this.ns.getDocumentsMatchingQuery(e,t,iS.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const fI="LocalStore";class pI{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new yS(Wx),this.Is=new K_((e=>A_(e)),O_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}async function mI(e,t){const n=Px(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=iC();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function gI(e){const t=Px(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function vI(e,t){const n=Px(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(_S.EMPTY_BYTE_STRING,Xx.min()).withLastLimboFreeSnapshotVersion(Xx.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Hr.updateTargetData(e,c))}));let a=Q_(),l=iC();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=iC(),i=iC();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Q_();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Xx.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):_x(fI,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}(e,o,t.documentUpdates).next((e=>{a=e.Vs,l=e.fs}))),!r.isEqual(Xx.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return lS.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ts=i,e)))}function yI(e,t){const n=Px(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function bI(e,t,n){const r=Px(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!cS(e))throw e;_x(fI,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function wI(e,t,n){const r=Px(e);let i=Xx.min(),o=iC();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Px(e),i=r.Is.get(n);return void 0!==i?lS.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,j_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Xx.min(),n?o:iC()))).next((e=>(function(e,t,n){let r=e.Es.get(t)||Xx.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,gs:o})))))}class kI{constructor(){this.activeTargetIds=oC}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.ho=new kI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xI{To(e){}shutdown(){}}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const SI="ConnectivityMonitor";class _I{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_x(SI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_x(SI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */let CI=null;function TI(){return null===CI?CI=268435456+Math.round(2147483648*Math.random()):CI++,"0x"+CI.toString(16)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}const II="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===VS?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const o=TI(),s=this.So(e,t.toUriEncodedString());_x(II,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(e,s,a,n).then((t=>(_x(II,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Tx(II,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ex,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=NI[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class PI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const AI="WebChannelConnection";class OI extends RI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=TI();return new Promise(((o,s)=>{const a=new ux;a.setWithCredentials(!0),a.listenOnce(dx.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case fx.NO_ERROR:const t=a.getResponseJson();_x(AI,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case fx.TIMEOUT:_x(AI,`RPC '${e}' ${i} timed out`),s(new Ox(Ax.DEADLINE_EXCEEDED,"Request time out"));break;case fx.HTTP_ERROR:const n=a.getStatus();if(_x(AI,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ax).indexOf(t)>=0?t:Ax.UNKNOWN}(t.status);s(new Ox(e,t.message))}else s(new Ox(Ax.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ox(Ax.UNAVAILABLE,"Connection failed."));break;default:Nx()}}finally{_x(AI,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);_x(AI,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=TI(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vx(),s=gx(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");_x(AI,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new PI({Fo:t=>{d?_x(AI,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(_x(AI,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),_x(AI,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,hx.EventType.OPEN,(()=>{d||(_x(AI,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,hx.EventType.CLOSE,(()=>{d||(d=!0,_x(AI,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,hx.EventType.ERROR,(t=>{d||(d=!0,Tx(AI,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new Ox(Ax.UNAVAILABLE,"The operation could not be completed")))})),p(u,hx.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Rx(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){_x(AI,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=FC[e];if(void 0!==t)return BC(t)}(t),i=s.message;void 0===n&&(n=Ax.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Ko(new Ox(n,i)),u.close()}else _x(AI,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(s,mx.STAT_EVENT,(t=>{t.stat===px.PROXY?_x(AI,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===px.NOPROXY&&_x(AI,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function LI(){return"undefined"!=typeof document?document:null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function DI(e){return new aT(e,!0)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class MI{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&_x("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const $I="PersistentStream";class VI{constructor(e,t,n,r,i,o,s,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new MI(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Ax.RESOURCE_EXHAUSTED?(Cx(t.toString()),Cx("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ax.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.i_===t&&this.V_(e,n)}),(t=>{e((()=>{const e=new Ox(Ax.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return _x($I,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(_x($I,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends VI{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Nx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Rx(void 0===t||"string"==typeof t),_S.fromBase64String(t||"")):(Rx(void 0===t||t instanceof Buffer||t instanceof Uint8Array),_S.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ax.UNKNOWN:BC(e.code);return new Ox(t,e.message||"")}(s);n=new ZC(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vT(e,r.document.name),o=dT(r.document.updateTime),s=r.document.createTime?dT(r.document.createTime):Xx.min(),a=new s_({mapValue:{fields:r.document.fields}}),l=l_.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new YC(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vT(e,r.document),o=r.readTime?dT(r.readTime):Xx.min(),s=l_.newNoDocument(i,o),a=r.removedTargetIds||[];n=new YC([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vT(e,r.document),o=r.removedTargetIds||[];n=new YC([],o,i,null)}else{if(!("filter"in t))return Nx();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new UC(r,i),s=e.targetId;n=new JC(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Xx.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Xx.min():t.readTime?dT(t.readTime):Xx.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=bT(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=L_(r)?{documents:ET(e,r)}:{query:xT(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uT(e,t.resumeToken);const r=lT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Xx.min())>0){n.readTime=cT(e,t.snapshotVersion.toTimestamp());const r=lT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nx()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=bT(this.serializer),t.removeTarget=e,this.I_(t)}}class UI extends VI{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Rx(!!e.streamToken),this.lastStreamToken=e.streamToken,Rx(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Rx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Rx(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?dT(e.updateTime):dT(t);return n.isEqual(Xx.min())&&(n=dT(t)),new kC(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=dT(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=bT(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof RC)n={update:kT(e,t.key,t.value)};else if(t instanceof DC)n={delete:gT(e,t.key)};else if(t instanceof PC)n={update:kT(e,t.key,t.data),updateMask:AT(t.fieldMask)};else{if(!(t instanceof MC))return Nx();n={verify:gT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof fC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yC)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Nx()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hT(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Nx()}(e,t.precondition)),n}(this.serializer,e)))};this.I_(t)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class FI{}class zI extends FI{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Ox(Ax.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.bo(e,pT(t,n),r,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ax.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ox(Ax.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Co(e,pT(t,n),r,o,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ax.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ox(Ax.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class BI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Cx(t),this.N_=!1):_x("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const HI="RemoteStore";class WI{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{eN(this)&&(_x(HI,"Restarting streams for network reachability change."),await async function(e){const t=Px(e);t.W_.add(4),await KI(t),t.j_.set("Unknown"),t.W_.delete(4),await qI(t)}(this))}))})),this.j_=new BI(n,r)}}async function qI(e){if(eN(e))for(const t of e.G_)await t(!0)}async function KI(e){for(const t of e.G_)await t(!1)}function GI(e,t){const n=Px(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),ZI(n)?JI(n):yN(n).c_()&&XI(n,t))}function QI(e,t){const n=Px(e),r=yN(n);n.U_.delete(t),r.c_()&&YI(n,t),0===n.U_.size&&(r.c_()?r.P_():eN(n)&&n.j_.set("Unknown"))}function XI(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xx.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yN(e).y_(t)}function YI(e,t){e.H_.Ne(t),yN(e).w_(t)}function JI(e){e.H_=new tT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),yN(e).start(),e.j_.B_()}function ZI(e){return eN(e)&&!yN(e).u_()&&e.U_.size>0}function eN(e){return 0===Px(e).W_.size}function tN(e){e.H_=void 0}async function nN(e){e.j_.set("Online")}async function rN(e){e.U_.forEach(((t,n)=>{XI(e,t)}))}async function iN(e,t){tN(e),ZI(e)?(e.j_.q_(t),JI(e)):e.j_.set("Unknown")}async function oN(e,t,n){if(e.j_.set("Online"),t instanceof ZC&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){_x(HI,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sN(e,n)}else if(t instanceof YC?e.H_.We(t):t instanceof JC?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Xx.min()))try{const t=await gI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(_S.EMPTY_BYTE_STRING,r.snapshotVersion)),YI(e,t);const i=new LT(r.target,t,n,r.sequenceNumber);XI(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){_x(HI,"Failed to raise snapshot:",t),await sN(e,t)}}async function sN(e,t,n){if(!cS(t))throw t;e.W_.add(1),await KI(e),e.j_.set("Offline"),n||(n=()=>gI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_x(HI,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await qI(e)}))}function aN(e,t){return t().catch((n=>sN(e,n,t)))}async function lN(e){const t=Px(e),n=bN(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:-1;for(;cN(t);)try{const e=await yI(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,uN(t,e)}catch(e){await sN(t,e)}hN(t)&&dN(t)}function cN(e){return eN(e)&&e.K_.length<10}function uN(e,t){e.K_.push(t);const n=bN(e);n.c_()&&n.b_&&n.S_(t.mutations)}function hN(e){return eN(e)&&!bN(e).u_()&&e.K_.length>0}function dN(e){bN(e).start()}async function fN(e){bN(e).C_()}async function pN(e){const t=bN(e);for(const n of e.K_)t.S_(n.mutations)}async function mN(e,t,n){const r=e.K_.shift(),i=VC.from(r,t,n);await aN(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await lN(e)}async function gN(e,t){t&&bN(e).b_&&await async function(e,t){if(function(e){return function(e){switch(e){case Ax.OK:return Nx();case Ax.CANCELLED:case Ax.UNKNOWN:case Ax.DEADLINE_EXCEEDED:case Ax.RESOURCE_EXHAUSTED:case Ax.INTERNAL:case Ax.UNAVAILABLE:case Ax.UNAUTHENTICATED:return!1;case Ax.INVALID_ARGUMENT:case Ax.NOT_FOUND:case Ax.ALREADY_EXISTS:case Ax.PERMISSION_DENIED:case Ax.FAILED_PRECONDITION:case Ax.ABORTED:case Ax.OUT_OF_RANGE:case Ax.UNIMPLEMENTED:case Ax.DATA_LOSS:return!0;default:return Nx()}}(e)&&e!==Ax.ABORTED}(t.code)){const n=e.K_.shift();bN(e).h_(),await aN(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lN(e)}}(e,t),hN(e)&&dN(e)}async function vN(e,t){const n=Px(e);n.asyncQueue.verifyOperationInProgress(),_x(HI,"RemoteStore received new credentials");const r=eN(n);n.W_.add(3),await KI(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await qI(n)}function yN(e){return e.J_||(e.J_=function(e,t,n){const r=Px(e);return r.M_(),new jI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}(e.datastore,e.asyncQueue,{xo:nN.bind(null,e),No:rN.bind(null,e),Lo:iN.bind(null,e),p_:oN.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),ZI(e)?JI(e):e.j_.set("Unknown")):(await e.J_.stop(),tN(e))}))),e.J_}function bN(e){return e.Y_||(e.Y_=function(e,t,n){const r=Px(e);return r.M_(),new UI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:fN.bind(null,e),Lo:gN.bind(null,e),D_:pN.bind(null,e),v_:mN.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await lN(e)):(await e.Y_.stop(),e.K_.length>0&&(_x(HI,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class wN{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new wN(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ox(Ax.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kN(e,t){if(Cx("AsyncQueue",`${t}: ${e}`),cS(e))return new Ox(Ax.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class EN{static emptySet(e){return new EN(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||nS.comparator(t.key,n.key):(e,t)=>nS.comparator(e.key,t.key),this.keyedMap=Y_(),this.sortedSet=new yS(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof EN))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new EN;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class xN{constructor(){this.Z_=new yS(nS.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Nx():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class SN{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new SN(e,t,EN.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class _N{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class CN{constructor(){this.queries=TN(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Px(e),r=n.queries;n.queries=TN(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Ox(Ax.ABORTED,"Firestore shutting down"))}}function TN(){return new K_((e=>z_(e)),F_)}async function IN(e,t){const n=Px(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new _N,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=kN(e,`Initialization of query '${B_(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&AN(n)}async function NN(e,t){const n=Px(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RN(e,t){const n=Px(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&AN(n)}function PN(e,t,n){const r=Px(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function AN(e){e.ia.forEach((e=>{e.next()}))}var ON,LN;(LN=ON||(ON={}))._a="default",LN.Cache="cache";class DN{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new SN(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=SN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ON.Cache}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class MN{constructor(e){this.key=e}}class $N{constructor(e){this.key=e}}class VN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=iC(),this.mutatedKeys=iC(),this.ya=W_(e),this.wa=new EN(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new xN,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=H_(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:s,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nx()}};return n(e)-n(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,l=a!==this.ga;return this.ga=a,0!==o.length||l?{snapshot:new SN(this.query,e.wa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xN,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=iC(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new $N(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new MN(n))})),t}Oa(e){this.fa=e.gs,this.pa=iC();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return SN.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const jN="SyncEngine";class UN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class FN{constructor(e){this.key=e,this.Ba=!1}}class zN{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new K_((e=>z_(e)),F_),this.qa=new Map,this.Qa=new Set,this.$a=new yS(nS.comparator),this.Ka=new Map,this.Ua=new eI,this.Wa={},this.Ga=new Map,this.za=zT.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function BN(e,t,n=!0){const r=uR(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await WN(r,t,n,!0),i}async function HN(e,t){const n=uR(e);await WN(n,t,!0,!1)}async function WN(e,t,n,r){const i=await function(e,t){const n=Px(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,lS.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new LT(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}(e.localStore,j_(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await async function(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await wI(e.localStore,t.query,!1).then((({documents:e})=>t.view.Sa(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return iR(e,t.targetId,a.Ma),a.snapshot}(e,t,n,r);const o=await wI(e.localStore,t,!0),s=new VN(t,o.gs),a=s.Sa(o.documents),l=XC.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);iR(e,n,c.Ma);const u=new UN(t,n,s);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&GI(e.remoteStore,i),a}async function qN(e,t,n){const r=Px(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!F_(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bI(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&QI(r.remoteStore,i.targetId),nR(r,i.targetId)})).catch(aS)):(nR(r,i.targetId),await bI(r.localStore,i.targetId,!0))}async function KN(e,t){const n=Px(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),QI(n.remoteStore,r.targetId))}async function GN(e,t,n){const r=function(e){const t=Px(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,t),t}(e);try{const e=await function(e,t){const n=Px(e),r=Qx.now(),i=t.reduce(((e,t)=>e.add(t.key)),iC());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Q_(),l=iC();return n.ds.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=IC(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new PC(e.key,t,a_(t.value.mapValue),EC.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:J_(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new yS(Wx)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await aR(r,e.changes),await lN(r.remoteStore)}catch(e){const t=kN(e,"Failed to persist write");n.reject(t)}}async function QN(e,t){const n=Px(e);try{const e=await vI(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(Rx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Rx(r.Ba):e.removedDocuments.size>0&&(Rx(r.Ba),r.Ba=!1))})),await aR(n,e,t)}catch(e){await aS(e)}}function XN(e,t,n){const r=Px(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Px(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&AN(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function YN(e,t,n){const r=Px(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),o=i&&i.key;if(o){let e=new yS(nS.comparator);e=e.insert(o,l_.newNoDocument(o,Xx.min()));const n=iC().add(o),i=new QC(Xx.min(),new Map,new yS(Wx),e,n);await QN(r,i),r.$a=r.$a.remove(o),r.Ka.delete(t),sR(r)}else await bI(r.localStore,t,!1).then((()=>nR(r,t,n))).catch(aS)}async function JN(e,t){const n=Px(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Px(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=lS.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Rx(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=iC();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);tR(n,r,null),eR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await aR(n,e)}catch(e){await aS(e)}}async function ZN(e,t,n){const r=Px(e);try{const e=await function(e,t){const n=Px(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Rx(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);tR(r,t,n),eR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await aR(r,e)}catch(n){await aS(n)}}function eR(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function tR(e,t,n){const r=Px(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function nR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||rR(e,t)}))}function rR(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(QI(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),sR(e))}function iR(e,t,n){for(const r of n)r instanceof MN?(e.Ua.addReference(r.key,t),oR(e,r)):r instanceof $N?(_x(jN,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||rR(e,r.key)):Nx()}function oR(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(_x(jN,"New document in limbo: "+n),e.Qa.add(r),sR(e))}function sR(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new nS(Zx.fromString(t)),r=e.za.next();e.Ka.set(r,new FN(n)),e.$a=e.$a.insert(n,r),GI(e.remoteStore,new LT(j_(M_(n.path)),r,"TargetPurposeLimboResolution",uS.ae))}}async function aR(e,t,n){const r=Px(e),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{s.push(r.Ha(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=uI.Yi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.La.p_(i),await async function(e,t){const n=Px(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>lS.forEach(t,(t=>lS.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>lS.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!cS(e))throw e;_x(fI,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function lR(e,t){const n=Px(e);if(!n.currentUser.isEqual(t)){_x(jN,"User change. New user:",t.toKey());const e=await mI(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Ox(Ax.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await aR(n,e.Rs)}}function cR(e,t){const n=Px(e),r=n.Ka.get(t);if(r&&r.Ba)return iC().add(r.key);{let e=iC();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function uR(e){const t=Px(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=QN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YN.bind(null,t),t.La.p_=RN.bind(null,t.eventManager),t.La.Ja=PN.bind(null,t.eventManager),t}class hR{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=DI(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return function(e,t,n,r){return new pI(e,t,n,r)}(this.persistence,new dI,e.initialUser,this.serializer)}Xa(e){return new sI(lI.ri,this.serializer)}Za(e){return new EI}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hR.provider={build:()=>new hR};class dR extends hR{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Rx(this.persistence.referenceDelegate instanceof cI);const n=this.persistence.referenceDelegate.garbageCollector;return new qT(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?FT.withCacheSize(this.cacheSizeBytes):FT.DEFAULT;return new sI((e=>cI.ri(e,t)),this.serializer)}}class fR{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>XN(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await async function(e,t){const n=Px(e);t?(n.W_.delete(2),await qI(n)):t||(n.W_.add(2),await KI(n),n.j_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new CN}createDatastore(e){const t=DI(e.databaseInfo.databaseId),n=function(e){return new OI(e)}(e.databaseInfo);return function(e,t,n,r){return new zI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new WI(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>XN(this.syncEngine,e,0)),_I.D()?new _I:new xI)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new zN(e,t,n,r,i,o);return s&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Px(e);_x(HI,"RemoteStore shutting down."),t.W_.add(5),await KI(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}fR.provider={build:()=>new fR};
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
class pR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Cx("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const mR="FirestoreClient";class gR{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kx.UNAUTHENTICATED,this.clientId=Hx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{_x(mR,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(_x(mR,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(lv){const n=kN(lv,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vR(e,t){e.asyncQueue.verifyOperationInProgress(),_x(mR,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await mI(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yR(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_x(mR,"Using user provided OfflineComponentProvider");try{await vR(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ax.FAILED_PRECONDITION||e.code===Ax.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;Tx("Error using user provided cache. Falling back to memory cache: "+r),await vR(e,new hR)}}else _x(mR,"Using default OfflineComponentProvider"),await vR(e,new dR(void 0));return e._offlineComponents}(e);_x(mR,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>vN(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>vN(t.remoteStore,n))),e._onlineComponents=t}async function bR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_x(mR,"Using user provided OnlineComponentProvider"),await yR(e,e._uninitializedComponentsProvider._online)):(_x(mR,"Using default OnlineComponentProvider"),await yR(e,new fR))),e._onlineComponents}async function wR(e){const t=await bR(e),n=t.eventManager;return n.onListen=BN.bind(null,t.syncEngine),n.onUnlisten=qN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KN.bind(null,t.syncEngine),n}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function kR(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}const ER=new Map;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function xR(e,t,n){if(!n)throw new Ox(Ax.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function SR(e){if(!nS.isDocumentKey(e))throw new Ox(Ax.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _R(e){if(nS.isDocumentKey(e))throw new Ox(Ax.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function CR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Nx()}function TR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ox(Ax.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=CR(e);throw new Ox(Ax.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const IR="firestore.googleapis.com",NR=!0;class RR{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ox(Ax.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=NR}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:NR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=UT;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ox(Ax.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ox(Ax.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kR(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ox(Ax.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ox(Ax.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ox(Ax.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class PR{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ox(Ax.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ox(Ax.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RR(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mx;switch(e.type){case"firstParty":return new Ux(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ox(Ax.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ER.get(e);t&&(_x("ComponentProvider","Removing Datastore"),ER.delete(e),t.terminate())}(this),Promise.resolve()}}function AR(e,t,n,r={}){var i;const o=(e=TR(e,PR))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;o.host!==IR&&o.host!==a&&Tx("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!ky(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kx.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ly(JSON.stringify({alg:"none",type:"JWT"})),ly(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ox(Ax.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kx(o)}e._authCredentials=new $x(new Dx(t,n))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class OR{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new OR(this.firestore,e,this._query)}}class LR{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new DR(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LR(this.firestore,e,this._key)}}class DR extends OR{constructor(e,t,n){super(e,t,M_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new LR(this.firestore,null,new nS(e))}withConverter(e){return new DR(this.firestore,e,this._path)}}function MR(e,t,...n){if(e=Iy(e),xR("collection","path",t),e instanceof PR){const r=Zx.fromString(t,...n);return _R(r),new DR(e,null,r)}{if(!(e instanceof LR||e instanceof DR))throw new Ox(Ax.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Zx.fromString(t,...n));return _R(r),new DR(e.firestore,null,r)}}function $R(e,t,...n){if(e=Iy(e),1===arguments.length&&(t=Hx.newId()),xR("doc","path",t),e instanceof PR){const r=Zx.fromString(t,...n);return SR(r),new LR(e,null,new nS(r))}{if(!(e instanceof LR||e instanceof DR))throw new Ox(Ax.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Zx.fromString(t,...n));return SR(r),new LR(e.firestore,e instanceof DR?e.converter:null,new nS(r))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const VR="AsyncQueue";class jR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new MI(this,"async_queue_retry"),this.bu=()=>{const e=LI();e&&_x(VR,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=LI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=LI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Lx;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(Yg){if(!cS(Yg))throw Yg;_x(VR,"Operation failed with retryable error: "+Yg)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e);throw Cx("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=wN.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Nx()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class UR extends PR{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jR,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jR(e),this._firestoreClient=void 0,await e}}}function FR(e){if(e._terminated)throw new Ox(Ax.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new $S(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kR(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new gR(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e),e._firestoreClient}class zR{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zR(_S.fromBase64String(e))}catch(e){throw new Ox(Ax.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zR(_S.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class BR{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ox(Ax.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tS(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class HR{constructor(e){this._methodName=e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class WR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ox(Ax.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ox(Ax.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wx(this._lat,e._lat)||Wx(this._long,e._long)}}
/**
             * @license
             * Copyright 2024 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class qR{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */const KR=/^__.*__$/;class GR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new PC(e,this.data,this.fieldMask,t,this.fieldTransforms):new RC(e,this.data,t,this.fieldTransforms)}}class QR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new PC(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nx()}}class YR{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new YR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cP(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(XR(this.Lu)&&KR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class JR{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||DI(e)}ju(e,t,n,r=!1){return new YR({Lu:e,methodName:t,zu:n,path:tS.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZR(e){const t=e._freezeSettings(),n=DI(e._databaseId);return new JR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eP(e,t,n,r,i,o={}){const s=e.ju(o.merge||o.mergeFields?2:0,t,n,i);oP("Data must be an object, but it was:",s,r);const a=rP(r,s);let l,c;if(o.merge)l=new xS(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=sP(t,r,n);if(!s.contains(i))throw new Ox(Ax.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);uP(e,i)||e.push(i)}l=new xS(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new GR(new s_(a),l,c)}class tP extends HR{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tP}}function nP(e,t){if(iP(e=Iy(e)))return oP("Unsupported field value:",t,e),rP(e,t);if(e instanceof HR)return function(e,t){if(!XR(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=nP(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Iy(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lC(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qx.fromDate(e);return{timestampValue:cT(t.serializer,n)}}if(e instanceof Qx){const n=new Qx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cT(t.serializer,n)}}if(e instanceof WR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zR)return{bytesValue:uT(t.serializer,e._byteString)};if(e instanceof LR){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fT(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof qR)return function(e,t){return{mapValue:{fields:{[US]:{stringValue:BS},[HS]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return sC(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${CR(e)}`)}(e,t)}function rP(e,t){const n={};return vS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gS(e,((e,r)=>{const i=nP(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function iP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qx||e instanceof WR||e instanceof zR||e instanceof LR||e instanceof HR||e instanceof qR)}function oP(e,t,n){if(!iP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=CR(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function sP(e,t,n){if((t=Iy(t))instanceof BR)return t._internalPath;if("string"==typeof t)return lP(e,t);throw cP("Field path arguments must be of type string or ",e,!1,void 0,n)}const aP=new RegExp("[~\\*/\\[\\]]");function lP(e,t,n){if(t.search(aP)>=0)throw cP(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new BR(...t.split("."))._internalPath}catch(av){throw cP(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cP(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ox(Ax.INVALID_ARGUMENT,a+e+l)}function uP(e,t){return e.some((e=>e.isEqual(t)))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class hP{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new LR(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dP extends hP{data(){return super.data()}}function fP(e,t){return"string"==typeof t?lP(e,t):t instanceof BR?t._internalPath:t._delegate._internalPath}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */class pP{convertValue(e,t="none"){switch(WS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return IS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(NS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Nx()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return gS(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[HS].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>IS(e.doubleValue)));return new qR(i)}convertGeoPoint(e){return new WR(IS(e.latitude),IS(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=DS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(MS(e));default:return null}}convertTimestamp(e){const t=TS(e);return new Qx(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Zx.fromString(e);Rx(OT(n));const r=new jS(n.get(1),n.get(3)),i=new nS(n.popFirst(5));return r.isEqual(t)||Cx(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function mP(e,t,n){let r;return r=e?e.toFirestore(t):t,r
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}class gP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vP extends hP{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(fP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yP extends vP{data(e={}){return super.data(e)}}class bP{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gP(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new yP(this._firestore,this._userDataWriter,n.key,n,new gP(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ox(Ax.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new yP(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gP(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new yP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:wP(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nx()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function kP(e){e=TR(e,LR);const t=TR(e.firestore,UR);return function(e,t,n={}){const r=new Lx;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pR({next:a=>{o.su(),t.enqueueAndForget((()=>NN(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Ox(Ax.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Ox(Ax.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new DN(M_(n.path),o,{includeMetadataChanges:!0,Ta:!0});return IN(e,s)}(await wR(e),e.asyncQueue,t,n,r))),r.promise}(FR(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new EP(e);return new vP(e,i,t._key,r,new gP(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class EP extends pP{constructor(e){super(),this.firestore=e}convertBytes(e){return new zR(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new LR(this.firestore,null,t)}}function xP(e){e=TR(e,OR);const t=TR(e.firestore,UR),n=FR(t),r=new EP(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ox(Ax.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new Lx;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pR({next:n=>{o.su(),t.enqueueAndForget((()=>NN(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ox(Ax.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new DN(n,o,{includeMetadataChanges:!0,Ta:!0});return IN(e,s)}(await wR(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new bP(t,r,e,n)))}function SP(e,t,n,...r){e=TR(e,LR);const i=TR(e.firestore,UR),o=ZR(i);let s;return s="string"==typeof(t=Iy(t))||t instanceof BR?function(e,t,n,r,i,o){const s=e.ju(1,t,n),a=[sP(t,r,n)],l=[i];if(o.length%2!=0)throw new Ox(Ax.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(sP(t,o[d])),l.push(o[d+1]);const c=[],u=s_.empty();for(let d=a.length-1;d>=0;--d)if(!uP(c,a[d])){const e=a[d];let t=l[d];t=Iy(t);const n=s.Ku(e);if(t instanceof tP)c.push(e);else{const r=nP(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new xS(c);return new QR(u,h,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ju(1,t,n);oP("Data must be an object, but it was:",i,r);const o=[],s=s_.empty();gS(r,((e,r)=>{const a=lP(t,e,n);r=Iy(r);const l=i.Ku(a);if(r instanceof tP)o.push(a);else{const e=nP(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new xS(o);return new QR(s,a,i.fieldTransforms)}(o,"updateDoc",e._key,t),_P(i,[s.toMutation(e._key,EC.exists(!0))])}function _P(e,t){return function(e,t){const n=new Lx;return e.asyncQueue.enqueueAndForget((async()=>GN(await function(e){return bR(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(FR(e),t)}!function(e,t=!0){!function(e){Ex=e}(Bb),Vb(new Ny("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new UR(new Vx(e.getProvider("auth-internal")),new zx(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ox(Ax.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jS(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),qb(bx,wx,e),qb(bx,wx,"esm2017")}();const CP=Hb({apiKey:"AIzaSyDtr99HCDorp910aky73EYvkwknvNl8nBM",authDomain:"habitflow-742c3.firebaseapp.com",projectId:"habitflow-742c3",storageBucket:"habitflow-742c3.firebasestorage.app",messagingSenderId:"785728730736",appId:"1:785728730736:web:12f4d0800d4fb2d3dc66b5",measurementId:"G-Y8EMBPY938"}),TP=function(e=Wb()){const t=jb(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=jb(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ky(n.getOptions(),null!=t?t:{}))return e;lw(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ex,persistence:[vE,eE,nE]}),r=py("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ix)return;const r=null==t?void 0:t.token;ox!==r&&(ox=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Iy(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Iy(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=dy("auth");return o&&Sk(n,`http://${o}`),n}(CP),IP=function(e){const t="object"==typeof e?e:Wb(),n="string"==typeof e?e:VS,r=jb(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=dy(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&AR(r,...e)}return r}(CP),NP=()=>{const e=Kv();return Y.jsx(vm,{children:Y.jsx(rm,{className:"home-container",fullscreen:!0,children:Y.jsxs("div",{className:"content-wrapper",children:[Y.jsx("h1",{className:"title",children:"HabitFlow"}),Y.jsx("img",{src:"/Healthy lifestyle-bro.svg",alt:"HabitFlow Illustration",className:"illustration"}),Y.jsx("button",{className:"login-button",onClick:()=>{e.replace("/login")},children:"INICIAR SESIÓN"}),Y.jsx("div",{className:"wave-container",children:Y.jsx("img",{src:"/wave-main.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})})})},RP=async(e,t,n,r)=>{try{const i=await async function(e,t,n){if(Ub(e.app))return Promise.reject(hw(e));const r=pk(e),i=xk(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fk),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Kk(e),t})),s=await zk._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(TP,e,t),o=i.user;return await function(e,t,n){e=TR(e,LR);const r=TR(e.firestore,UR),i=mP(e.converter,t);return _P(r,[eP(ZR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,EC.none())])}($R(IP,"users",o.uid),{firstName:n,lastName:r,email:e,createdAt:new Date}),o}catch(i){throw console.error("Error al registrar:",i),i}},PP=()=>{const e=Kv(),[t,n]=z.useState(""),[r,i]=z.useState(""),[o,s]=z.useState(!1),[,a]=z.useState(null);return z.useEffect((()=>{const e=Qk(TP,(e=>{e?(console.log("Usuario autenticado en sesión:",e.email),a(e.email)):(console.log("No hay usuario autenticado."),a(null))}));return()=>e()}),[]),Y.jsx(vm,{children:Y.jsx(rm,{className:"login-container",fullscreen:!0,scrollY:!1,style:{"--background":"transparent"},children:Y.jsxs("div",{className:"login-background",children:[Y.jsx("h2",{className:"login-title",children:"INICIO DE SESIÓN"}),Y.jsx("div",{className:"input-group",children:Y.jsx("input",{type:"email",className:"input-field",placeholder:"Correo",value:t,onChange:e=>n(e.target.value)})}),Y.jsxs("div",{className:"input-group password-container",children:[Y.jsx("input",{type:o?"text":"password",className:"input-field password-input",placeholder:"Contraseña",value:r,onChange:e=>i(e.target.value)}),Y.jsx("button",{type:"button",className:"toggle-password",onClick:()=>s(!o),children:Y.jsx("img",{src:o?"/eye-lock-login.svg":"/eye-login.svg",alt:"Mostrar Contraseña",className:"password-icon"})})]}),Y.jsx("div",{className:"button-div",children:Y.jsx("button",{className:"login-button",onClick:async()=>{try{await(async(e,t)=>{try{return(await Gk(TP,e,t)).user}catch(n){throw console.error("Error al iniciar sesión:",n),n}})(t,r),console.log("Iniciando sesión con:",t),setTimeout((()=>{const t=TP.currentUser;t?(console.log("Usuario verificado tras login:",t.email),alert(`Inicio de sesión exitoso. Bienvenido, ${t.email}`),e.replace("/dashboard")):alert("Error verificando el usuario autenticado.")}),1e3)}catch(n){const e=n instanceof Error?n.message:"Error desconocido";console.error("Error al iniciar sesión:",e),alert("Error al iniciar sesión: "+e)}},children:"INICIAR SESIÓN"})}),Y.jsxs("p",{className:"register-text",children:["¿No tienes una cuenta? ",Y.jsx("span",{className:"register-link",onClick:()=>{e.replace("/register")},children:"Regístrate aquí"})]})]})})})},AP=()=>{const e=Kv(),[t,n]=z.useState(""),[r,i]=z.useState(""),[o,s]=z.useState(""),[a,l]=z.useState(""),[c,u]=z.useState(""),[h,d]=z.useState(!1),[f,p]=z.useState(!1);return Y.jsx(vm,{children:Y.jsx(rm,{className:"register-container",fullscreen:!0,scrollY:!1,style:{"--background":"transparent"},children:Y.jsxs("div",{className:"register-background",children:[Y.jsx("h2",{className:"register-title",children:"CREAR CUENTA"}),Y.jsx("div",{className:"input-group-register",children:Y.jsx("input",{type:"text",className:"input-field-register",placeholder:"Nombres",value:t,onChange:e=>n(e.target.value)})}),Y.jsx("div",{className:"input-group-register",children:Y.jsx("input",{type:"text",className:"input-field-register",placeholder:"Apellidos",value:r,onChange:e=>i(e.target.value)})}),Y.jsx("div",{className:"input-group-register",children:Y.jsx("input",{type:"email",className:"input-field-register",placeholder:"Correo",value:o,onChange:e=>s(e.target.value)})}),Y.jsxs("div",{className:"input-group-register password-container-register",children:[Y.jsx("input",{type:h?"text":"password",className:"input-field-register password-input-register",placeholder:"Contraseña",value:a,onChange:e=>l(e.target.value)}),Y.jsx("button",{type:"button",className:"toggle-password-register",onClick:()=>d(!h),children:Y.jsx("img",{src:h?"/eye-lock-login.svg":"/eye-login.svg",alt:"Mostrar Contraseña",className:"password-icon"})})]}),Y.jsxs("div",{className:"input-group password-container",children:[Y.jsx("input",{type:f?"text":"password",className:"input-field password-input",placeholder:"Confirmar Contraseña",value:c,onChange:e=>u(e.target.value)}),Y.jsx("button",{type:"button",className:"toggle-password",onClick:()=>p(!f),children:Y.jsx("img",{src:f?"/eye-lock-login.svg":"/eye-login.svg",alt:"Mostrar Contraseña",className:"password-icon"})})]}),Y.jsx("div",{className:"button-div",children:Y.jsx("button",{className:"login-button",onClick:async()=>{if(a===c)try{const n=await RP(o,a,t,r);console.log("Usuario registrado:",n),alert("Cuenta creada con éxito"),e.replace("/login")}catch(n){const e=n instanceof Error?n.message:"Error desconocido";console.error("Error al registrar:",e),alert("Error al registrar: "+e)}else alert("Las contraseñas no coinciden")},children:"CREAR CUENTA"})}),Y.jsxs("p",{className:"register-text-register",children:["¿Ya tienes una cuenta? ",Y.jsx("span",{className:"register-link",onClick:()=>e.replace("/login"),children:"Iniciar sesión"})]})]})})})},OP=()=>{const e=Kv(),[t,n]=z.useState(null),[r,i]=z.useState([]),[o,s]=z.useState(0),[a,l]=z.useState(!1),[c,u]=z.useState(null);return z.useEffect((()=>{const e=Qk(TP,(e=>{e?u(e.uid):(console.log("No hay usuario autenticado, redirigiendo al login..."),window.location.replace("/login"))}));return()=>e()}),[]),z.useEffect((()=>{(async()=>{if(!c)return;const e=(await xP(MR(IP,"users"))).docs.find((e=>e.id===c));e&&n(e.data().firstName)})(),(async()=>{if(!c)return;const e=MR(IP,"users",c,"habits"),t=(await xP(e)).docs.map((e=>({id:e.id,...e.data()})));i(t)})()}),[c]),z.useEffect((()=>{if(r.length>0){const e=r.filter((e=>e.completed)).length;s(e/r.length*100)}}),[r]),Y.jsxs(vm,{children:[a&&Y.jsx("div",{className:"menu-overlay",children:Y.jsxs("div",{className:"menu-content",children:[Y.jsx("button",{className:"close-menu",onClick:()=>l(!1),children:"✖"}),Y.jsx("h3",{children:"Menú"}),Y.jsx("button",{className:"logout-button",onClick:async()=>{try{await Xk(TP),console.log("Sesión cerrada correctamente"),l(!1),setTimeout((()=>{window.location.href="/home"}),500)}catch(e){console.error("Error al cerrar sesión:",e)}},children:"Cerrar Sesión"})]})}),Y.jsxs(rm,{className:"dashboard-container",fullscreen:!0,children:[Y.jsxs("div",{className:"navbar",children:[Y.jsx("button",{className:"menu-toggle",onClick:()=>l(!0),children:Y.jsx("img",{src:"/menu-black.svg",alt:"Menú"})}),Y.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),Y.jsxs("div",{className:"content-wrapper",children:[Y.jsxs("h2",{className:"welcome-text",children:["Hola, ",t||"Usuario","!"]}),Y.jsx("div",{className:"progress-container",children:Y.jsxs("svg",{className:"progress-circle",width:"140",height:"140",viewBox:"0 0 140 140",children:[Y.jsx("circle",{className:"progress-outer",cx:"70",cy:"70",r:"65"}),Y.jsx("circle",{className:"progress-fill",cx:"70",cy:"70",r:"55",strokeDasharray:"345",strokeDashoffset:345*(1-o/100)}),Y.jsx("circle",{className:"progress-inner",cx:"70",cy:"70",r:"45"}),Y.jsxs("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"progress-text",children:[o.toFixed(0),"%"]})]})}),0===r.length?Y.jsx("p",{className:"info-text",children:"Aún no tienes hábitos programados. Agrega uno pulsando el botón inferior."}):Y.jsxs(Y.Fragment,{children:[Y.jsx("p",{className:"info-text",children:`${r.filter((e=>e.completed)).length} de ${r.length} completados`}),Y.jsx("div",{className:"habit-list-container-dashboard",children:r.map((t=>Y.jsxs("button",{className:"habit-item-dashboard",onClick:()=>e.replace(`/habitview/${t.id}`),children:[Y.jsx("img",{src:`/habits/${t.icon}`,alt:t.title,className:"habit-icon-dashboard"}),Y.jsx("span",{className:"habit-title",children:t.title})]},t.id)))})]})]}),Y.jsx("div",{className:"wave-container",children:Y.jsx("img",{src:"/wave-dashboard.svg",alt:"Wave Animation",className:"wave-main-svg"})}),Y.jsx("button",{className:"floating-button-dashboard",onClick:()=>e.replace("/addhabit"),children:"+"})]})]})},LP=["dumbbell.svg","early-awakening.svg","early-sleep.svg","fluent_food-16-filled.svg","read-book.svg","study.svg"],DP=()=>{const[e,t]=z.useState(""),[n,r]=z.useState(LP[0]),[i,o]=z.useState([]),[s,a]=z.useState(!1),[l,c]=z.useState(null),[u,h]=z.useState(!1),d=Kv(),f=TP.currentUser;z.useEffect((()=>{f&&(async()=>{const e=MR(IP,"users",f.uid,"habits"),t=(await xP(e)).docs.map((e=>({id:e.id,...e.data()})));o(t)})()}),[f]);const p=async e=>{try{if(!f)return;const t=$R(IP,"users",f.uid,"habits",e);await function(e){return _P(TR(e.firestore,UR),[new DC(e._key,EC.none())])}(t),o(i.filter((t=>t.id!==e))),console.log(`Hábito con ID ${e} eliminado`)}catch(t){console.error("Error al eliminar hábito:",t)}};return Y.jsxs(vm,{children:[u&&Y.jsx("div",{className:"menu-overlay",children:Y.jsxs("div",{className:"menu-content",children:[Y.jsx("button",{className:"close-menu",onClick:()=>h(!1),children:"✖"}),Y.jsx("h3",{children:"Menú"}),Y.jsx("button",{className:"logout-button",onClick:async()=>{try{await Xk(TP),console.log("Sesión cerrada correctamente"),d.replace("/home")}catch(e){console.error("Error al cerrar sesión:",e)}},children:"Cerrar Sesión"})]})}),Y.jsxs(rm,{className:"add-habit-container",fullscreen:!0,children:[Y.jsxs("div",{className:"navbar",children:[Y.jsx("button",{className:"menu-toggle",onClick:()=>h(!0),children:Y.jsx("img",{src:"/menu-black.svg",alt:"Menú"})}),Y.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),Y.jsx("h2",{className:"title-añadir",children:"Añadir Hábito"}),Y.jsx("div",{className:"habit-list-container",children:0===i.length?Y.jsx("p",{className:"info-text-añadir",children:"No tienes hábitos agregados aún."}):i.map((e=>Y.jsxs("div",{className:"habit-item",children:[Y.jsx("img",{src:`/habits/${e.icon}`,alt:e.title,className:"habit-item-icon"}),Y.jsx("span",{className:"habit-title",children:e.title}),Y.jsxs("div",{className:"habit-actions",children:[Y.jsx("img",{src:"/edit.svg",alt:"Edit",className:"action-icon",onClick:()=>(e=>{t(e.title),r(e.icon),c(e.id),a(!0)})(e)}),Y.jsx("img",{src:"/erase.svg",alt:"Delete",className:"action-icon",onClick:()=>p(e.id)})]})]},e.id)))}),Y.jsx("button",{className:"add-button",onClick:()=>{a(!0),c(null)},children:"Añadir Hábito"}),s&&Y.jsx("div",{className:"modal-overlay-habit",children:Y.jsxs("div",{className:"modal-content-habit",children:[Y.jsx("button",{className:"close-modal-habit",onClick:()=>a(!1),children:"✖"}),Y.jsx("h3",{className:"subtitle",children:l?"Editar Hábito":"Añadir Hábito"}),Y.jsx("input",{type:"text",className:"habit-input",placeholder:"Escribe tu hábito...",value:e,onChange:e=>t(e.target.value)}),Y.jsx("div",{className:"icon-scroll-container",children:Y.jsx("div",{className:"icon-grid",children:LP.map(((e,t)=>Y.jsx("div",{className:"habit-icon "+(n===e?"selected":""),onClick:()=>r(e),children:Y.jsx("img",{src:`/habits/${e}`,alt:e.replace(".svg","")})},t)))})}),Y.jsx("button",{className:"apply-button",onClick:async()=>{if(e.trim()&&n&&f)try{const s=MR(IP,"users",f.uid,"habits");if(l)await SP($R(s,l),{title:e,icon:n}),o(i.map((t=>t.id===l?{...t,title:e,icon:n}:t)));else{const t=await function(e,t){const n=TR(e.firestore,UR),r=$R(e),i=mP(e.converter,t);return _P(n,[eP(ZR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,EC.exists(!1))]).then((()=>r))}(s,{title:e,icon:n,completed:!1});o([...i,{id:t.id,title:e,icon:n,completed:!1}])}t(""),r(LP[0]),c(null),a(!1)}catch(s){console.error("Error al guardar hábito:",s)}},children:l?"Actualizar":"Aplicar"})]})}),Y.jsx("button",{className:"finalize-button",onClick:()=>{d.replace("/dashboard")},children:"Finalizar"}),Y.jsx("div",{className:"wave-container",children:Y.jsx("img",{src:"/wave-main.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})]})},MP=()=>{const e=Kv(),{id:t}=Gv(),[n,r]=z.useState(!1),[i,o]=z.useState(!1),[s,a]=z.useState(null),[l,c]=z.useState(null),u=z.useCallback((async e=>{if(t)try{const n=$R(IP,"users",e,"habits",t),r=await kP(n);if(r.exists()){const e=r.data();c({id:t,...e})}else console.error("Hábito no encontrado")}catch(n){console.error("Error al obtener el hábito:",n)}}),[t]);return z.useEffect((()=>{const e=Qk(TP,(e=>{e?(a(e.uid),u(e.uid)):window.location.replace("/login")}));return()=>e()}),[u]),Y.jsxs(vm,{children:[n&&Y.jsx("div",{className:"menu-overlay",children:Y.jsxs("div",{className:"menu-content",children:[Y.jsx("button",{className:"close-menu",onClick:()=>r(!1),children:"✖"}),Y.jsx("h3",{children:"Menú"}),Y.jsx("button",{className:"logout-button",onClick:async()=>{try{await Xk(TP),r(!1),setTimeout((()=>{window.location.href="/home"}),500)}catch(e){console.error("Error al cerrar sesión:",e)}},children:"Cerrar Sesión"})]})}),Y.jsxs(rm,{className:"dashboard-container",fullscreen:!0,children:[Y.jsxs("div",{className:"navbar",children:[Y.jsx("button",{className:"menu-toggle",onClick:()=>r(!0),children:Y.jsx("img",{src:"/menu-white.svg",alt:"Menú"})}),Y.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),Y.jsxs("div",{className:"content-wrapper",children:[Y.jsxs("div",{className:"egg-container",children:[Y.jsx("img",{src:"/dragon-egg.png",alt:"Huevo de dragón",className:"dragon-egg"}),Y.jsx("p",{className:"egg-text",children:"Completa tu hábito y nacerá el dragón"}),Y.jsx("span",{className:"egg-animo",children:"¡Ánimo! Tú puedes"})]}),Y.jsx("button",{className:"start-button",onClick:()=>o(!0),children:"Comenzar"}),Y.jsx("a",{className:"back-button",href:"#",onClick:t=>{t.preventDefault(),e.replace("/dashboard")},children:"Regresar"})]}),i&&Y.jsx("div",{className:"modal-overlay-habitview",children:Y.jsxs("div",{className:"modal-content-habitview",children:[Y.jsx("button",{className:"close-modal-habitview",onClick:()=>o(!1),children:"✖"}),Y.jsx("h3",{className:"subtitle",children:"Realizar Hábito"}),Y.jsx("button",{className:"finish-button",onClick:async()=>{if(s&&t&&l)try{const n=$R(IP,"users",s,"habits",t);await SP(n,{completed:!0}),c((e=>e?{...e,completed:!0}:e)),e.replace("/dashboard")}catch(n){console.error("Error al marcar el hábito como completado:",n)}},children:"TERMINAR HÁBITO"}),Y.jsx("button",{className:"finish-button",onClick:()=>e.replace(`/timer/${t}`),children:"TEMPORIZADOR"})]})}),Y.jsx("div",{className:"wave-container",children:Y.jsx("img",{src:"/wave-habit.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})]})},$P=()=>{const e=Kv(),{id:t}=Gv(),[n,r]=z.useState(null),[i,o]=z.useState(null),[s,a]=z.useState(0),[l,c]=z.useState(!1),[u,h]=z.useState(0),[d,f]=z.useState(5),p=z.useCallback((async e=>{if(t)try{const n=$R(IP,"users",e,"habits",t),r=await kP(n);if(r.exists()){const e=r.data();o({id:t,...e})}else console.error("Hábito no encontrado")}catch(n){console.error("Error al obtener el hábito:",n)}}),[t]);return z.useEffect((()=>{const e=Qk(TP,(e=>{e?(r(e.uid),p(e.uid)):window.location.replace("/login")}));return()=>e()}),[p]),z.useEffect((()=>{let r;return l&&s>0?r=setInterval((()=>{a((e=>e-1))}),1e3):0===s&&l&&(c(!1),n&&t&&i)&&(async()=>{try{const r=$R(IP,"users",n,"habits",t);await SP(r,{completed:!0}),e.replace("/dashboard")}catch(r){console.error("Error al marcar el hábito como completado:",r)}})(),()=>clearInterval(r)}),[l,s,n,t,i,e]),Y.jsx(vm,{children:Y.jsxs(rm,{className:"timer-container",fullscreen:!0,children:[Y.jsxs("div",{className:"navbar",children:[Y.jsx("button",{className:"menu-toggle",onClick:()=>e.replace("/dashboard"),children:Y.jsx("img",{src:"/menu-black.svg",alt:"Menú"})}),Y.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),Y.jsx("div",{className:"content-wrapper-timer",children:Y.jsxs("div",{className:"egg-container-timer",children:[Y.jsx("img",{src:"/dragon-egg.png",alt:"Huevo de dragón",className:"dragon-egg-timer"}),Y.jsx("span",{className:"egg-animo",children:"¡El dragón está por nacer!"})]})}),Y.jsxs("div",{className:"timer-content",children:[Y.jsx("h1",{className:"timer-display",children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(s)}),Y.jsxs("div",{className:"time-picker",children:[Y.jsx("input",{type:"number",value:u,onChange:e=>{const t=e.target.value.replace(/^0+(?=\d)/,""),n=""===t?0:Math.max(0,Number(t));h(n)},disabled:l,min:"0"}),Y.jsx("span",{children:"h"}),Y.jsx("input",{type:"number",value:d,onChange:e=>{const t=e.target.value.replace(/^0+(?=\d)/,""),n=""===t?0:Math.max(0,Math.min(59,Number(t)));f(n)},disabled:l,min:"0",max:"59"}),Y.jsx("span",{children:"min"})]}),Y.jsxs("div",{className:"timer-controls",children:[Y.jsx("button",{className:"timer-button",onClick:()=>{c(!1),a(0)},children:Y.jsx("img",{src:"/restart.svg",alt:"Reiniciar"})}),Y.jsx("button",{className:"timer-button",onClick:()=>{0===s&&a(3600*u+60*d),c(!l)},children:Y.jsx("img",{src:l?"/pause.svg":"/play.svg",alt:l?"Pausar":"Iniciar"})})]})]}),Y.jsx("div",{className:"wave-container",children:Y.jsx("img",{src:"/wave-timer.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})})},VP=()=>{const[,e]=z.useState(null),[,t]=z.useState(!0);return z.useEffect((()=>{const n=Qk(TP,(n=>{e(n),t(!1)}));return()=>n()}),[]),Y.jsx(fm,{children:Y.jsx(ry,{children:Y.jsx(_m,{children:Y.jsxs(Wv,{children:[Y.jsx(Hv,{exact:!0,path:"/home",component:NP}),Y.jsx(Hv,{exact:!0,path:"/login",component:PP}),Y.jsx(Hv,{exact:!0,path:"/register",component:AP}),Y.jsx(Hv,{exact:!0,path:"/dashboard",component:OP}),Y.jsx(Hv,{exact:!0,path:"/addhabit",component:DP}),Y.jsx(Hv,{exact:!0,path:"/habitview/:id",component:MP}),Y.jsx(Hv,{exact:!0,path:"/timer/:id",component:$P}),Y.jsx(Hv,{path:"*",children:Y.jsx(Uv,{to:"/home"})})]})})})})};sh(document.getElementById("root")).render(Y.jsx(B.StrictMode,{children:Y.jsx(VP,{})}))}}}));
