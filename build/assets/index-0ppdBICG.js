const __vite__fileDeps=["assets/status-tap-CLrnqrD7.js","assets/index8-BSOM0rBR.js","assets/input-shims-C1vdW3Tp.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function f4(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sE={exports:{}},Bc={},oE={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),EC=Symbol.for("react.portal"),TC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),SC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),AC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),Lv=Symbol.iterator;function xC(t){return t===null||typeof t!="object"?null:(t=Lv&&t[Lv]||t["@@iterator"],typeof t=="function"?t:null)}var aE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lE=Object.assign,uE={};function ho(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||aE}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cE(){}cE.prototype=ho.prototype;function Bp(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||aE}var Hp=Bp.prototype=new cE;Hp.constructor=Bp;lE(Hp,ho.prototype);Hp.isPureReactComponent=!0;var Dv=Array.isArray,hE=Object.prototype.hasOwnProperty,zp={current:null},dE={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hE.call(e,r)&&!dE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Za,type:t,key:s,ref:o,props:i,_owner:zp.current}}function NC(t,e){return{$$typeof:Za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Za}function OC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vv=/\/+/g;function hd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OC(""+t.key):e.toString(36)}function yu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Za:case EC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hd(o,0):r,Dv(i)?(n="",t!=null&&(n=t.replace(Vv,"$&/")+"/"),yu(i,e,n,"",function(c){return c})):i!=null&&(Wp(i)&&(i=NC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dv(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+hd(s,a);o+=yu(s,e,n,u,i)}else if(u=xC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+hd(s,a++),o+=yu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hl(t,e,n){if(t==null)return t;var r=[],i=0;return yu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},_u={transition:null},DC={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:_u,ReactCurrentOwner:zp};function pE(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Hl,forEach:function(t,e,n){Hl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hl(t,function(){e++}),e},toArray:function(t){return Hl(t,function(e){return e})||[]},only:function(t){if(!Wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=ho;ae.Fragment=TC;ae.Profiler=bC;ae.PureComponent=Bp;ae.StrictMode=IC;ae.Suspense=RC;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DC;ae.act=pE;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)hE.call(e,u)&&!dE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Za,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:CC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SC,_context:t},t.Consumer=t};ae.createElement=fE;ae.createFactory=function(t){var e=fE.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:kC,render:t}};ae.isValidElement=Wp;ae.lazy=function(t){return{$$typeof:PC,_payload:{_status:-1,_result:t},_init:LC}};ae.memo=function(t,e){return{$$typeof:AC,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};ae.unstable_act=pE;ae.useCallback=function(t,e){return At.current.useCallback(t,e)};ae.useContext=function(t){return At.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return At.current.useDeferredValue(t)};ae.useEffect=function(t,e){return At.current.useEffect(t,e)};ae.useId=function(){return At.current.useId()};ae.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return At.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};ae.useRef=function(t){return At.current.useRef(t)};ae.useState=function(t){return At.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return At.current.useTransition()};ae.version="18.3.1";oE.exports=ae;var J=oE.exports;const $=Ja(J);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=J,MC=Symbol.for("react.element"),$C=Symbol.for("react.fragment"),UC=Object.prototype.hasOwnProperty,FC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UC.call(e,r)&&!jC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MC,type:t,key:s,ref:o,props:i,_owner:FC.current}}Bc.Fragment=$C;Bc.jsx=mE;Bc.jsxs=mE;sE.exports=Bc;var x=sE.exports,gE={exports:{}},Yt={},vE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var j=z.length;z.push(H);e:for(;0<j;){var Y=j-1>>>1,q=z[Y];if(0<i(q,H))z[Y]=H,z[j]=q,j=Y;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],j=z.pop();if(j!==H){z[0]=j;e:for(var Y=0,q=z.length,te=q>>>1;Y<te;){var oe=2*(Y+1)-1,Te=z[oe],xe=oe+1,Re=z[xe];if(0>i(Te,j))xe<q&&0>i(Re,Te)?(z[Y]=Re,z[xe]=j,Y=xe):(z[Y]=Te,z[oe]=j,Y=oe);else if(xe<q&&0>i(Re,j))z[Y]=Re,z[xe]=j,Y=xe;else break e}}return H}function i(z,H){var j=z.sortIndex-H.sortIndex;return j!==0?j:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,g=!1,I=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=z)r(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function O(z){if(R=!1,T(z),!I)if(n(u)!==null)I=!0,Ee(V);else{var H=n(c);H!==null&&gt(O,H.startTime-z)}}function V(z,H){I=!1,R&&(R=!1,b(v),v=-1),g=!0;var j=m;try{for(T(H),f=n(u);f!==null&&(!(f.expirationTime>H)||z&&!k());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var q=Y(f.expirationTime<=H);H=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),T(H)}else r(u);f=n(u)}if(f!==null)var te=!0;else{var oe=n(c);oe!==null&&gt(O,oe.startTime-H),te=!1}return te}finally{f=null,m=j,g=!1}}var M=!1,E=null,v=-1,_=5,S=-1;function k(){return!(t.unstable_now()-S<_)}function A(){if(E!==null){var z=t.unstable_now();S=z;var H=!0;try{H=E(!0,z)}finally{H?C():(M=!1,E=null)}}else M=!1}var C;if(typeof w=="function")C=function(){w(A)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,de=me.port2;me.port1.onmessage=A,C=function(){de.postMessage(null)}}else C=function(){P(A,0)};function Ee(z){E=z,M||(M=!0,C())}function gt(z,H){v=P(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){I||g||(I=!0,Ee(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var j=m;m=H;try{return z()}finally{m=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=m;m=z;try{return H()}finally{m=j}},t.unstable_scheduleCallback=function(z,H,j){var Y=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Y+j:Y):j=Y,z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=j+q,z={id:h++,callback:H,priorityLevel:z,startTime:j,expirationTime:q,sortIndex:-1},j>Y?(z.sortIndex=j,e(c,z),n(u)===null&&z===n(c)&&(R?(b(v),v=-1):R=!0,gt(O,j-Y))):(z.sortIndex=q,e(u,z),I||g||(I=!0,Ee(V))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var H=m;return function(){var j=m;m=H;try{return z.apply(this,arguments)}finally{m=j}}}})(yE);vE.exports=yE;var BC=vE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=J,Qt=BC;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Ta={};function Xi(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(Ta[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mv={},$v={};function WC(t){return cf.call($v,t)?!0:cf.call(Mv,t)?!1:zC.test(t)?$v[t]=!0:(Mv[t]=!0,!1)}function qC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KC(t,e,n,r){if(e===null||typeof e>"u"||qC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qp,Kp);ht[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qp,Kp);ht[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qp,Kp);ht[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,n,r){var i=ht.hasOwnProperty(e)?ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KC(e,n,i,r)&&(n=null),r||i===null?WC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pr=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),EE=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),Xp=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),TE=Symbol.for("react.offscreen"),Uv=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=Uv&&t[Uv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,dd;function Xo(t){if(dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dd=e&&e[1]||""}return"\n"+dd+t}var fd=!1;function pd(t,e){if(!t||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u="\n"+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function GC(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=pd(t.type,!1),t;case 11:return t=pd(t.type.render,!1),t;case 1:return t=pd(t.type,!0),t;default:return""}}function pf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case Cs:return"Portal";case hf:return"Profiler";case Qp:return"StrictMode";case df:return"Suspense";case ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EE:return(t.displayName||"Context")+".Consumer";case wE:return(t._context.displayName||"Context")+".Provider";case Yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xp:return e=t.displayName||null,e!==null?e:pf(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return pf(t(e))}catch(n){}}return null}function QC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pf(e);case 8:return e===Qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YC(t){var e=IE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wl(t){t._valueTracker||(t._valueTracker=YC(t))}function bE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ju(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function mf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SE(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function gf(t,e){SE(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||ju(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Jo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function CE(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ql,RE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XC=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){XC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function AE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JC=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wf(t,e){if(e){if(JC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Ef(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function Jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var If=null,Fs=null,js=null;function zv(t){if(t=nl(t)){if(typeof If!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Kc(e),If(t.stateNode,t.type,e))}}function xE(t){Fs?js?js.push(t):js=[t]:Fs=t}function NE(){if(Fs){var t=Fs,e=js;if(js=Fs=null,zv(t),e)for(t=0;t<e.length;t++)zv(e[t])}}function OE(t,e){return t(e)}function LE(){}var md=!1;function DE(t,e,n){if(md)return t(e,n);md=!0;try{return OE(t,e,n)}finally{md=!1,(Fs!==null||js!==null)&&(LE(),NE())}}function ba(t,e){var n=t.stateNode;if(n===null)return null;var r=Kc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var bf=!1;if(sr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){bf=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch(t){bf=!1}function ZC(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var la=!1,Bu=null,Hu=!1,Sf=null,ek={onError:function(t){la=!0,Bu=t}};function tk(t,e,n,r,i,s,o,a,u){la=!1,Bu=null,ZC.apply(ek,arguments)}function nk(t,e,n,r,i,s,o,a,u){if(tk.apply(this,arguments),la){if(la){var c=Bu;la=!1,Bu=null}else throw Error(B(198));Hu||(Hu=!0,Sf=c)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wv(t){if(Ji(t)!==t)throw Error(B(188))}function rk(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wv(i),t;if(s===r)return Wv(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function ME(t){return t=rk(t),t!==null?$E(t):null}function $E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$E(t);if(e!==null)return e;t=t.sibling}return null}var UE=Qt.unstable_scheduleCallback,qv=Qt.unstable_cancelCallback,ik=Qt.unstable_shouldYield,sk=Qt.unstable_requestPaint,Fe=Qt.unstable_now,ok=Qt.unstable_getCurrentPriorityLevel,Zp=Qt.unstable_ImmediatePriority,FE=Qt.unstable_UserBlockingPriority,zu=Qt.unstable_NormalPriority,ak=Qt.unstable_LowPriority,jE=Qt.unstable_IdlePriority,Hc=null,On=null;function lk(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch(e){}}var wn=Math.clz32?Math.clz32:hk,uk=Math.log,ck=Math.LN2;function hk(t){return t>>>=0,t===0?32:31-(uk(t)/ck|0)|0}var Kl=64,Gl=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Zo(a):(s&=o,s!==0&&(r=Zo(s)))}else o=n&~i,o!==0?r=Zo(o):s!==0&&(r=Zo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wn(e),i=1<<n,r|=t[n],e&=~i;return r}function dk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=dk(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Cf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BE(){var t=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),t}function gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function pk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function em(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function HE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zE,tm,WE,qE,KE,kf=!1,Ql=[],Vr=null,Mr=null,$r=null,Sa=new Map,Ca=new Map,kr=[],mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kv(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Ho(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nl(e),e!==null&&tm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gk(t,e,n,r,i){switch(e){case"focusin":return Vr=Ho(Vr,t,e,n,r,i),!0;case"dragenter":return Mr=Ho(Mr,t,e,n,r,i),!0;case"mouseover":return $r=Ho($r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sa.set(s,Ho(Sa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ca.set(s,Ho(Ca.get(s)||null,t,e,n,r,i)),!0}return!1}function GE(t){var e=Ri(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,KE(t.priority,function(){WE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tf=r,n.target.dispatchEvent(r),Tf=null}else return e=nl(n),e!==null&&tm(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){wu(t)&&n.delete(e)}function vk(){kf=!1,Vr!==null&&wu(Vr)&&(Vr=null),Mr!==null&&wu(Mr)&&(Mr=null),$r!==null&&wu($r)&&($r=null),Sa.forEach(Gv),Ca.forEach(Gv)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,kf||(kf=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,vk)))}function ka(t){function e(i){return zo(i,t)}if(0<Ql.length){zo(Ql[0],t);for(var n=1;n<Ql.length;n++){var r=Ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&zo(Vr,t),Mr!==null&&zo(Mr,t),$r!==null&&zo($r,t),Sa.forEach(e),Ca.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&kr.shift()}var Bs=pr.ReactCurrentBatchConfig,qu=!0;function yk(t,e,n,r){var i=ve,s=Bs.transition;Bs.transition=null;try{ve=1,nm(t,e,n,r)}finally{ve=i,Bs.transition=s}}function _k(t,e,n,r){var i=ve,s=Bs.transition;Bs.transition=null;try{ve=4,nm(t,e,n,r)}finally{ve=i,Bs.transition=s}}function nm(t,e,n,r){if(qu){var i=Rf(t,e,n,r);if(i===null)Cd(t,e,r,Ku,n),Kv(t,r);else if(gk(i,t,e,n,r))r.stopPropagation();else if(Kv(t,r),e&4&&-1<mk.indexOf(t)){for(;i!==null;){var s=nl(i);if(s!==null&&zE(s),s=Rf(t,e,n,r),s===null&&Cd(t,e,r,Ku,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cd(t,e,r,null,n)}}var Ku=null;function Rf(t,e,n,r){if(Ku=null,t=Jp(r),t=Ri(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ku=t,null}function QE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case Zp:return 1;case FE:return 4;case zu:case ak:return 16;case jE:return 536870912;default:return 16}default:return 16}}var Or=null,rm=null,Eu=null;function YE(){if(Eu)return Eu;var t,e=rm,n=e.length,r,i="value"in Or?Or.value:Or.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yl(){return!0}function Qv(){return!1}function Xt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yl:Qv,this.isPropagationStopped=Qv,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),e}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Xt(fo),tl=De({},fo,{view:0,detail:0}),wk=Xt(tl),vd,yd,Wo,zc=De({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wo&&(Wo&&t.type==="mousemove"?(vd=t.screenX-Wo.screenX,yd=t.screenY-Wo.screenY):yd=vd=0,Wo=t),vd)},movementY:function(t){return"movementY"in t?t.movementY:yd}}),Yv=Xt(zc),Ek=De({},zc,{dataTransfer:0}),Tk=Xt(Ek),Ik=De({},tl,{relatedTarget:0}),_d=Xt(Ik),bk=De({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=Xt(bk),Ck=De({},fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kk=Xt(Ck),Rk=De({},fo,{data:0}),Xv=Xt(Rk),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xk[t])?!!e[t]:!1}function sm(){return Nk}var Ok=De({},tl,{key:function(t){if(t.key){var e=Ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lk=Xt(Ok),Dk=De({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jv=Xt(Dk),Vk=De({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),Mk=Xt(Vk),$k=De({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uk=Xt($k),Fk=De({},zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=Xt(Fk),Bk=[9,13,27,32],om=sr&&"CompositionEvent"in window,ua=null;sr&&"documentMode"in document&&(ua=document.documentMode);var Hk=sr&&"TextEvent"in window&&!ua,XE=sr&&(!om||ua&&8<ua&&11>=ua),Zv=" ",ey=!1;function JE(t,e){switch(t){case"keyup":return Bk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function zk(t,e){switch(t){case"compositionend":return ZE(e);case"keypress":return e.which!==32?null:(ey=!0,Zv);case"textInput":return t=e.data,t===Zv&&ey?null:t;default:return null}}function Wk(t,e){if(Rs)return t==="compositionend"||!om&&JE(t,e)?(t=YE(),Eu=rm=Or=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XE&&e.locale!=="ko"?null:e.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qk[t.type]:e==="textarea"}function e0(t,e,n,r){xE(r),e=Gu(e,"onChange"),0<e.length&&(n=new im("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ca=null,Ra=null;function Kk(t){h0(t,0)}function Wc(t){var e=xs(t);if(bE(e))return t}function Gk(t,e){if(t==="change")return e}var t0=!1;if(sr){var wd;if(sr){var Ed="oninput"in document;if(!Ed){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Ed=typeof ny.oninput=="function"}wd=Ed}else wd=!1;t0=wd&&(!document.documentMode||9<document.documentMode)}function ry(){ca&&(ca.detachEvent("onpropertychange",n0),Ra=ca=null)}function n0(t){if(t.propertyName==="value"&&Wc(Ra)){var e=[];e0(e,Ra,t,Jp(t)),DE(Kk,e)}}function Qk(t,e,n){t==="focusin"?(ry(),ca=e,Ra=n,ca.attachEvent("onpropertychange",n0)):t==="focusout"&&ry()}function Yk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(Ra)}function Xk(t,e){if(t==="click")return Wc(e)}function Jk(t,e){if(t==="input"||t==="change")return Wc(e)}function Zk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:Zk;function Aa(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cf.call(e,i)||!In(t[i],e[i]))return!1}return!0}function iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,e){var n=iy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iy(n)}}function r0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i0(){for(var t=window,e=ju();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(r){n=!1}if(n)t=e.contentWindow;else break;e=ju(t.document)}return e}function am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eR(t){var e=i0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r0(n.ownerDocument.documentElement,n)){if(r!==null&&am(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sy(n,s);var o=sy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tR=sr&&"documentMode"in document&&11>=document.documentMode,As=null,Af=null,ha=null,Pf=!1;function oy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||As==null||As!==ju(r)||(r=As,"selectionStart"in r&&am(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ha&&Aa(ha,r)||(ha=r,r=Gu(Af,"onSelect"),0<r.length&&(e=new im("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function Xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ps={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},Td={},s0={};sr&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function qc(t){if(Td[t])return Td[t];if(!Ps[t])return t;var e=Ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s0)return Td[t]=e[n];return t}var o0=qc("animationend"),a0=qc("animationiteration"),l0=qc("animationstart"),u0=qc("transitionend"),c0=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){c0.set(t,e),Xi(e,[t])}for(var Id=0;Id<ay.length;Id++){var bd=ay[Id],nR=bd.toLowerCase(),rR=bd[0].toUpperCase()+bd.slice(1);oi(nR,"on"+rR)}oi(o0,"onAnimationEnd");oi(a0,"onAnimationIteration");oi(l0,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(u0,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function ly(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nk(r,e,void 0,t),t.currentTarget=null}function h0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;ly(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;ly(i,a,c),s=u}}}if(Hu)throw t=Sf,Hu=!1,Sf=null,t}function Se(t,e){var n=e[Df];n===void 0&&(n=e[Df]=new Set);var r=t+"__bubble";n.has(r)||(d0(e,t,2,!1),n.add(r))}function Sd(t,e,n){var r=0;e&&(r|=4),d0(n,t,r,e)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Jl]){t[Jl]=!0,_E.forEach(function(n){n!=="selectionchange"&&(iR.has(n)||Sd(n,!1,t),Sd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jl]||(e[Jl]=!0,Sd("selectionchange",!1,e))}}function d0(t,e,n,r){switch(QE(e)){case 1:var i=yk;break;case 4:i=_k;break;default:i=nm}n=i.bind(null,e,n,t),i=void 0,!bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ri(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DE(function(){var c=s,h=Jp(n),f=[];e:{var m=c0.get(t);if(m!==void 0){var g=im,I=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":g=Lk;break;case"focusin":I="focus",g=_d;break;case"focusout":I="blur",g=_d;break;case"beforeblur":case"afterblur":g=_d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Mk;break;case o0:case a0:case l0:g=Sk;break;case u0:g=Uk;break;case"scroll":g=wk;break;case"wheel":g=jk;break;case"copy":case"cut":case"paste":g=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jv}var R=(e&4)!==0,P=!R&&t==="scroll",b=R?m!==null?m+"Capture":null:m;R=[];for(var w=c,T;w!==null;){T=w;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,b!==null&&(O=ba(w,b),O!=null&&R.push(xa(w,O,T)))),P)break;w=w.return}0<R.length&&(m=new g(m,I,null,n,h),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Tf&&(I=n.relatedTarget||n.fromElement)&&(Ri(I)||I[or]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(I=n.relatedTarget||n.toElement,g=c,I=I?Ri(I):null,I!==null&&(P=Ji(I),I!==P||I.tag!==5&&I.tag!==6)&&(I=null)):(g=null,I=c),g!==I)){if(R=Yv,O="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(R=Jv,O="onPointerLeave",b="onPointerEnter",w="pointer"),P=g==null?m:xs(g),T=I==null?m:xs(I),m=new R(O,w+"leave",g,n,h),m.target=P,m.relatedTarget=T,O=null,Ri(h)===c&&(R=new R(b,w+"enter",I,n,h),R.target=T,R.relatedTarget=P,O=R),P=O,g&&I)t:{for(R=g,b=I,w=0,T=R;T;T=_s(T))w++;for(T=0,O=b;O;O=_s(O))T++;for(;0<w-T;)R=_s(R),w--;for(;0<T-w;)b=_s(b),T--;for(;w--;){if(R===b||b!==null&&R===b.alternate)break t;R=_s(R),b=_s(b)}R=null}else R=null;g!==null&&uy(f,m,g,R,!1),I!==null&&P!==null&&uy(f,P,I,R,!0)}}e:{if(m=c?xs(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var V=Gk;else if(ty(m))if(t0)V=Jk;else{V=Yk;var M=Qk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=Xk);if(V&&(V=V(t,c))){e0(f,V,n,h);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&vf(m,"number",m.value)}switch(M=c?xs(c):window,t){case"focusin":(ty(M)||M.contentEditable==="true")&&(As=M,Af=c,ha=null);break;case"focusout":ha=Af=As=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,oy(f,n,h);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":oy(f,n,h)}var E;if(om)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Rs?JE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(XE&&n.locale!=="ko"&&(Rs||v!=="onCompositionStart"?v==="onCompositionEnd"&&Rs&&(E=YE()):(Or=h,rm="value"in Or?Or.value:Or.textContent,Rs=!0)),M=Gu(c,v),0<M.length&&(v=new Xv(v,t,null,n,h),f.push({event:v,listeners:M}),E?v.data=E:(E=ZE(n),E!==null&&(v.data=E)))),(E=Hk?zk(t,n):Wk(t,n))&&(c=Gu(c,"onBeforeInput"),0<c.length&&(h=new Xv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=E))}h0(f,e)})}function xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ba(t,n),s!=null&&r.unshift(xa(t,s,i)),s=ba(t,e),s!=null&&r.push(xa(t,s,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ba(n,s),u!=null&&o.unshift(xa(n,u,a))):i||(u=ba(n,s),u!=null&&o.push(xa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(sR,"\n").replace(oR,"")}function Zl(t,e,n){if(e=cy(e),cy(t)!==e&&n)throw Error(B(425))}function Qu(){}var xf=null,Nf=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(t){return hy.resolve(null).then(t).catch(uR)}:Lf;function uR(t){setTimeout(function(){throw t})}function kd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ka(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),Nn="__reactFiber$"+po,Na="__reactProps$"+po,or="__reactContainer$"+po,Df="__reactEvents$"+po,cR="__reactListeners$"+po,hR="__reactHandles$"+po;function Ri(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[or]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dy(t);t!==null;){if(n=t[Nn])return n;t=dy(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[Nn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Kc(t){return t[Na]||null}var Vf=[],Ns=-1;function ai(t){return{current:t}}function ke(t){0>Ns||(t.current=Vf[Ns],Vf[Ns]=null,Ns--)}function Ie(t,e){Ns++,Vf[Ns]=t.current,t.current=e}var Xr={},St=ai(Xr),Mt=ai(!1),Mi=Xr;function Xs(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function Yu(){ke(Mt),ke(St)}function fy(t,e,n){if(St.current!==Xr)throw Error(B(168));Ie(St,e),Ie(Mt,n)}function f0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,QC(t)||"Unknown",i));return De({},n,r)}function Xu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Mi=St.current,Ie(St,t),Ie(Mt,Mt.current),!0}function py(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=f0(t,e,Mi),r.__reactInternalMemoizedMergedChildContext=t,ke(Mt),ke(St),Ie(St,t)):ke(Mt),Ie(Mt,n)}var Gn=null,Gc=!1,Rd=!1;function p0(t){Gn===null?Gn=[t]:Gn.push(t)}function dR(t){Gc=!0,p0(t)}function li(){if(!Rd&&Gn!==null){Rd=!0;var t=0,e=ve;try{var n=Gn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gn=null,Gc=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(t+1)),UE(Zp,li),i}finally{ve=e,Rd=!1}}return null}var Os=[],Ls=0,Ju=null,Zu=0,tn=[],nn=0,$i=null,Xn=1,Jn="";function Si(t,e){Os[Ls++]=Zu,Os[Ls++]=Ju,Ju=t,Zu=e}function m0(t,e,n){tn[nn++]=Xn,tn[nn++]=Jn,tn[nn++]=$i,$i=t;var r=Xn;t=Jn;var i=32-wn(r)-1;r&=~(1<<i),n+=1;var s=32-wn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xn=1<<32-wn(e)+i|n<<i|r,Jn=s+t}else Xn=1<<s|n<<i|r,Jn=t}function lm(t){t.return!==null&&(Si(t,1),m0(t,1,0))}function um(t){for(;t===Ju;)Ju=Os[--Ls],Os[Ls]=null,Zu=Os[--Ls],Os[Ls]=null;for(;t===$i;)$i=tn[--nn],tn[nn]=null,Jn=tn[--nn],tn[nn]=null,Xn=tn[--nn],tn[nn]=null}var Gt=null,qt=null,Ae=!1,yn=null;function g0(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function my(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$i!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function Mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $f(t){if(Ae){var e=qt;if(e){var n=e;if(!my(t,e)){if(Mf(t))throw Error(B(418));e=Ur(n.nextSibling);var r=Gt;e&&my(t,e)?g0(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Gt=t)}}else{if(Mf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,Gt=t}}}function gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function eu(t){if(t!==Gt)return!1;if(!Ae)return gy(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=qt)){if(Mf(t))throw v0(),Error(B(418));for(;e;)g0(t,e),e=Ur(e.nextSibling)}if(gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?Ur(t.stateNode.nextSibling):null;return!0}function v0(){for(var t=qt;t;)t=Ur(t.nextSibling)}function Js(){qt=Gt=null,Ae=!1}function cm(t){yn===null?yn=[t]:yn.push(t)}var fR=pr.ReactCurrentBatchConfig;function qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vy(t){var e=t._init;return e(t._payload)}function y0(t){function e(b,w){if(t){var T=b.deletions;T===null?(b.deletions=[w],b.flags|=16):T.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Hr(b,w),b.index=0,b.sibling=null,b}function s(b,w,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<w?(b.flags|=2,w):T):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,T,O){return w===null||w.tag!==6?(w=Dd(T,b.mode,O),w.return=b,w):(w=i(w,T),w.return=b,w)}function u(b,w,T,O){var V=T.type;return V===ks?h(b,w,T.props.children,O,T.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Sr&&vy(V)===w.type)?(O=i(w,T.props),O.ref=qo(b,w,T),O.return=b,O):(O=Au(T.type,T.key,T.props,null,b.mode,O),O.ref=qo(b,w,T),O.return=b,O)}function c(b,w,T,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Vd(T,b.mode,O),w.return=b,w):(w=i(w,T.children||[]),w.return=b,w)}function h(b,w,T,O,V){return w===null||w.tag!==7?(w=Vi(T,b.mode,O,V),w.return=b,w):(w=i(w,T),w.return=b,w)}function f(b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Dd(""+w,b.mode,T),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zl:return T=Au(w.type,w.key,w.props,null,b.mode,T),T.ref=qo(b,null,w),T.return=b,T;case Cs:return w=Vd(w,b.mode,T),w.return=b,w;case Sr:var O=w._init;return f(b,O(w._payload),T)}if(Jo(w)||jo(w))return w=Vi(w,b.mode,T,null),w.return=b,w;tu(b,w)}return null}function m(b,w,T,O){var V=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:a(b,w,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zl:return T.key===V?u(b,w,T,O):null;case Cs:return T.key===V?c(b,w,T,O):null;case Sr:return V=T._init,m(b,w,V(T._payload),O)}if(Jo(T)||jo(T))return V!==null?null:h(b,w,T,O,null);tu(b,T)}return null}function g(b,w,T,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return b=b.get(T)||null,a(w,b,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case zl:return b=b.get(O.key===null?T:O.key)||null,u(w,b,O,V);case Cs:return b=b.get(O.key===null?T:O.key)||null,c(w,b,O,V);case Sr:var M=O._init;return g(b,w,T,M(O._payload),V)}if(Jo(O)||jo(O))return b=b.get(T)||null,h(w,b,O,V,null);tu(w,O)}return null}function I(b,w,T,O){for(var V=null,M=null,E=w,v=w=0,_=null;E!==null&&v<T.length;v++){E.index>v?(_=E,E=null):_=E.sibling;var S=m(b,E,T[v],O);if(S===null){E===null&&(E=_);break}t&&E&&S.alternate===null&&e(b,E),w=s(S,w,v),M===null?V=S:M.sibling=S,M=S,E=_}if(v===T.length)return n(b,E),Ae&&Si(b,v),V;if(E===null){for(;v<T.length;v++)E=f(b,T[v],O),E!==null&&(w=s(E,w,v),M===null?V=E:M.sibling=E,M=E);return Ae&&Si(b,v),V}for(E=r(b,E);v<T.length;v++)_=g(E,b,v,T[v],O),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?v:_.key),w=s(_,w,v),M===null?V=_:M.sibling=_,M=_);return t&&E.forEach(function(k){return e(b,k)}),Ae&&Si(b,v),V}function R(b,w,T,O){var V=jo(T);if(typeof V!="function")throw Error(B(150));if(T=V.call(T),T==null)throw Error(B(151));for(var M=V=null,E=w,v=w=0,_=null,S=T.next();E!==null&&!S.done;v++,S=T.next()){E.index>v?(_=E,E=null):_=E.sibling;var k=m(b,E,S.value,O);if(k===null){E===null&&(E=_);break}t&&E&&k.alternate===null&&e(b,E),w=s(k,w,v),M===null?V=k:M.sibling=k,M=k,E=_}if(S.done)return n(b,E),Ae&&Si(b,v),V;if(E===null){for(;!S.done;v++,S=T.next())S=f(b,S.value,O),S!==null&&(w=s(S,w,v),M===null?V=S:M.sibling=S,M=S);return Ae&&Si(b,v),V}for(E=r(b,E);!S.done;v++,S=T.next())S=g(E,b,v,S.value,O),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?v:S.key),w=s(S,w,v),M===null?V=S:M.sibling=S,M=S);return t&&E.forEach(function(A){return e(b,A)}),Ae&&Si(b,v),V}function P(b,w,T,O){if(typeof T=="object"&&T!==null&&T.type===ks&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case zl:e:{for(var V=T.key,M=w;M!==null;){if(M.key===V){if(V=T.type,V===ks){if(M.tag===7){n(b,M.sibling),w=i(M,T.props.children),w.return=b,b=w;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Sr&&vy(V)===M.type){n(b,M.sibling),w=i(M,T.props),w.ref=qo(b,M,T),w.return=b,b=w;break e}n(b,M);break}else e(b,M);M=M.sibling}T.type===ks?(w=Vi(T.props.children,b.mode,O,T.key),w.return=b,b=w):(O=Au(T.type,T.key,T.props,null,b.mode,O),O.ref=qo(b,w,T),O.return=b,b=O)}return o(b);case Cs:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(b,w.sibling),w=i(w,T.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Vd(T,b.mode,O),w.return=b,b=w}return o(b);case Sr:return M=T._init,P(b,w,M(T._payload),O)}if(Jo(T))return I(b,w,T,O);if(jo(T))return R(b,w,T,O);tu(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,T),w.return=b,b=w):(n(b,w),w=Dd(T,b.mode,O),w.return=b,b=w),o(b)):n(b,w)}return P}var Zs=y0(!0),_0=y0(!1),ec=ai(null),tc=null,Ds=null,hm=null;function dm(){hm=Ds=tc=null}function fm(t){var e=ec.current;ke(ec),t._currentValue=e}function Uf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){tc=t,hm=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(hm!==t)if(t={context:t,memoizedValue:e,next:null},Ds===null){if(tc===null)throw Error(B(308));Ds=t,tc.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Ai=null;function pm(t){Ai===null?Ai=[t]:Ai.push(t)}function w0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function mm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ar(t,n)}return i=r.interleaved,i===null?(e.next=e,pm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ar(t,n)}function Iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,em(t,n)}}function yy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nc(t,e,n,r){var i=t.updateQueue;Cr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,R=a;switch(m=e,g=n,R.tag){case 1:if(I=R.payload,typeof I=="function"){f=I.call(g,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=R.payload,m=typeof I=="function"?I.call(g,f,m):I,m==null)break e;f=De({},f,m);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=f):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fi|=o,t.lanes=o,t.memoizedState=f}}function _y(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var rl={},Ln=ai(rl),Oa=ai(rl),La=ai(rl);function Pi(t){if(t===rl)throw Error(B(174));return t}function gm(t,e){switch(Ie(La,e),Ie(Oa,t),Ie(Ln,rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_f(e,t)}ke(Ln),Ie(Ln,e)}function eo(){ke(Ln),ke(Oa),ke(La)}function T0(t){Pi(La.current);var e=Pi(Ln.current),n=_f(e,t.type);e!==n&&(Ie(Oa,t),Ie(Ln,n))}function vm(t){Oa.current===t&&(ke(Ln),ke(Oa))}var Oe=ai(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ad=[];function ym(){for(var t=0;t<Ad.length;t++)Ad[t]._workInProgressVersionPrimary=null;Ad.length=0}var bu=pr.ReactCurrentDispatcher,Pd=pr.ReactCurrentBatchConfig,Ui=0,Le=null,We=null,et=null,ic=!1,da=!1,Da=0,pR=0;function _t(){throw Error(B(321))}function _m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function wm(t,e,n,r,i,s){if(Ui=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bu.current=t===null||t.memoizedState===null?yR:_R,t=n(r,i),da){s=0;do{if(da=!1,Da=0,25<=s)throw Error(B(301));s+=1,et=We=null,e.updateQueue=null,bu.current=wR,t=n(r,i)}while(da)}if(bu.current=sc,e=We!==null&&We.next!==null,Ui=0,et=We=Le=null,ic=!1,e)throw Error(B(300));return t}function Em(){var t=Da!==0;return Da=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Le.memoizedState=et=t:et=et.next=t,et}function cn(){if(We===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=et===null?Le.memoizedState:et.next;if(e!==null)et=e,We=t;else{if(t===null)throw Error(B(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},et===null?Le.memoizedState=et=t:et=et.next=t}return et}function Va(t,e){return typeof e=="function"?e(t):e}function xd(t){var e=cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=We,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Ui&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Le.lanes|=h,Fi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,In(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Fi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nd(t){var e=cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function I0(){}function b0(t,e){var n=Le,r=cn(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,Tm(k0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Ma(9,C0.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(B(349));Ui&30||S0(n,e,i)}return i}function S0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C0(t,e,n,r){e.value=n,e.getSnapshot=r,R0(e)&&A0(t)}function k0(t,e,n){return n(function(){R0(e)&&A0(t)})}function R0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch(r){return!0}}function A0(t){var e=ar(t,1);e!==null&&En(e,t,1,-1)}function wy(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},e.queue=t,t=t.dispatch=vR.bind(null,Le,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P0(){return cn().memoizedState}function Su(t,e,n,r){var i=An();Le.flags|=t,i.memoizedState=Ma(1|e,n,void 0,r===void 0?null:r)}function Qc(t,e,n,r){var i=cn();r=r===void 0?null:r;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,r!==null&&_m(r,o.deps)){i.memoizedState=Ma(e,n,s,r);return}}Le.flags|=t,i.memoizedState=Ma(1|e,n,s,r)}function Ey(t,e){return Su(8390656,8,t,e)}function Tm(t,e){return Qc(2048,8,t,e)}function x0(t,e){return Qc(4,2,t,e)}function N0(t,e){return Qc(4,4,t,e)}function O0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L0(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4,4,O0.bind(null,e,t),n)}function Im(){}function D0(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function V0(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M0(t,e,n){return Ui&21?(In(n,e)||(n=BE(),Le.lanes|=n,Fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function mR(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Pd.transition;Pd.transition={};try{t(!1),e()}finally{ve=n,Pd.transition=r}}function $0(){return cn().memoizedState}function gR(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U0(t))F0(e,n);else if(n=w0(t,e,n,r),n!==null){var i=Rt();En(n,t,r,i),j0(n,e,r)}}function vR(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U0(t))F0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,In(a,o)){var u=e.interleaved;u===null?(i.next=i,pm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch(c){}finally{}n=w0(t,e,i,r),n!==null&&(i=Rt(),En(n,t,r,i),j0(n,e,r))}}function U0(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function F0(t,e){da=ic=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,em(t,n)}}var sc={readContext:un,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},yR={readContext:un,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Ey,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Su(4194308,4,O0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Su(4194308,4,t,e)},useInsertionEffect:function(t,e){return Su(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gR.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:wy,useDebugValue:Im,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=wy(!1),e=t[0];return t=mR.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=An();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),nt===null)throw Error(B(349));Ui&30||S0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ey(k0.bind(null,r,s,t),[t]),r.flags|=2048,Ma(9,C0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=An(),e=nt.identifierPrefix;if(Ae){var n=Jn,r=Xn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_R={readContext:un,useCallback:D0,useContext:un,useEffect:Tm,useImperativeHandle:L0,useInsertionEffect:x0,useLayoutEffect:N0,useMemo:V0,useReducer:xd,useRef:P0,useState:function(){return xd(Va)},useDebugValue:Im,useDeferredValue:function(t){var e=cn();return M0(e,We.memoizedState,t)},useTransition:function(){var t=xd(Va)[0],e=cn().memoizedState;return[t,e]},useMutableSource:I0,useSyncExternalStore:b0,useId:$0,unstable_isNewReconciler:!1},wR={readContext:un,useCallback:D0,useContext:un,useEffect:Tm,useImperativeHandle:L0,useInsertionEffect:x0,useLayoutEffect:N0,useMemo:V0,useReducer:Nd,useRef:P0,useState:function(){return Nd(Va)},useDebugValue:Im,useDeferredValue:function(t){var e=cn();return We===null?e.memoizedState=t:M0(e,We.memoizedState,t)},useTransition:function(){var t=Nd(Va)[0],e=cn().memoizedState;return[t,e]},useMutableSource:I0,useSyncExternalStore:b0,useId:$0,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ff(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yc={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Br(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fr(t,s,i),e!==null&&(En(e,t,i,r),Iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Br(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fr(t,s,i),e!==null&&(En(e,t,i,r),Iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Br(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fr(t,i,r),e!==null&&(En(e,t,r,n),Iu(e,t,r))}};function Ty(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Aa(n,r)||!Aa(i,s):!0}function B0(t,e,n){var r=!1,i=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=un(s):(i=$t(e)?Mi:St.current,r=e.contextTypes,s=(r=r!=null)?Xs(t,i):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Iy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yc.enqueueReplaceState(e,e.state,null)}function jf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=un(s):(s=$t(e)?Mi:St.current,i.context=Xs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ff(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yc.enqueueReplaceState(i,i.state,null),nc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function to(t,e){try{var n="",r=e;do n+=GC(r),r=r.return;while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function Od(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ER=typeof WeakMap=="function"?WeakMap:Map;function H0(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ac||(ac=!0,Jf=r),Bf(t,e)},n}function z0(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bf(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function by(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ER;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DR.bind(null,t,e,n),e.then(t,t))}function Sy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Fr(n,e,1))),n.lanes|=1),t)}var TR=pr.ReactCurrentOwner,Dt=!1;function kt(t,e,n,r){e.child=t===null?_0(e,null,n,r):Zs(e,t.child,n,r)}function ky(t,e,n,r,i){n=n.render;var s=e.ref;return Hs(e,i),r=wm(t,e,n,r,s,i),n=Em(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Ae&&n&&lm(e),e.flags|=1,kt(t,e,r,i),e.child)}function Ry(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,W0(t,e,s,r,i)):(t=Au(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Aa,n(o,r)&&t.ref===e.ref)return lr(t,e,i)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function W0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Aa(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,lr(t,e,i)}return Hf(t,e,n,r,i)}function q0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ms,zt),zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Ms,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Ms,zt),zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Ms,zt),zt|=r;return kt(t,e,i,n),e.child}function K0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hf(t,e,n,r,i){var s=$t(n)?Mi:St.current;return s=Xs(e,s),Hs(e,i),n=wm(t,e,n,r,s,i),r=Em(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Ae&&r&&lm(e),e.flags|=1,kt(t,e,n,i),e.child)}function Ay(t,e,n,r,i){if($t(n)){var s=!0;Xu(e)}else s=!1;if(Hs(e,i),e.stateNode===null)Cu(t,e),B0(e,n,r),jf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=$t(n)?Mi:St.current,c=Xs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Iy(e,o,r,c),Cr=!1;var m=e.memoizedState;o.state=m,nc(e,r,o,i),u=e.memoizedState,a!==r||m!==u||Mt.current||Cr?(typeof h=="function"&&(Ff(e,n,h,r),u=e.memoizedState),(a=Cr||Ty(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,E0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:gn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=$t(n)?Mi:St.current,u=Xs(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Iy(e,o,r,u),Cr=!1,m=e.memoizedState,o.state=m,nc(e,r,o,i);var I=e.memoizedState;a!==f||m!==I||Mt.current||Cr?(typeof g=="function"&&(Ff(e,n,g,r),I=e.memoizedState),(c=Cr||Ty(e,n,c,r,m,I,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return zf(t,e,n,r,s,i)}function zf(t,e,n,r,i,s){K0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&py(e,n,!1),lr(t,e,s);r=e.stateNode,TR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zs(e,t.child,null,s),e.child=Zs(e,null,a,s)):kt(t,e,a,s),e.memoizedState=r.state,i&&py(e,n,!0),e.child}function G0(t){var e=t.stateNode;e.pendingContext?fy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fy(t,e.context,!1),gm(t,e.containerInfo)}function Py(t,e,n,r,i){return Js(),cm(i),e.flags|=256,kt(t,e,n,r),e.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q0(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Oe,i&1),t===null)return $f(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zc(o,r,0,null),t=Vi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qf(n),e.memoizedState=Wf,t):bm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Hr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hr(a,s):(s=Vi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wf,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bm(t,e){return e=Zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&cm(r),Zs(e,t.child,null,n),t=bm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Od(Error(B(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zc({mode:"visible",children:r.children},i,0,null),s=Vi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zs(e,t.child,null,o),e.child.memoizedState=qf(o),e.memoizedState=Wf,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Od(s,r,void 0),nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ar(t,i),En(r,t,i,-1))}return Pm(),r=Od(Error(B(421))),nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Ur(i.nextSibling),Gt=e,Ae=!0,yn=null,t!==null&&(tn[nn++]=Xn,tn[nn++]=Jn,tn[nn++]=$i,Xn=t.id,Jn=t.overflow,$i=e),e=bm(e,r.children),e.flags|=4096,e)}function xy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uf(t.return,e,n)}function Ld(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Y0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,n,e);else if(t.tag===19)xy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ld(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ld(e,!0,n,null,s);break;case"together":Ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bR(t,e,n){switch(e.tag){case 3:G0(e),Js();break;case 5:T0(e);break;case 1:$t(e.type)&&Xu(e);break;case 4:gm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(ec,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?Q0(t,e,n):(Ie(Oe,Oe.current&1),t=lr(t,e,n),t!==null?t.sibling:null);Ie(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,q0(t,e,n)}return lr(t,e,n)}var X0,Kf,J0,Z0;X0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kf=function(){};J0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pi(Ln.current);var s=null;switch(n){case"input":i=mf(t,i),r=mf(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=yf(t,i),r=yf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qu)}wf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ta.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Se("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SR(t,e,n){var r=e.pendingProps;switch(um(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return $t(e.type)&&Yu(),wt(e),null;case 3:return r=e.stateNode,eo(),ke(Mt),ke(St),ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(tp(yn),yn=null))),Kf(t,e),wt(e),null;case 5:vm(e);var i=Pi(La.current);if(n=e.type,t!==null&&e.stateNode!=null)J0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return wt(e),null}if(t=Pi(Ln.current),eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nn]=e,r[Na]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<ea.length;i++)Se(ea[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Fv(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":Bv(r,s),Se("invalid",r)}wf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),i=["children",""+a]):Ta.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Wl(r),jv(r,s,!0);break;case"textarea":Wl(r),Hv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Na]=r,X0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ef(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<ea.length;i++)Se(ea[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":Fv(t,r),i=mf(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Bv(t,r),i=yf(t,r),Se("invalid",t);break;default:i=r}wf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?PE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&RE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ia(t,u):typeof u=="number"&&Ia(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ta.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Se("scroll",t):u!=null&&Gp(t,s,u,o))}switch(n){case"input":Wl(t),jv(t,r,!1);break;case"textarea":Wl(t),Hv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Us(t,!!r.multiple,s,!1):r.defaultValue!=null&&Us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)Z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Pi(La.current),Pi(Ln.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:Zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return wt(e),null;case 13:if(ke(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&qt!==null&&e.mode&1&&!(e.flags&128))v0(),Js(),e.flags|=98560,s=!1;else if(s=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Nn]=e}else Js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else yn!==null&&(tp(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Ke===0&&(Ke=3):Pm())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return eo(),Kf(t,e),t===null&&Pa(e.stateNode.containerInfo),wt(e),null;case 10:return fm(e.type._context),wt(e),null;case 17:return $t(e.type)&&Yu(),wt(e),null;case 19:if(ke(Oe),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ko(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rc(t),o!==null){for(e.flags|=128,Ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>no&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=rc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return wt(e),null}else 2*Fe()-s.renderingStartTime>no&&n!==1073741824&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=Oe.current,Ie(Oe,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Am(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function CR(t,e){switch(um(e),e.tag){case 1:return $t(e.type)&&Yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eo(),ke(Mt),ke(St),ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vm(e),null;case 13:if(ke(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Oe),null;case 4:return eo(),null;case 10:return fm(e.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var ru=!1,It=!1,kR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Gf(t,e,n){try{n()}catch(r){$e(t,e,r)}}var Ny=!1;function RR(t,e){if(xf=qu,t=i0(),am(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(O){n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(u=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:t,selectionRange:n},qu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var R=I.memoizedProps,P=I.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?R:gn(e.type,R),P);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(O){$e(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return I=Ny,Ny=!1,I}function fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gf(e,n,s)}i=i.next}while(i!==r)}}function Xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eT(t){var e=t.alternate;e!==null&&(t.alternate=null,eT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Na],delete e[Df],delete e[cR],delete e[hR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tT(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qu));else if(r!==4&&(t=t.child,t!==null))for(Yf(t,e,n),t=t.sibling;t!==null;)Yf(t,e,n),t=t.sibling}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}var at=null,vn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)nT(t,e,n),n=n.sibling}function nT(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Hc,n)}catch(a){}switch(n.tag){case 5:It||Vs(n,e);case 6:var r=at,i=vn;at=null,Ir(t,e,n),at=r,vn=i,at!==null&&(vn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(vn?(t=at,n=n.stateNode,t.nodeType===8?kd(t.parentNode,n):t.nodeType===1&&kd(t,n),ka(t)):kd(at,n.stateNode));break;case 4:r=at,i=vn,at=n.stateNode.containerInfo,vn=!0,Ir(t,e,n),at=r,vn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gf(n,e,o),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!It&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Ir(t,e,n),It=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function Ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kR),e.forEach(function(r){var i=MR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,vn=!1;break e;case 3:at=a.stateNode.containerInfo,vn=!0;break e;case 4:at=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(at===null)throw Error(B(160));nT(s,o,i),at=null,vn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){$e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rT(e,t),e=e.sibling}function rT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Rn(t),r&4){try{fa(3,t,t.return),Xc(3,t)}catch(R){$e(t,t.return,R)}try{fa(5,t,t.return)}catch(R){$e(t,t.return,R)}}break;case 1:mn(e,t),Rn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(mn(e,t),Rn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var i=t.stateNode;try{Ia(i,"")}catch(R){$e(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SE(i,s),Ef(a,o);var c=Ef(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?PE(i,f):h==="dangerouslySetInnerHTML"?RE(i,f):h==="children"?Ia(i,f):Gp(i,h,f,c)}switch(a){case"input":gf(i,s);break;case"textarea":CE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Us(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Us(i,!!s.multiple,s.defaultValue,!0):Us(i,!!s.multiple,s.multiple?[]:"",!1))}i[Na]=s}catch(R){$e(t,t.return,R)}}break;case 6:if(mn(e,t),Rn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){$e(t,t.return,R)}}break;case 3:if(mn(e,t),Rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(R){$e(t,t.return,R)}break;case 4:mn(e,t),Rn(t);break;case 13:mn(e,t),Rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(km=Fe())),r&4&&Ly(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(It=(c=It)||h,mn(e,t),It=c):mn(e,t),Rn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(f=Q=h;Q!==null;){switch(m=Q,g=m.child,m.tag){case 0:case 11:case 14:case 15:fa(4,m,m.return);break;case 1:Vs(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(R){$e(r,n,R)}}break;case 5:Vs(m,m.return);break;case 22:if(m.memoizedState!==null){Vy(f);continue}}g!==null?(g.return=m,Q=g):Vy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=AE("display",o))}catch(R){$e(t,t.return,R)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){$e(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(e,t),Rn(t),r&4&&Ly(t);break;case 21:break;default:mn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ia(i,""),r.flags&=-33);var s=Oy(t);Xf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oy(t);Yf(t,a,o);break;default:throw Error(B(161))}}catch(u){$e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AR(t,e,n){Q=t,iT(t)}function iT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ru;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||It;a=ru;var c=It;if(ru=o,(It=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?My(i):u!==null?(u.return=o,Q=u):My(i);for(;s!==null;)Q=s,iT(s),s=s.sibling;Q=i,ru=a,It=c}Dy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Dy(t)}}function Dy(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Xc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_y(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_y(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ka(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}It||e.flags&512&&Qf(e)}catch(m){$e(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Vy(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function My(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xc(4,e)}catch(u){$e(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){$e(e,i,u)}}var s=e.return;try{Qf(e)}catch(u){$e(e,s,u)}break;case 5:var o=e.return;try{Qf(e)}catch(u){$e(e,o,u)}}}catch(u){$e(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var PR=Math.ceil,oc=pr.ReactCurrentDispatcher,Sm=pr.ReactCurrentOwner,on=pr.ReactCurrentBatchConfig,fe=0,nt=null,He=null,ct=0,zt=0,Ms=ai(0),Ke=0,$a=null,Fi=0,Jc=0,Cm=0,pa=null,Ot=null,km=0,no=1/0,Kn=null,ac=!1,Jf=null,jr=null,iu=!1,Lr=null,lc=0,ma=0,Zf=null,ku=-1,Ru=0;function Rt(){return fe&6?Fe():ku!==-1?ku:ku=Fe()}function Br(t){return t.mode&1?fe&2&&ct!==0?ct&-ct:fR.transition!==null?(Ru===0&&(Ru=BE()),Ru):(t=ve,t!==0||(t=window.event,t=t===void 0?16:QE(t.type)),t):1}function En(t,e,n,r){if(50<ma)throw ma=0,Zf=null,Error(B(185));el(t,n,r),(!(fe&2)||t!==nt)&&(t===nt&&(!(fe&2)&&(Jc|=n),Ke===4&&Rr(t,ct)),Ut(t,r),n===1&&fe===0&&!(e.mode&1)&&(no=Fe()+500,Gc&&li()))}function Ut(t,e){var n=t.callbackNode;fk(t,e);var r=Wu(t,t===nt?ct:0);if(r===0)n!==null&&qv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qv(n),e===1)t.tag===0?dR($y.bind(null,t)):p0($y.bind(null,t)),lR(function(){!(fe&6)&&li()}),n=null;else{switch(HE(r)){case 1:n=Zp;break;case 4:n=FE;break;case 16:n=zu;break;case 536870912:n=jE;break;default:n=zu}n=dT(n,sT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sT(t,e){if(ku=-1,Ru=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=Wu(t,t===nt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uc(t,r);else{e=r;var i=fe;fe|=2;var s=aT();(nt!==t||ct!==e)&&(Kn=null,no=Fe()+500,Di(t,e));do try{OR();break}catch(a){oT(t,a)}while(!0);dm(),oc.current=s,fe=i,He!==null?e=0:(nt=null,ct=0,e=Ke)}if(e!==0){if(e===2&&(i=Cf(t),i!==0&&(r=i,e=ep(t,i))),e===1)throw n=$a,Di(t,0),Rr(t,r),Ut(t,Fe()),n;if(e===6)Rr(t,r);else{if(i=t.current.alternate,!(r&30)&&!xR(i)&&(e=uc(t,r),e===2&&(s=Cf(t),s!==0&&(r=s,e=ep(t,s))),e===1))throw n=$a,Di(t,0),Rr(t,r),Ut(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ci(t,Ot,Kn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=km+500-Fe(),10<e)){if(Wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lf(Ci.bind(null,t,Ot,Kn),e);break}Ci(t,Ot,Kn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PR(r/1960))-r,10<r){t.timeoutHandle=Lf(Ci.bind(null,t,Ot,Kn),r);break}Ci(t,Ot,Kn);break;case 5:Ci(t,Ot,Kn);break;default:throw Error(B(329))}}}return Ut(t,Fe()),t.callbackNode===n?sT.bind(null,t):null}function ep(t,e){var n=pa;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=uc(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&tp(e)),t}function tp(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function xR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch(o){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~Cm,e&=~Jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),r=1<<n;t[n]=-1,e&=~r}}function $y(t){if(fe&6)throw Error(B(327));zs();var e=Wu(t,0);if(!(e&1))return Ut(t,Fe()),null;var n=uc(t,e);if(t.tag!==0&&n===2){var r=Cf(t);r!==0&&(e=r,n=ep(t,r))}if(n===1)throw n=$a,Di(t,0),Rr(t,e),Ut(t,Fe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ci(t,Ot,Kn),Ut(t,Fe()),null}function Rm(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(no=Fe()+500,Gc&&li())}}function ji(t){Lr!==null&&Lr.tag===0&&!(fe&6)&&zs();var e=fe;fe|=1;var n=on.transition,r=ve;try{if(on.transition=null,ve=1,t)return t()}finally{ve=r,on.transition=n,fe=e,!(fe&6)&&li()}}function Am(){zt=Ms.current,ke(Ms)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aR(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(um(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yu();break;case 3:eo(),ke(Mt),ke(St),ym();break;case 5:vm(r);break;case 4:eo();break;case 13:ke(Oe);break;case 19:ke(Oe);break;case 10:fm(r.type._context);break;case 22:case 23:Am()}n=n.return}if(nt=t,He=t=Hr(t.current,null),ct=zt=e,Ke=0,$a=null,Cm=Jc=Fi=0,Ot=pa=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ai=null}return t}function oT(t,e){do{var n=He;try{if(dm(),bu.current=sc,ic){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ic=!1}if(Ui=0,et=We=Le=null,da=!1,Da=0,Sm.current=null,n===null||n.return===null){Ke=1,$a=e,He=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=ct,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Sy(o);if(g!==null){g.flags&=-257,Cy(g,o,a,s,e),g.mode&1&&by(s,c,e),e=g,u=c;var I=e.updateQueue;if(I===null){var R=new Set;R.add(u),e.updateQueue=R}else I.add(u);break e}else{if(!(e&1)){by(s,c,e),Pm();break e}u=Error(B(426))}}else if(Ae&&a.mode&1){var P=Sy(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Cy(P,o,a,s,e),cm(to(u,a));break e}}s=u=to(u,a),Ke!==4&&(Ke=2),pa===null?pa=[s]:pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=H0(s,u,e);yy(s,b);break e;case 1:a=u;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(jr===null||!jr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=z0(s,a,e);yy(s,O);break e}}s=s.return}while(s!==null)}uT(n)}catch(V){e=V,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function aT(){var t=oc.current;return oc.current=sc,t===null?sc:t}function Pm(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),nt===null||!(Fi&268435455)&&!(Jc&268435455)||Rr(nt,ct)}function uc(t,e){var n=fe;fe|=2;var r=aT();(nt!==t||ct!==e)&&(Kn=null,Di(t,e));do try{NR();break}catch(i){oT(t,i)}while(!0);if(dm(),fe=n,oc.current=r,He!==null)throw Error(B(261));return nt=null,ct=0,Ke}function NR(){for(;He!==null;)lT(He)}function OR(){for(;He!==null&&!ik();)lT(He)}function lT(t){var e=hT(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?uT(t):He=e,Sm.current=null}function uT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CR(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,He=null;return}}else if(n=SR(n,e,zt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ke===0&&(Ke=5)}function Ci(t,e,n){var r=ve,i=on.transition;try{on.transition=null,ve=1,LR(t,e,n,r)}finally{on.transition=i,ve=r}return null}function LR(t,e,n,r){do zs();while(Lr!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pk(t,s),t===nt&&(He=nt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,dT(zu,function(){return zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=ve;ve=1;var a=fe;fe|=4,Sm.current=null,RR(t,n),rT(n,t),eR(Nf),qu=!!xf,Nf=xf=null,t.current=n,AR(n),sk(),fe=a,ve=o,on.transition=s}else t.current=n;if(iu&&(iu=!1,Lr=t,lc=i),s=t.pendingLanes,s===0&&(jr=null),lk(n.stateNode),Ut(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ac)throw ac=!1,t=Jf,Jf=null,t;return lc&1&&t.tag!==0&&zs(),s=t.pendingLanes,s&1?t===Zf?ma++:(ma=0,Zf=t):ma=0,li(),null}function zs(){if(Lr!==null){var t=HE(lc),e=on.transition,n=ve;try{if(on.transition=null,ve=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,lc=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:fa(8,h,s)}var f=h.child;if(f!==null)f.return=h,Q=f;else for(;Q!==null;){h=Q;var m=h.sibling,g=h.return;if(eT(h),h===c){Q=null;break}if(m!==null){m.return=g,Q=m;break}Q=g}}}var I=s.alternate;if(I!==null){var R=I.child;if(R!==null){I.child=null;do{var P=R.sibling;R.sibling=null,R=P}while(R!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fa(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Q=b;break e}Q=s.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xc(9,a)}}catch(V){$e(a,a.return,V)}if(a===o){Q=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Q=O;break e}Q=a.return}}if(fe=i,li(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Hc,t)}catch(V){}r=!0}return r}finally{ve=n,on.transition=e}}return!1}function Uy(t,e,n){e=to(n,e),e=H0(t,e,1),t=Fr(t,e,1),e=Rt(),t!==null&&(el(t,1,e),Ut(t,e))}function $e(t,e,n){if(t.tag===3)Uy(t,t,n);else for(;e!==null;){if(e.tag===3){Uy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=to(n,t),t=z0(e,t,1),e=Fr(e,t,1),t=Rt(),e!==null&&(el(e,1,t),Ut(e,t));break}}e=e.return}}function DR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ct&n)===n&&(Ke===4||Ke===3&&(ct&130023424)===ct&&500>Fe()-km?Di(t,0):Cm|=n),Ut(t,e)}function cT(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=Rt();t=ar(t,e),t!==null&&(el(t,e,n),Ut(t,n))}function VR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cT(t,n)}function MR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),cT(t,n)}var hT;hT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,bR(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Ae&&e.flags&1048576&&m0(e,Zu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cu(t,e),t=e.pendingProps;var i=Xs(e,St.current);Hs(e,n),i=wm(null,e,r,t,i,n);var s=Em();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(s=!0,Xu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mm(e),i.updater=Yc,e.stateNode=i,i._reactInternals=e,jf(e,r,t,n),e=zf(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&lm(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UR(r),t=gn(r,t),i){case 0:e=Hf(null,e,r,t,n);break e;case 1:e=Ay(null,e,r,t,n);break e;case 11:e=ky(null,e,r,t,n);break e;case 14:e=Ry(null,e,r,gn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),Hf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),Ay(t,e,r,i,n);case 3:e:{if(G0(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,E0(t,e),nc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=to(Error(B(423)),e),e=Py(t,e,r,n,i);break e}else if(r!==i){i=to(Error(B(424)),e),e=Py(t,e,r,n,i);break e}else for(qt=Ur(e.stateNode.containerInfo.firstChild),Gt=e,Ae=!0,yn=null,n=_0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===i){e=lr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return T0(e),t===null&&$f(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Of(r,i)?o=null:s!==null&&Of(r,s)&&(e.flags|=32),K0(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&$f(e),null;case 13:return Q0(t,e,n);case 4:return gm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zs(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),ky(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(ec,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!Mt.current){e=lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=nr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Uf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Uf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hs(e,n),i=un(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=gn(r,e.pendingProps),i=gn(r.type,i),Ry(t,e,r,i,n);case 15:return W0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),Cu(t,e),e.tag=1,$t(r)?(t=!0,Xu(e)):t=!1,Hs(e,n),B0(e,r,i),jf(e,r,i,n),zf(null,e,r,!0,t,n);case 19:return Y0(t,e,n);case 22:return q0(t,e,n)}throw Error(B(156,e.tag))};function dT(t,e){return UE(t,e)}function $R(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new $R(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UR(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yp)return 11;if(t===Xp)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Au(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ks:return Vi(n.children,i,s,e);case Qp:o=8,i|=8;break;case hf:return t=sn(12,n,e,i|2),t.elementType=hf,t.lanes=s,t;case df:return t=sn(13,n,e,i),t.elementType=df,t.lanes=s,t;case ff:return t=sn(19,n,e,i),t.elementType=ff,t.lanes=s,t;case TE:return Zc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wE:o=10;break e;case EE:o=9;break e;case Yp:o=11;break e;case Xp:o=14;break e;case Sr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vi(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function Zc(t,e,n,r){return t=sn(22,t,r,e),t.elementType=TE,t.lanes=n,t.stateNode={isHidden:!1},t}function Dd(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Vd(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gd(0),this.expirationTimes=gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nm(t,e,n,r,i,s,o,a,u){return t=new FR(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(s),t}function jR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fT(t){if(!t)return Xr;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if($t(n))return f0(t,n,e)}return e}function pT(t,e,n,r,i,s,o,a,u){return t=Nm(n,r,!0,t,i,s,o,a,u),t.context=fT(null),n=t.current,r=Rt(),i=Br(n),s=nr(r,i),s.callback=e!=null?e:null,Fr(n,s,i),t.current.lanes=i,el(t,i,r),Ut(t,r),t}function eh(t,e,n,r){var i=e.current,s=Rt(),o=Br(i);return n=fT(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fr(i,e,o),t!==null&&(En(t,i,o,s),Iu(t,i,o)),o}function cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Om(t,e){Fy(t,e),(t=t.alternate)&&Fy(t,e)}function BR(){return null}var mT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lm(t){this._internalRoot=t}th.prototype.render=Lm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));eh(t,e,null,null)};th.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ji(function(){eh(null,t,null,null)}),e[or]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=qE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&GE(t)}};function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jy(){}function HR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=cc(o);s.call(c)}}var o=pT(e,r,t,0,null,!1,!1,"",jy);return t._reactRootContainer=o,t[or]=o.current,Pa(t.nodeType===8?t.parentNode:t),ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=cc(u);a.call(c)}}var u=Nm(t,0,!1,null,null,!1,!1,"",jy);return t._reactRootContainer=u,t[or]=u.current,Pa(t.nodeType===8?t.parentNode:t),ji(function(){eh(e,u,n,r)}),u}function rh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=cc(o);a.call(u)}}eh(e,o,t,i)}else o=HR(n,e,t,i,r);return cc(o)}zE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(em(e,n|1),Ut(e,Fe()),!(fe&6)&&(no=Fe()+500,li()))}break;case 13:ji(function(){var r=ar(t,1);if(r!==null){var i=Rt();En(r,t,1,i)}}),Om(t,1)}};tm=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=Rt();En(e,t,134217728,n)}Om(t,134217728)}};WE=function(t){if(t.tag===13){var e=Br(t),n=ar(t,e);if(n!==null){var r=Rt();En(n,t,e,r)}Om(t,e)}};qE=function(){return ve};KE=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};If=function(t,e,n){switch(e){case"input":if(gf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kc(r);if(!i)throw Error(B(90));bE(r),gf(r,i)}}}break;case"textarea":CE(t,n);break;case"select":e=n.value,e!=null&&Us(t,!!n.multiple,e,!1)}};OE=Rm;LE=ji;var zR={usingClientEntryPoint:!1,Events:[nl,xs,Kc,xE,NE,Rm]},Go={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WR={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ME(t),t===null?null:t.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||BR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Hc=su.inject(WR),On=su}catch(t){}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(e))throw Error(B(200));return jR(t,e,null,n)};Yt.createRoot=function(t,e){if(!Dm(t))throw Error(B(299));var n=!1,r="",i=mT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nm(t,1,!1,null,null,n,!1,r,i),t[or]=e.current,Pa(t.nodeType===8?t.parentNode:t),new Lm(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=ME(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return ji(t)};Yt.hydrate=function(t,e,n){if(!nh(e))throw Error(B(200));return rh(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!Dm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pT(e,null,t,1,n!=null?n:null,i,!1,s,o),t[or]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new th(e)};Yt.render=function(t,e,n){if(!nh(e))throw Error(B(200));return rh(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!nh(t))throw Error(B(40));return t._reactRootContainer?(ji(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};Yt.unstable_batchedUpdates=Rm;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return rh(t,e,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function gT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gT)}catch(t){console.error(t)}}gT(),gE.exports=Yt;var Vm=gE.exports;const qR=Ja(Vm);var vT,By=Vm;vT=By.createRoot,By.hydrateRoot;const KR="modulepreload",GR=function(t){return"/"+t},Hy={},xn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=GR(a),a in Hy)return;Hy[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":KR,u||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error("Unable to preload CSS for ".concat(a))))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var _n={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},QR=Object.defineProperty,YR=(t,e)=>{for(var n in e)QR(t,n,{get:e[n],enumerable:!0})},XR={isBrowser:!0},yT=new WeakMap,ui=t=>yT.get(t),JR=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return yT.set(t,n)},zy=(t,e)=>e in t,il=(t,e)=>(0,console.error)(t,e),hc=new Map,ZR=[],eA="slot-fb{display:contents}slot-fb[hidden]{display:none}",Wy="http://www.w3.org/1999/xlink",sl=typeof window<"u"?window:{},Tn=sl.document||{head:{}},ci=sl.HTMLElement||class{},dt={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},tA=(()=>{let t=!1;try{Tn.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),nA=t=>Promise.resolve(t),rA=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),np=!1,rp=[],_T=[],wT=(t,e)=>n=>{t.push(n),np||(np=!0,e&&dt.$flags$&4?iA(ip):dt.raf(ip))},qy=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){il(n)}t.length=0},ip=()=>{qy(rp),qy(_T),(np=rp.length>0)&&dt.raf(ip)},iA=t=>nA().then(t),sp=wT(rp,!1),Mm=wT(_T,!0),sA=t=>{const e=new URL(t,dt.$resourcesUrl$);return e.origin!==sl.location.origin?e.href:e.pathname},Ky={},oA="http://www.w3.org/2000/svg",aA="http://www.w3.org/1999/xhtml",lA=t=>t!=null,$m=t=>(t=typeof t,t==="object"||t==="function");function uA(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var cA={};YR(cA,{err:()=>ET,map:()=>hA,ok:()=>op,unwrap:()=>dA,unwrapErr:()=>fA});var op=t=>({isOk:!0,isErr:!1,value:t}),ET=t=>({isOk:!1,isErr:!0,value:t});function hA(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>op(r)):op(n)}if(t.isErr){const n=t.value;return ET(n)}throw"should never get here"}var dA=t=>{if(t.isOk)return t.value;throw t.value},fA=t=>{if(t.isErr)return t.value;throw t.value},Bi=(t,e="")=>()=>{},Ce=(t,e,...n)=>{let r=null,i=null,s=null,o=!1,a=!1;const u=[],c=f=>{for(let m=0;m<f.length;m++)r=f[m],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((o=typeof t!="function"&&!$m(r))&&(r=String(r)),o&&a?u[u.length-1].$text$+=r:u.push(o?dc(null,r):r),a=o)};if(c(n),e){e.key&&(i=e.key),e.name&&(s=e.name);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(m=>f[m]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,u,mA);const h=dc(t,null);return h.$attrs$=e,u.length>0&&(h.$children$=u),h.$key$=i,h.$name$=s,h},dc=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Zi={},pA=t=>t&&t.$tag$===Zi,mA={forEach:(t,e)=>t.map(Gy).forEach(e),map:(t,e)=>t.map(Gy).map(e).map(gA)},Gy=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),gA=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Ce(t.vtag,n,...t.vchildren||[])}const e=dc(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},vA=t=>ZR.map(e=>e(t)).find(e=>!!e),yA=t=>ui(t).$modeName$,_A=(t,e)=>t!=null&&!$m(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,wA=t=>t,an=(t,e,n)=>{const r=wA(t);return{emit:i=>EA(r,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},EA=(t,e,n)=>{const r=dt.ce(e,n);return t.dispatchEvent(r),r},Qy=new WeakMap,TA=(t,e,n)=>{let r=hc.get(t);rA&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,hc.set(t,r)},IA=(t,e,n)=>{var r;const i=TT(e,n),s=hc.get(i);if(t=t.nodeType===11?t:Tn,s)if(typeof s=="string"){t=t.head||t;let o=Qy.get(t),a;if(o||Qy.set(t,o=new Set),!o.has(i)){{a=Tn.createElement("style"),a.innerHTML=s;const u=(r=dt.$nonce$)!=null?r:uA(Tn);u!=null&&a.setAttribute("nonce",u),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=eA),o&&o.add(i)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return i},bA=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=Bi("attachStyles",e.$tagName$),s=IA(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);r&10&&r&2&&(n["s-sc"]=s,n.classList.add(s+"-h"),r&2&&n.classList.add(s+"-s")),i()},TT=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),Yy=(t,e,n,r,i,s)=>{if(n!==r){let o=zy(t,e),a=e.toLowerCase();if(e==="class"){const u=t.classList,c=Xy(n),h=Xy(r);u.remove(...c.filter(f=>f&&!h.includes(f))),u.add(...h.filter(f=>f&&!c.includes(f)))}else if(e==="style"){for(const u in n)(!r||r[u]==null)&&(u.includes("-")?t.style.removeProperty(u):t.style[u]="");for(const u in r)(!n||r[u]!==n[u])&&(u.includes("-")?t.style.setProperty(u,r[u]):t.style[u]=r[u])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):zy(sl,a)?e=a.slice(2):e=a[2]+e.slice(3),n||r){const u=e.endsWith(IT);e=e.replace(CA,""),n&&dt.rel(t,e,n,u),r&&dt.ael(t,e,r,u)}}else{const u=$m(r);if((o||u&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const h=r==null?"":r;e==="list"?o=!1:(n==null||t[e]!=h)&&(t[e]=h)}}catch(h){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(Wy,e):t.removeAttribute(e)):(!o||s&4||i)&&!u&&(r=r===!0?"":r,c?t.setAttributeNS(Wy,e,r):t.setAttribute(e,r))}}},SA=/\s/,Xy=t=>t?t.split(SA):[],IT="Capture",CA=new RegExp(IT+"$"),bT=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||Ky,s=e.$attrs$||Ky;for(const o of Jy(Object.keys(i)))o in s||Yy(r,o,i[o],void 0,n,e.$flags$);for(const o of Jy(Object.keys(s)))Yy(r,o,i[o],s[o],n,e.$flags$)};function Jy(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var ws,ap,Ua,fc=!1,pc=!1,Um=!1,Wt=!1,mc=(t,e,n,r)=>{var i;const s=e.$children$[n];let o=0,a,u,c;if(fc||(Um=!0,s.$tag$==="slot"&&(ws&&r.classList.add(ws+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=Tn.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=Tn.createTextNode("");else{if(Wt||(Wt=s.$tag$==="svg"),a=s.$elm$=Tn.createElementNS(Wt?oA:aA,!fc&&_n.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),Wt&&s.$tag$==="foreignObject"&&(Wt=!1),bT(null,s,Wt),!!a.getRootNode().querySelector("body")&&_n.scoped&&lA(ws)&&a["s-si"]!==ws&&a.classList.add(a["s-si"]=ws),jm(a,r),s.$children$)for(o=0;o<s.$children$.length;++o)u=mc(t,s,o,a),u&&a.appendChild(u);s.$tag$==="svg"?Wt=!1:a.tagName==="foreignObject"&&(Wt=!0)}return a["s-hn"]=Ua,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=ap,a["s-sn"]=s.$name$||"",a["s-rf"]=(i=s.$attrs$)==null?void 0:i.ref,c=t&&t.$children$&&t.$children$[n],c&&c.$tag$===s.$tag$&&t.$elm$&&Fa(t.$elm$,!1)),a},Fa=(t,e)=>{dt.$flags$|=1;const n=Array.from(t.childNodes);t["s-sr"]&&_n.experimentalSlotFixes;for(let r=n.length-1;r>=0;r--){const i=n[r];i["s-hn"]!==Ua&&i["s-ol"]&&(zr(kT(i),i,Fm(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,Um=!0),e&&Fa(i,e)}dt.$flags$&=-2},ST=(t,e,n,r,i,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===Ua&&(o=o.shadowRoot);i<=s;++i)r[i]&&(a=mc(null,n,i,t),a&&(r[i].$elm$=a,zr(o,a,Fm(e))))},CT=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const s=i.$elm$;PT(i),s&&(pc=!0,s["s-ol"]?s["s-ol"].remove():Fa(s,!0),s.remove())}}},kA=(t,e,n,r,i=!1)=>{let s=0,o=0,a=0,u=0,c=e.length-1,h=e[0],f=e[c],m=r.length-1,g=r[0],I=r[m],R,P;for(;s<=c&&o<=m;)if(h==null)h=e[++s];else if(f==null)f=e[--c];else if(g==null)g=r[++o];else if(I==null)I=r[--m];else if(ou(h,g,i))Es(h,g,i),h=e[++s],g=r[++o];else if(ou(f,I,i))Es(f,I,i),f=e[--c],I=r[--m];else if(ou(h,I,i))(h.$tag$==="slot"||I.$tag$==="slot")&&Fa(h.$elm$.parentNode,!1),Es(h,I,i),zr(t,h.$elm$,f.$elm$.nextSibling),h=e[++s],I=r[--m];else if(ou(f,g,i))(h.$tag$==="slot"||I.$tag$==="slot")&&Fa(f.$elm$.parentNode,!1),Es(f,g,i),zr(t,f.$elm$,h.$elm$),f=e[--c],g=r[++o];else{for(a=-1,u=s;u<=c;++u)if(e[u]&&e[u].$key$!==null&&e[u].$key$===g.$key$){a=u;break}a>=0?(P=e[a],P.$tag$!==g.$tag$?R=mc(e&&e[o],n,a,t):(Es(P,g,i),e[a]=void 0,R=P.$elm$),g=r[++o]):(R=mc(e&&e[o],n,o,t),g=r[++o]),R&&zr(kT(h.$elm$),R,Fm(h.$elm$))}s>c?ST(t,r[m+1]==null?null:r[m+1].$elm$,n,r,o,m):o>m&&CT(e,s,c)},ou=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,Fm=t=>t&&t["s-ol"]||t,kT=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Es=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let u;a===null?(Wt=o==="svg"?!0:o==="foreignObject"?!1:Wt,o==="slot"&&!fc||bT(t,e,Wt),i!==null&&s!==null?kA(r,i,e,s,n):s!==null?(t.$text$!==null&&(r.textContent=""),ST(r,null,e,s,0,s.length-1)):!n&&_n.updatable&&i!==null&&CT(i,0,i.length-1),Wt&&o==="svg"&&(Wt=!1)):(u=r["s-cr"])?u.parentNode.textContent=a:t.$text$!==a&&(r.data=a)},RT=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const r=n["s-sn"];n.hidden=!1;for(const i of e)if(i!==n){if(i["s-hn"]!==n["s-hn"]||r!==""){if(i.nodeType===1&&(r===i.getAttribute("slot")||r===i["s-sn"])||i.nodeType===3&&r===i["s-sn"]){n.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){n.hidden=!0;break}}}RT(n)}},Qn=[],AT=t=>{let e,n,r;for(const i of t.childNodes){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const s=i["s-sn"];for(r=n.length-1;r>=0;r--)if(e=n[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"])if(Zy(e,s)){let o=Qn.find(a=>a.$nodeToRelocate$===e);pc=!0,e["s-sn"]=e["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],Qn.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&Qn.map(a=>{Zy(a.$nodeToRelocate$,e["s-sn"])&&(o=Qn.find(u=>u.$nodeToRelocate$===e),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else Qn.some(o=>o.$nodeToRelocate$===e)||Qn.push({$nodeToRelocate$:e})}i.nodeType===1&&AT(i)}},Zy=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",PT=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(PT)},zr=(t,e,n)=>{const r=t==null?void 0:t.insertBefore(e,n);return jm(e,t),r},xT=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...xT(t.parentElement)),e},jm=(t,e,n=!1)=>{var r;if(t&&e&&t.nodeType===1){const i=new Set(xT(e).filter(Boolean));if(i.size&&((r=t.classList)==null||r.add(...t["s-scs"]=[...i]),t["s-ol"]||n))for(const s of Array.from(t.childNodes))jm(s,t,!0)}},RA=(t,e,n=!1)=>{var r,i,s,o,a;const u=t.$hostElement$,c=t.$cmpMeta$,h=t.$vnode$||dc(null,null),f=pA(e)?e:Ce(null,null,e);if(Ua=u.tagName,c.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},c.$attrsToReflect$.map(([m,g])=>f.$attrs$[g]=u[m])),n&&f.$attrs$)for(const m of Object.keys(f.$attrs$))u.hasAttribute(m)&&!["key","ref","style","class"].includes(m)&&(f.$attrs$[m]=u[m]);f.$tag$=null,f.$flags$|=4,t.$vnode$=f,f.$elm$=h.$elm$=u.shadowRoot||u,ws=u["s-sc"],fc=(c.$flags$&1)!==0,ap=u["s-cr"],pc=!1,Es(h,f,n);{if(dt.$flags$|=1,Um){AT(f.$elm$);for(const m of Qn){const g=m.$nodeToRelocate$;if(!g["s-ol"]){const I=Tn.createTextNode("");I["s-nr"]=g,zr(g.parentNode,g["s-ol"]=I,g)}}for(const m of Qn){const g=m.$nodeToRelocate$,I=m.$slotRefNode$;if(I){const R=I.parentNode;let P=I.nextSibling;{let b=(r=g["s-ol"])==null?void 0:r.previousSibling;for(;b;){let w=(i=b["s-nr"])!=null?i:null;if(w&&w["s-sn"]===g["s-sn"]&&R===w.parentNode){for(w=w.nextSibling;w===g||w!=null&&w["s-sr"];)w=w==null?void 0:w.nextSibling;if(!w||!w["s-nr"]){P=w;break}}b=b.previousSibling}}(!P&&R!==g.parentNode||g.nextSibling!==P)&&g!==P&&(!g["s-hn"]&&g["s-ol"]&&(g["s-hn"]=g["s-ol"].parentNode.nodeName),zr(R,g,P),g.nodeType===1&&(g.hidden=(s=g["s-ih"])!=null?s:!1)),g&&typeof I["s-rf"]=="function"&&I["s-rf"](g)}else g.nodeType===1&&(n&&(g["s-ih"]=(o=g.hidden)!=null?o:!1),g.hidden=!0)}}pc&&RT(f.$elm$),dt.$flags$&=-2,Qn.length=0}if(_n.experimentalScopedSlotChanges&&c.$flags$&2)for(const m of f.$elm$.childNodes)m["s-hn"]!==Ua&&!m["s-sh"]&&(n&&m["s-ih"]==null&&(m["s-ih"]=(a=m.hidden)!=null?a:!1),m.hidden=!0);ap=void 0},AA=(t,e)=>{},Bm=(t,e)=>(t.$flags$|=16,AA(t,t.$ancestorComponent$),Mm(()=>PA(t,e))),PA=(t,e)=>{const n=t.$hostElement$,r=Bi("scheduleUpdate",t.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let s;return e?s=Ws(i,"componentWillLoad"):s=Ws(i,"componentWillUpdate"),s=e_(s,()=>Ws(i,"componentWillRender")),r(),e_(s,()=>NA(t,i,e))},e_=(t,e)=>xA(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),xA=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",NA=async(t,e,n)=>{const r=t.$hostElement$,i=Bi("update",t.$cmpMeta$.$tagName$);r["s-rc"],n&&bA(t);const s=Bi("render",t.$cmpMeta$.$tagName$);OA(t,e,r,n),s(),i(),LA(t)},t_=null,OA=(t,e,n,r)=>{try{t_=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(_n.hasRenderFn||_n.reflect)&&(_n.vdomRender||_n.reflect)&&(_n.hydrateServerSide||RA(t,e,r))}catch(u){il(u,t.$hostElement$)}return t_=null,null},LA=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=Bi("postUpdate",e),i=n;t.$ancestorComponent$,Ws(i,"componentDidRender"),t.$flags$&64?(Ws(i,"componentDidUpdate"),r()):(t.$flags$|=64,Ws(i,"componentDidLoad"),r())},n_=t=>{{const e=ui(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&Bm(e,!1),n}},Ws=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){il(r)}},DA=(t,e)=>ui(t).$instanceValues$.get(e),VA=(t,e,n,r)=>{const i=ui(t),s=t,o=i.$instanceValues$.get(e),a=i.$flags$,u=s;n=_A(n,r.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!c){i.$instanceValues$.set(e,n);{if(r.$watchers$&&a&128){const f=r.$watchers$[e];f&&f.map(m=>{try{u[m](n,o,e)}catch(g){il(g,s)}})}if((a&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,o,e)===!1)return;Bm(i,!1)}}}},MA=(t,e,n)=>{var r,i;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((r=e.$members$)!=null?r:{});o.map(([a,[u]])=>{(u&31||u&32)&&Object.defineProperty(s,a,{get(){return DA(this,a)},set(c){VA(this,a,c,e)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(u,c,h){dt.jmp(()=>{var f;const m=a.get(u);if(this.hasOwnProperty(m))h=this[m],delete this[m];else{if(s.hasOwnProperty(m)&&typeof this[m]=="number"&&this[m]==h)return;if(m==null){const g=ui(this),I=g==null?void 0:g.$flags$;if(I&&!(I&8)&&I&128&&h!==c){const P=this,b=(f=e.$watchers$)==null?void 0:f[u];b==null||b.forEach(w=>{P[w]!=null&&P[w].call(P,h,c,u)})}return}}this[m]=h===null&&typeof this[m]=="boolean"?!1:h})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([u,c])=>c[0]&15).map(([u,c])=>{var h;const f=c[1]||u;return a.set(f,u),c[0]&512&&((h=e.$attrsToReflect$)==null||h.push([u,f])),f})]))}}return t},$A=async(t,e,n,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{i=t.constructor;const o=t.localName;customElements.whenDefined(o).then(()=>e.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(e.$modeName$=vA(t),e.$modeName$&&(o=i.style[e.$modeName$]));const a=TT(n,e.$modeName$);if(!hc.has(a)){const u=Bi("registerStyles",n.$tagName$);TA(a,o,!!(n.$flags$&1)),u()}}}e.$ancestorComponent$,Bm(e,!0)},r_=t=>{},UA=t=>{if(!(dt.$flags$&1)){const e=ui(t),n=e.$cmpMeta$,r=Bi("connectedCallback",n.$tagName$);e.$flags$&1?(NT(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?r_(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>r_(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&FA(t),n.$members$&&Object.entries(n.$members$).map(([i,[s]])=>{if(s&31&&t.hasOwnProperty(i)){const o=t[i];delete t[i],t[i]=o}}),$A(t,e,n)),r()}},FA=t=>{const e=t["s-cr"]=Tn.createComment("");e["s-cn"]=!0,zr(t,e,t.firstChild)},jA=async t=>{if(!(dt.$flags$&1)){const e=ui(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},hi=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){JR(this,n)},connectedCallback(){const s=ui(this);NT(this,s,n.$listeners$),UA(this),r&&r.call(this)},disconnectedCallback(){jA(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(n.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),t.is=n.$tagName$,MA(t,n)},NT=(t,e,n,r)=>{n&&n.map(([i,s,o])=>{const a=HA(t,i),u=BA(e,o),c=zA(i);dt.ael(a,s,u,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>dt.rel(a,s,u,c))})},BA=(t,e)=>n=>{var r;try{_n.lazyLoad||t.$hostElement$[e](n)}catch(i){il(i)}},HA=(t,e)=>e&4?Tn:e&8?sl:e&16?Tn.body:t,zA=t=>tA?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ze=typeof window<"u"?window:void 0,Md=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let $d;const WA=t=>{if($d===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;$d=!e&&n?"-webkit-":""}return $d},Ud=(t,e,n)=>{const r=e.startsWith("animation")?WA(t):"";t.style.setProperty(r+e,n)},au=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},qA=t=>{let e,n,r,i,s,o,a=[],u=[],c=[],h=!1,f,m={},g=[],I=[],R={},P=0,b=!1,w=!1,T,O,V,M=!0,E=!1,v=!0,_,S=!1;const k=t,A=[],C=[],me=[],de=[],Ee=[],gt=[],z=[],H=[],j=[],Y=[],q=[],te=typeof AnimationEffect=="function"||ze!==void 0&&typeof ze.AnimationEffect=="function",oe=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&te,Te=()=>q,xe=D=>(Ee.forEach(G=>{G.destroy(D)}),Re(D),de.length=0,Ee.length=0,a.length=0,To(),h=!1,v=!0,_),Re=D=>{hs(),D&&Io()},dn=()=>{b=!1,w=!1,v=!0,T=void 0,O=void 0,V=void 0,P=0,E=!1,M=!0,S=!1},us=()=>P!==0&&!S,vi=(D,G)=>{const se=G.findIndex(Ne=>Ne.c===D);se>-1&&G.splice(se,1)},cs=(D,G)=>(me.push({c:D,o:G}),_),yi=(D,G)=>((G!=null&&G.oneTimeCallback?C:A).push({c:D,o:G}),_),To=()=>(A.length=0,C.length=0,_),hs=()=>{oe&&(q.forEach(D=>{D.cancel()}),q.length=0)},Io=()=>{gt.forEach(D=>{D!=null&&D.parentNode&&D.parentNode.removeChild(D)}),gt.length=0},_l=D=>(z.push(D),_),Gh=D=>(H.push(D),_),Qh=D=>(j.push(D),_),wl=D=>(Y.push(D),_),bo=D=>(u=au(u,D),_),El=D=>(c=au(c,D),_),Yh=(D={})=>(m=D,_),So=(D=[])=>{for(const G of D)m[G]="";return _},Co=D=>(g=au(g,D),_),Tl=D=>(I=au(I,D),_),Ye=(D={})=>(R=D,_),st=(D=[])=>{for(const G of D)R[G]="";return _},gr=()=>s!==void 0?s:f?f.getFill():"both",_i=()=>T!==void 0?T:o!==void 0?o:f?f.getDirection():"normal",ds=()=>b?"linear":r!==void 0?r:f?f.getEasing():"linear",vr=()=>w?0:O!==void 0?O:n!==void 0?n:f?f.getDuration():0,Bn=()=>i!==void 0?i:f?f.getIterations():1,fs=()=>V!==void 0?V:e!==void 0?e:f?f.getDelay():0,Il=()=>a,ko=D=>(o=D,Je(!0),_),Xh=D=>(s=D,Je(!0),_),Jh=D=>(e=D,Je(!0),_),Ro=D=>(r=D,Je(!0),_),bl=D=>(!oe&&D===0&&(D=1),n=D,Je(!0),_),Sl=D=>(i=D,Je(!0),_),wi=D=>(f=D,_),Ao=D=>{if(D!=null)if(D.nodeType===1)de.push(D);else if(D.length>=0)for(let G=0;G<D.length;G++)de.push(D[G]);else console.error("Invalid addElement value");return _},Po=D=>{if(D!=null)if(Array.isArray(D))for(const G of D)G.parent(_),Ee.push(G);else D.parent(_),Ee.push(D);return _},Hn=D=>{const G=a!==D;return a=D,G&&Cl(a),_},Cl=D=>{oe&&Te().forEach(G=>{const se=G.effect;if(se.setKeyframes)se.setKeyframes(D);else{const Ne=new KeyframeEffect(se.target,D,se.getTiming());G.effect=Ne}})},ps=()=>{z.forEach(Ne=>Ne()),H.forEach(Ne=>Ne());const D=u,G=c,se=m;de.forEach(Ne=>{const je=Ne.classList;D.forEach(Bt=>je.add(Bt)),G.forEach(Bt=>je.remove(Bt));for(const Bt in se)se.hasOwnProperty(Bt)&&Ud(Ne,Bt,se[Bt])})},kl=()=>{j.forEach(je=>je()),Y.forEach(je=>je());const D=M?1:0,G=g,se=I,Ne=R;de.forEach(je=>{const Bt=je.classList;G.forEach(fn=>Bt.add(fn)),se.forEach(fn=>Bt.remove(fn));for(const fn in Ne)Ne.hasOwnProperty(fn)&&Ud(je,fn,Ne[fn])}),O=void 0,T=void 0,V=void 0,A.forEach(je=>je.c(D,_)),C.forEach(je=>je.c(D,_)),C.length=0,v=!0,M&&(E=!0),M=!0},Cn=()=>{P!==0&&(P--,P===0&&(kl(),f&&f.animationFinish()))},Rl=()=>{de.forEach(D=>{const G=D.animate(a,{id:k,delay:fs(),duration:vr(),easing:ds(),iterations:Bn(),fill:gr(),direction:_i()});G.pause(),q.push(G)}),q.length>0&&(q[0].onfinish=()=>{Cn()})},Xe=()=>{ps(),a.length>0&&oe&&Rl(),h=!0},yr=D=>{D=Math.min(Math.max(D,0),.9999),oe&&q.forEach(G=>{G.currentTime=G.effect.getComputedTiming().delay+vr()*D,G.pause()})},_r=D=>{q.forEach(G=>{G.effect.updateTiming({delay:fs(),duration:vr(),easing:ds(),iterations:Bn(),fill:gr(),direction:_i()})}),D!==void 0&&yr(D)},Je=(D=!1,G=!0,se)=>(D&&Ee.forEach(Ne=>{Ne.update(D,G,se)}),oe&&_r(se),_),Zh=(D=!1,G)=>(Ee.forEach(se=>{se.progressStart(D,G)}),Al(),b=D,h||Xe(),Je(!1,!0,G),_),ed=D=>(Ee.forEach(G=>{G.progressStep(D)}),yr(D),_),wr=(D,G,se)=>(b=!1,Ee.forEach(Ne=>{Ne.progressEnd(D,G,se)}),se!==void 0&&(O=se),E=!1,M=!0,D===0?(T=_i()==="reverse"?"normal":"reverse",T==="reverse"&&(M=!1),oe?(Je(),yr(1-G)):(V=(1-G)*vr()*-1,Je(!1,!1))):D===1&&(oe?(Je(),yr(G)):(V=G*vr()*-1,Je(!1,!1))),D!==void 0&&!f&&Ei(),_),Al=()=>{h&&(oe?q.forEach(D=>{D.pause()}):de.forEach(D=>{Ud(D,"animation-play-state","paused")}),S=!0)},td=()=>(Ee.forEach(D=>{D.pause()}),Al(),_),ms=()=>{Cn()},Pl=()=>{q.forEach(D=>{D.play()}),(a.length===0||de.length===0)&&Cn()},xo=()=>{oe&&(yr(0),_r())},Ei=D=>new Promise(G=>{D!=null&&D.sync&&(w=!0,yi(()=>w=!1,{oneTimeCallback:!0})),h||Xe(),E&&(xo(),E=!1),v&&(P=Ee.length+1,v=!1);const se=()=>{vi(Ne,C),G()},Ne=()=>{vi(se,me),G()};yi(Ne,{oneTimeCallback:!0}),cs(se,{oneTimeCallback:!0}),Ee.forEach(je=>{je.play()}),oe?Pl():ms(),S=!1}),kn=()=>{Ee.forEach(D=>{D.stop()}),h&&(hs(),h=!1),dn(),me.forEach(D=>D.c(0,_)),me.length=0},No=(D,G)=>{const se=a[0];return se!==void 0&&(se.offset===void 0||se.offset===0)?se[D]=G:a=[{offset:0,[D]:G},...a],_};return _={parentAnimation:f,elements:de,childAnimations:Ee,id:k,animationFinish:Cn,from:No,to:(D,G)=>{const se=a[a.length-1];return se!==void 0&&(se.offset===void 0||se.offset===1)?se[D]=G:a=[...a,{offset:1,[D]:G}],_},fromTo:(D,G,se)=>No(D,G).to(D,se),parent:wi,play:Ei,pause:td,stop:kn,destroy:xe,keyframes:Hn,addAnimation:Po,addElement:Ao,update:Je,fill:Xh,direction:ko,iterations:Sl,duration:bl,easing:Ro,delay:Jh,getWebAnimations:Te,getKeyframes:Il,getFill:gr,getDirection:_i,getDelay:fs,getIterations:Bn,getEasing:ds,getDuration:vr,afterAddRead:Qh,afterAddWrite:wl,afterClearStyles:st,afterStyles:Ye,afterRemoveClass:Tl,afterAddClass:Co,beforeAddRead:_l,beforeAddWrite:Gh,beforeClearStyles:So,beforeStyles:Yh,beforeRemoveClass:El,beforeAddClass:bo,onFinish:yi,isRunning:us,progressStart:Zh,progressStep:ed,progressEnd:wr}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class KA{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return r!==void 0?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return r===void 0?n:typeof r=="string"?r==="true":!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?n!==void 0?n:NaN:r}set(e,n){this.m.set(e,n)}}const tt=new KA,GA=t=>QA(t),xi=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),GA(t).includes(e)),QA=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=YA(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},YA=t=>{const e=tt.get("platform");return Object.keys(i_).filter(n=>{const r=e==null?void 0:e[n];return typeof r=="function"?r(t):i_[n](t)})},XA=t=>ih(t)&&!LT(t),Hm=t=>!!(Hi(t,/iPad/i)||Hi(t,/Macintosh/i)&&ih(t)),JA=t=>Hi(t,/iPhone/i),ZA=t=>Hi(t,/iPhone|iPod/i)||Hm(t),OT=t=>Hi(t,/android|sink/i),eP=t=>OT(t)&&!Hi(t,/mobile/i),tP=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},nP=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return Hm(t)||eP(t)||r>460&&r<820&&i>780&&i<1400},ih=t=>oP(t,"(any-pointer:coarse)"),rP=t=>!ih(t),LT=t=>DT(t)||VT(t),DT=t=>!!(t.cordova||t.phonegap||t.PhoneGap),VT=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},iP=t=>Hi(t,/electron/i),sP=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},Hi=(t,e)=>e.test(t.navigator.userAgent),oP=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},i_={ipad:Hm,iphone:JA,ios:ZA,android:OT,phablet:tP,tablet:nP,cordova:DT,capacitor:VT,electron:iP,pwa:sP,mobile:ih,mobileweb:XA,desktop:rP,hybrid:LT};let aP;const ur=t=>t&&yA(t)||aP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const MT=(t,...e)=>console.warn("[Ionic Warning]: ".concat(t),...e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gc=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):UT(()=>e(t))},lp=t=>t.componentOnReady!==void 0,$T=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},lP=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],uP=(t,e)=>$T(t,lP),p4=(t,e,n,r)=>{var i;if(typeof window<"u"){const s=window,o=(i=s==null?void 0:s.Ionic)===null||i===void 0?void 0:i.config;if(o){const a=o.get("_ael");if(a)return a(t,e,n,r);if(o._ael)return o._ael(t,e,n,r)}}return t.addEventListener(e,n,r)},m4=(t,e,n,r)=>{var i;if(typeof window<"u"){const s=window,o=(i=s==null?void 0:s.Ionic)===null||i===void 0?void 0:i.config;if(o){const a=o.get("_rel");if(a)return a(t,e,n,r);if(o._rel)return o._rel(t,e,n,r)}}return t.removeEventListener(e,n,r)},UT=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),g4=(t,e,n)=>Math.max(t,Math.min(e,n)),xt=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},v4=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},FT=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!(r in e)||t[r]!==e[r])return!1;return!0},cP="ionViewWillEnter",hP="ionViewDidEnter",jT="ionViewWillLeave",BT="ionViewDidLeave",Fd="ionViewWillUnload",Qo=t=>{t.tabIndex=-1,t.focus()},lu=t=>t.offsetParent!==null,dP=()=>({saveViewFocus:n=>{if(tt.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&(n!=null&&n.contains(i))&&i.setAttribute(s_,"true")}},setViewFocus:n=>{const r=tt.get("focusManagerPriority",!1);if(Array.isArray(r)&&!n.contains(document.activeElement)){const i=n.querySelector("[".concat(s_,"]"));if(i&&lu(i)){Qo(i);return}for(const s of r)switch(s){case"content":const o=n.querySelector('main, [role="main"]');if(o&&lu(o)){Qo(o);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&lu(a)){Qo(a);return}break;case"banner":const u=n.querySelector('header, [role="banner"]');if(u&&lu(u)){Qo(u);return}break;default:MT("Unrecognized focus manager priority value ".concat(s));break}Qo(n)}}}),s_="ion-last-focus",fP=()=>xn(()=>import("./ios.transition-D8bBlc8Q.js"),[]),pP=()=>xn(()=>import("./md.transition-CcPhJumF.js"),[]),HT=dP(),zT=t=>new Promise((e,n)=>{Mm(()=>{mP(t),gP(t).then(r=>{r.animation&&r.animation.destroy(),o_(t),e(r)},r=>{o_(t),n(r)})})}),mP=t=>{const e=t.enteringEl,n=t.leavingEl;HT.saveViewFocus(n),TP(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),cp(e,!1),e.style.setProperty("pointer-events","none"),n&&(cp(n,!1),n.style.setProperty("pointer-events","none"))},gP=async t=>{const e=await vP(t);return e&&XR.isBrowser?yP(e,t):_P(t)},o_=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),HT.setViewFocus(e)},vP=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await fP()).iosTransitionAnimation:(await pP()).mdTransitionAnimation,yP=async(t,e)=>{await WT(e,!0);const n=t(e.baseEl,e);qT(e.enteringEl,e.leavingEl);const r=await EP(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&KT(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},_P=async t=>{const e=t.enteringEl,n=t.leavingEl,r=tt.get("focusManagerPriority",!1);return await WT(t,r),qT(e,n),KT(e,n),{hasCompleted:!0}},WT=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([up(t.enteringEl),up(t.leavingEl)]),await wP(t.viewIsReady,t.enteringEl)},wP=async(t,e)=>{t&&await t(e)},EP=(t,e)=>{const n=e.progressCallback,r=new Promise(i=>{t.onFinish(s=>i(s===1))});return n?(t.progressStart(!0),n(t)):t.play(),r},qT=(t,e)=>{Yn(e,jT),Yn(t,cP)},KT=(t,e)=>{Yn(t,hP),Yn(e,BT)},Yn=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},up=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>UT(r));return}await Promise.all(Array.from(e.children).map(up))}},cp=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},TP=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},y4=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vc=(t,e,n,r,i)=>bP(t[1],e[1],n[1],r[1],i).map(s=>IP(t[0],e[0],n[0],r[0],s)),IP=(t,e,n,r,i)=>{const s=3*e*Math.pow(i-1,2),o=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(s+i*o)-a},bP=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,CP(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(o=>o>=0&&o<=1)),SP=(t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},CP=(t,e,n,r)=>{if(t===0)return SP(e,n,r);e/=t,n/=t,r/=t;const i=(3*n-e*e)/3,s=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const o=Math.pow(s/2,2)+Math.pow(i/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(i/3),3)),u=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(i/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(u/3)-e/3,c*Math.cos((u+2*Math.PI)/3)-e/3,c*Math.cos((u+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kP=(t,e)=>e.closest(t)!==null,GT=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yc=()=>tt.get("experimentalCloseWatcher",!1)&&ze!==void 0&&"CloseWatcher"in ze,RP=()=>{document.addEventListener("backbutton",()=>{})},AP=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let r=0,i=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(u,c){i.push({priority:u,handler:c,id:r++})}}});t.dispatchEvent(s);const o=async u=>{try{if(u!=null&&u.handler){const c=u.handler(a);c!=null&&await c}}catch(c){console.error(c)}},a=()=>{if(i.length>0){let u={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(c=>{c.priority>=u.priority&&(u=c)}),e=!0,i=i.filter(c=>c.id!==u.id),o(u).then(()=>e=!1)}};a()};if(yc()){let r;const i=()=>{r==null||r.destroy(),r=new ze.CloseWatcher,r.onclose=()=>{n(),i()}};i()}else t.addEventListener("backbutton",n)},PP=100,xP=99,NP=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:xP,OVERLAY_BACK_BUTTON_PRIORITY:PP,blockHardwareBackButton:RP,shouldUseCloseWatcher:yc,startHardwareBackButton:AP},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QT=async(t,e,n,r,i,s)=>{var o;if(t)return t.attachViewToDom(e,n,i,r);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(n):n;return r&&r.forEach(u=>a.classList.add(u)),i&&Object.assign(a,i),e.appendChild(a),await new Promise(u=>gc(a,u)),a},OP=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()};function ft(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LP=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",DP=LP,VP=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(r=>{sp(()=>{const i=this.el.getBoundingClientRect(),s=i.width,o=i.height,a=Math.sqrt(s*s+o*o),u=Math.max(o,s),c=this.unbounded?u:a+$P,h=Math.floor(u*UP),f=c/h;let m=e-i.left,g=n-i.top;this.unbounded&&(m=s*.5,g=o*.5);const I=m-h*.5,R=g-h*.5,P=s*.5-m,b=o*.5-g;Mm(()=>{const w=document.createElement("div");w.classList.add("ripple-effect");const T=w.style;T.top=R+"px",T.left=I+"px",T.width=T.height=h+"px",T.setProperty("--final-scale","".concat(f)),T.setProperty("--translate-end","".concat(P,"px, ").concat(b,"px")),(this.el.shadowRoot||this.el).appendChild(w),setTimeout(()=>{r(()=>{MP(w)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=ur(this);return Ce(Zi,{key:"7ae559bda5d2c1856a45bfa150c2cb4f83373f8e",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return DP}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),MP=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},$P=10,UP=.5;function FP(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,VP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uu=typeof window<"u"?window:void 0;uu&&(uu.CSS&&uu.CSS.supports&&uu.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jP=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BP=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',HP=BP,zP=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=an(this,"ionScrollStart",7),this.ionScroll=an(this,"ionScroll",7),this.ionScrollEnd=an(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=uP(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,lp(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),lp(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=ur(this);return e===void 0?n==="ios"&&xi("ios"):e}resize(){this.fullscreen?sp(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,n_(this))}readDimensions(){const e=qP(this.el),n=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||r!==this.cBottom)&&(this.cTop=n,this.cBottom=r,n_(this))}onScroll(e){const n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,sp(i=>{this.queued=!1,this.detail.event=e,KP(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>gc(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>gc(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),r=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,n,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r)}async scrollToPoint(e,n,r=0){const i=await this.getScrollElement();if(r<32){n!=null&&(i.scrollTop=n),e!=null&&(i.scrollLeft=e);return}let s,o=0;const a=new Promise(g=>s=g),u=i.scrollTop,c=i.scrollLeft,h=n!=null?n-u:0,f=e!=null?e-c:0,m=g=>{const I=Math.min(1,(g-o)/r)-1,R=Math.pow(I,3)+1;h!==0&&(i.scrollTop=Math.floor(R*h+u)),f!==0&&(i.scrollLeft=Math.floor(R*f+c)),R<1?requestAnimationFrame(m):s()};return requestAnimationFrame(g=>{o=g,m(g)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:r,scrollX:i,scrollY:s,el:o}=this,a=jP(o)?"rtl":"ltr",u=ur(this),c=this.shouldForceOverscroll(),h=u==="ios";return this.resize(),Ce(Zi,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:GT(this.color,{[u]:!0,"content-sizing":kP("ion-popover",this.el),overscroll:c,["content-".concat(a)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},n),Ce("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:f=>this.backgroundContentEl=f,id:"background-content",part:"background"}),e==="before"?Ce("slot",{name:"fixed"}):null,Ce("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":s,overscroll:(i||s)&&c},ref:f=>this.scrollEl=f,onScroll:this.scrollEvents?f=>this.onScroll(f):void 0,part:"scroll"},Ce("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),h?Ce("div",{class:"transition-effect"},Ce("div",{class:"transition-cover"}),Ce("div",{class:"transition-shadow"})):null,e==="after"?Ce("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return HP}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),WP=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},qP=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||WP(t)},KP=(t,e,n,r)=>{const i=t.currentX,s=t.currentY,o=t.currentTime,a=e.scrollLeft,u=e.scrollTop,c=n-o;if(r&&(t.startTime=n,t.startX=a,t.startY=u,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=u,t.deltaX=a-t.startX,t.deltaY=u-t.startY,c>0&&c<100){const h=(a-i)/c,f=(u-s)/c;t.velocityX=h*.7+t.velocityX*.3,t.velocityY=f*.7+t.velocityY*.3}};function GP(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,zP);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QP=GP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YP=()=>{if(ze!==void 0)return ze.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XP=()=>{let t;return{lock:async()=>{const n=t;let r;return t=new Promise(i=>r=i),n!==void 0&&await n,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var hp;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(hp||(hp={}));var dp;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(dp||(dp={}));const JP={getEngine(){const t=YP();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==hp.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YT=t=>{if(Md===void 0||t===dp.None||t===void 0)return null;const e=Md.querySelector("ion-app");return e!=null?e:Md.body},a_=t=>{const e=YT(t);return e===null?0:e.clientHeight},ZP=async t=>{let e,n,r,i;const s=async()=>{const h=await JP.getResizeMode(),f=h===void 0?void 0:h.mode;e=()=>{i===void 0&&(i=a_(f)),r=!0,o(r,f)},n=()=>{r=!1,o(r,f)},ze==null||ze.addEventListener("keyboardWillShow",e),ze==null||ze.addEventListener("keyboardWillHide",n)},o=(h,f)=>{t&&t(h,a(f))},a=h=>{if(i===0||i===a_(h))return;const f=YT(h);if(f!==null)return new Promise(m=>{const g=()=>{f.clientHeight===i&&(I.disconnect(),m())},I=new ResizeObserver(g);I.observe(f)})},u=()=>{ze==null||ze.removeEventListener("keyboardWillShow",e),ze==null||ze.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>r;return await s(),{init:s,destroy:u,isKeyboardVisible:c}},XT=1,JT=2,_c=3;class fp{constructor(e,n){this.component=e,this.params=n,this.state=XT}async init(e){if(this.state=JT,!this.element){const n=this.component;this.element=await QT(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){xt(this.state!==_c,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=_c}}const l_=(t,e,n)=>!t||t.component!==e?!1:FT(t.params,n),u_=(t,e)=>t?t instanceof fp?t:new fp(t,e):null,e1=t=>t.map(e=>e instanceof fp?e:"component"in e?u_(e.component,e.componentProps===null?void 0:e.componentProps):u_(e,void 0)).filter(e=>e!==null),t1=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",n1=t1,r1=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=an(this,"ionNavWillLoad",7),this.ionNavWillChange=an(this,"ionNavWillChange",3),this.ionNavDidChange=an(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=ur(this);this.swipeGesture=tt.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await xn(()=>import("./swipe-back-GLFqQalP.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Yn(e.element,Fd),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,r,i){return this.insert(-1,e,n,r,i)}insert(e,n,r,i,s){return this.insertPages(e,[{component:n,componentProps:r}],i,s)}insertPages(e,n,r,i){return this.queueTrns({insertStart:e,insertViews:n,opts:r},i)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,r){const i={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,r,i){return this.queueTrns({removeStart:e,removeCount:n,opts:r},i)}setRoot(e,n,r,i){return this.setPages([{component:e,componentProps:n}],r,i)}setPages(e,n,r){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},r)}setRouteId(e,n,r,i){const s=this.getActiveSync();if(l_(s,e,n))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(h=>o=h);let u;const c={updateURL:!1,viewIsReady:h=>{let f;const m=new Promise(g=>f=g);return o({changed:!0,element:h,markVisible:async()=>{f(),await u}}),m}};if(r==="root")u=this.setRoot(e,n,c);else{const h=this.views.find(f=>l_(f,e,n));h?u=this.popTo(h,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i})):r==="forward"?u=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:i})):r==="back"&&(u=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:i})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,r=n.indexOf(e);return r>0?n[r-1]:void 0}async queueTrns(e,n){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),r=this.getEnteringView(e,n);if(!n&&!r)throw new Error("no views in the stack to be removed");r&&r.state===XT&&await r.init(this.el),this.postViewInit(r,n,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n;i&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(r==null?void 0:r.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let s;i?s=await this.transition(r,n,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,r,i;const s=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){xt(e.removeStart!==void 0,"removeView needs removeStart"),xt(e.removeCount!==void 0,"removeView needs removeCount");const u=this.views.indexOf(e.removeView);if(u<0)throw new Error("removeView was not found");e.removeStart+=u}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;xt(o.length>0,"length can not be zero");const a=e1(o);if(a.length===0)throw new Error("invalid views to insert");for(const u of a){u.delegate=e.opts.delegate;const c=u.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(u.state===_c)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const s=this.views,o=i+e.removeCount;for(let a=s.length-1;a>=0;a--){const u=s[a];if((a<i||a>=o)&&u!==n)return u}}}postViewInit(e,n,r){var i,s,o;xt(n||e,"Both leavingView and enteringView are null"),xt(r.resolve,"resolve must be valid"),xt(r.reject,"reject must be valid");const a=r.opts,{insertViews:u,removeStart:c,removeCount:h}=r;let f;if(c!==void 0&&h!==void 0){xt(c>=0,"removeStart can not be negative"),xt(h>=0,"removeCount can not be negative"),f=[];for(let g=c;g<c+h;g++){const I=this.views[g];I!==void 0&&I!==e&&I!==n&&f.push(I)}(i=a.direction)!==null&&i!==void 0||(a.direction="back")}const m=this.views.length+((s=u==null?void 0:u.length)!==null&&s!==void 0?s:0)-(h!=null?h:0);if(xt(m>=0,"final balance can not be negative"),m===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(u){let g=r.insertStart;for(const I of u)this.insertViewAt(I,g),g++;r.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(f&&f.length>0){for(const g of f)Yn(g.element,jT),Yn(g.element,BT),Yn(g.element,Fd);for(const g of f)this.destroyView(g)}}async transition(e,n,r){const i=r.opts,s=i.progressAnimation?f=>{f!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,f.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),f.progressEnd(0,0,0)):this.sbAni=f}:void 0,o=ur(this),a=e.element,u=n&&n.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&tt.getBoolean("animated",!0),enteringEl:a,leavingEl:u},i),{animationBuilder:i.animationBuilder||this.animation||tt.get("navAnimation")}),{hasCompleted:h}=await zT(c);return this.transitionFinish(h,e,n,i)}transitionFinish(e,n,r,i){const s=e?n:r;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:r,direction:i.direction}}insertViewAt(e,n){const r=this.views,i=r.indexOf(e);i>-1?(xt(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(n,0,e)):(xt(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))}removeView(e){xt(e.state===JT||e.state===_c,"view state should be loaded or destroyed");const n=this.views,r=n.indexOf(e);xt(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,r=n.indexOf(e);for(let i=n.length-1;i>=0;i--){const s=n[i],o=s.element;o&&(i>r?(Yn(o,Fd),this.destroyView(s)):i<r&&cp(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=vc([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=vc([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return Ce("slot",{key:"dfe98cb6604a2015a49f41beffebdd2da957dfff"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return n1}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function i1(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,r1);break}})}const s1=i1,o1="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",a1=o1,l1=hi(class extends ci{constructor(){super(),this.__registerHost()}componentDidLoad(){c1(async()=>{const e=xi(window,"hybrid");if(tt.getBoolean("_testing")||xn(()=>import("./index9-BuRvZQQD.js"),[]).then(i=>i.startTapClick(tt)),tt.getBoolean("statusTap",e)&&xn(()=>import("./status-tap-CLrnqrD7.js"),__vite__mapDeps([0,1])).then(i=>i.startStatusTap()),tt.getBoolean("inputShims",u1())){const i=xi(window,"ios")?"ios":"android";xn(()=>import("./input-shims-C1vdW3Tp.js"),__vite__mapDeps([2,1])).then(s=>s.startInputShims(tt,i))}const n=await xn(()=>Promise.resolve().then(()=>NP),void 0),r=e||yc();tt.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(yc()&&MT("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&xn(()=>import("./keyboard2-B0sqivk-.js"),[]).then(i=>i.startKeyboardAssist(window)),xn(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=ur(this);return Ce(Zi,{key:"96715520fd05d6f0e6fa26a8ba78792cfccd4c0a",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":tt.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return a1}},[0,"ion-app",{setFocus:[64]}]),u1=()=>!!(xi(window,"ios")&&xi(window,"mobile")||xi(window,"android")&&xi(window,"mobileweb")),c1=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function h1(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,l1);break}})}const d1=h1,f1=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",p1=f1,m1=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=an(this,"ionNavWillLoad",7),this.ionNavWillChange=an(this,"ionNavWillChange",3),this.ionNavDidChange=an(this,"ionNavDidChange",3),this.lockController=XP(),this.gestureOrAnimationInProgress=!1,this.mode=ur(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await xn(()=>import("./swipe-back-GLFqQalP.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(n)},(n,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=vc([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=vc([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(n?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,r){const i=await this.lockController.lock();let s=!1;try{s=await this.transition(e,n,r)}catch(o){console.error(o)}return i(),s}async setRouteId(e,n,r,i){return{changed:await this.setRoot(e,n,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,r){if(this.activeComponent===e&&FT(n,this.activeParams))return!1;const i=this.activeEl,s=await QT(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=s,this.activeParams=n,await this.commit(s,i,r),await OP(this.delegate,i),!0}async transition(e,n,r={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:s}=this,o=this.animated&&tt.getBoolean("animated",!0),a=r.animationBuilder||this.animation||tt.get("navAnimation");return await zT(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:n,baseEl:i,deepWait:lp(i),progressCallback:r.progressAnimation?u=>{u!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,u.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),u.progressEnd(0,0,0)):this.ani=u}:void 0},r),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return Ce("slot",{key:"a70341f58d19df55de1dad00e3464388e446aa2a"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return p1}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function g1(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,m1);break}})}const v1=g1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const y1=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",_1=y1,w1=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",E1=w1,T1=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=an(this,"ionTabBarChanged",7),this.ionTabBarLoaded=an(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await ZP(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:r}=this,i=ur(this),s=r&&this.el.getAttribute("slot")!=="top";return Ce(Zi,{key:"a87fd2ea5df053705a37ea7ffec043e75c4a9907",role:"tablist","aria-hidden":s?"true":null,class:GT(e,{[i]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},Ce("slot",{key:"81a6223299b6cab29d7ddced590e9152e2b3ded0"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:_1,md:E1}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function I1(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,T1);break}})}const b1=I1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const S1=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',C1=S1,k1=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',R1=k1,A1=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=an(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},$T(this.el,["aria-label"])),this.layout===void 0&&(this.layout=tt.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:r,href:i,rel:s,target:o,layout:a,selected:u,tab:c,inheritedAttributes:h}=this,f=ur(this),m={download:this.download,href:i,rel:s,target:o};return Ce(Zi,{key:"5976c45943ea7ea8e7c1a85fc9996de421439f08",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[f]:!0,"tab-selected":u,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":n,"tab-has-label-only":r&&!n,"tab-has-icon-only":n&&!r,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Ce("a",Object.assign({key:"1db09d861b67ff292018fb4b0dc7b85bd4677eb8"},m,{class:"button-native",part:"native",role:"tab","aria-selected":u?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},h),Ce("span",{key:"4381eafcb27e8c7bb0d86d4f115ceb0caf03b9b4",class:"button-inner"},Ce("slot",{key:"1981135f6fbb88376c1bd923c55c70fe8b5c5159"})),f==="md"&&Ce("ion-ripple-effect",{key:"0509bc7155d055d1ed710600e9cf4df135881491",type:"unbounded"})))}get el(){return this}static get style(){return{ios:C1,md:R1}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function P1(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,A1);break;case"ion-ripple-effect":customElements.get(e)||FP();break}})}const x1=P1;let jd;const N1=()=>{if(typeof window>"u")return new Map;if(!jd){const t=window;t.Ionicons=t.Ionicons||{},jd=t.Ionicons.map=t.Ionicons.map||new Map}return jd},O1=t=>{let e=Bd(t.src);return e||(e=ZT(t.name,t.icon,t.mode,t.ios,t.md),e?L1(e,t):t.icon&&(e=Bd(t.icon),e||(e=Bd(t.icon[t.mode]),e))?e:null)},L1=(t,e)=>{const n=N1().get(t);if(n)return n;try{return sA("svg/".concat(t,".svg"))}catch(r){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},ZT=(t,e,n,r,i)=>(n=(n&&cu(n))==="ios"?"ios":"md",r&&n==="ios"?t=cu(r):i&&n==="md"?t=cu(i):(!t&&e&&!eI(e)&&(t=e),wc(t)&&(t=cu(t))),!wc(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Bd=t=>wc(t)&&(t=t.trim(),eI(t))?t:null,eI=t=>t.length>0&&/(\/|\.)/.test(t),wc=t=>typeof t=="string",cu=t=>t.toLowerCase(),D1=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},V1=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",M1=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),tI(n))return e.innerHTML}return""},tI=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(wc(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!tI(t.childNodes[e]))return!1}return!0},$1=t=>t.startsWith("data:image/svg+xml"),U1=t=>t.indexOf(";utf8,")!==-1,Ni=new Map,c_=new Map;let Hd;const F1=(t,e)=>{let n=c_.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if($1(t)&&U1(t)){Hd||(Hd=new DOMParser);const i=Hd.parseFromString(t,"text/html").querySelector("svg");return i&&Ni.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=M1(i)),Ni.set(t,i||"")});Ni.set(t,"")}),c_.set(t,n);else return Ni.set(t,""),Promise.resolve();return n},j1=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",B1=hi(class extends ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=H1(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=D1(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=O1(this);e&&(Ni.has(e)?this.svgContent=Ni.get(e):F1(e,this.sanitize).then(()=>this.svgContent=Ni.get(e)),this.didLoadIcon=!0)}this.iconName=ZT(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Ce(Zi,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},z1(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&V1(i)})},r),this.svgContent?Ce("div",{class:"icon-inner",innerHTML:this.svgContent}):Ce("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return j1}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),H1=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",z1=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function W1(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,B1);break}})}const q1=W1,zm=$.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),K1=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(r=>r.id===t.id);n.length!==0&&(n.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},di=$.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),G1=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),nI=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),Q1=(t,e,n={})=>{if(t instanceof Element){const r=Y1(t.classList,e,n);r!==""&&(t.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const s=i.substring(2),o=s[0].toLowerCase()+s.substring(1);rI(o)||J1(t,o,e[i])}else t[i]=e[i],typeof e[i]==="string"&&t.setAttribute(nI(i),e[i])})}},Y1=(t,e,n)=>{const r=e.className||e.class,i=n.className||n.class,s=zd(t),o=zd(r?r.split(" "):[]),a=zd(i?i.split(" "):[]),u=[];return s.forEach(c=>{o.has(c)?(u.push(c),o.delete(c)):a.has(c)||u.push(c)}),o.forEach(c=>u.push(c)),u.join(" ")},X1=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const rI=t=>{if(typeof document>"u")return!0;{const e="on"+X1(t);let n=e in document;if(!n){const r=document.createElement("div");r.setAttribute(e,"return;"),n=typeof r[e]=="function"}return n}},J1=(t,e,n)=>{const r=t.__events||(t.__events={}),i=r[e];i&&t.removeEventListener(e,i),t.addEventListener(e,r[e]=function(o){n&&n.call(this,o)})},zd=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},Z1=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},iI=(...t)=>e=>{t.forEach(n=>{Z1(n,e)})},ex=(t,e)=>{const n=(r,i)=>$.createElement(t,Object.assign({},r,{forwardedRef:i}));return n.displayName=e,$.forwardRef(n)},es=(t,e,n,r)=>{r!==void 0&&r();const i=G1(t),s=class extends $.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){Q1(this.componentEl,this.props,o)}render(){const o=this.props,{children:a,forwardedRef:u,style:c,className:h,ref:f}=o,m=ft(o,["children","forwardedRef","style","className","ref"]);let g=Object.keys(m).reduce((R,P)=>{const b=m[P];if(P.indexOf("on")===0&&P[2]===P[2].toUpperCase()){const w=P.substring(2).toLowerCase();typeof document<"u"&&rI(w)&&(R[P]=b)}else{const w=typeof b;(w==="string"||w==="boolean"||w==="number")&&(R[nI(P)]=b)}return R},{});const I=Object.assign(Object.assign({},g),{ref:iI(u,this.setComponentElRef),style:c});return J.createElement(t,I,a)}static get displayName(){return i}};return ex(s,i)},ts=es("ion-content",void 0,void 0,QP),ol=(t,e)=>{const n=(r,i)=>$.createElement(t,Object.assign({},r,{forwardedRef:i}));return n.displayName=e,$.forwardRef(n)},Wm=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},tx=$.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),nx=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,r]=J.useState({}),i=J.useRef({});J.useEffect(()=>{t(s),e(o)},[]);const s=(u,c,h)=>{const f=Object.assign({},i.current);f[u]={component:c,containerElement:h},i.current=f,r(f)},o=u=>{const c=Object.assign({},i.current);delete c[u],i.current=c,r(c)},a=Object.keys(n);return $.createElement($.Fragment,null,a.map(u=>{const c=n[u];return qR.createPortal(c.component,c.containerElement,"overlay-".concat(u))}))},rx=es("ion-tab-button",void 0,void 0,x1),ix=es("ion-tab-bar",void 0,void 0,b1),pp=es("ion-router-outlet",void 0,void 0,v1),sx=es("ion-app",void 0,void 0,d1),ox=es("ion-icon",void 0,void 0,q1),ax=class extends $.Component{constructor(t){super(t),this.ionContext={addOverlay:(e,n,r)=>{this.addOverlayCallback&&this.addOverlayCallback(e,n,r)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return $.createElement(tx.Provider,{value:this.ionContext},$.createElement(sx,Object.assign({},this.props),this.props.children),$.createElement(nx,{onAddOverlay:t=>{this.addOverlayCallback=t},onRemoveOverlay:t=>{this.removeOverlayCallback=t}}))}static get displayName(){return"IonApp"}},qm=$.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class sI extends $.PureComponent{constructor(e){super(e),this.ionPageElementRef=$.createRef(),this.stableMergedRefs=iI(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:r,routeInfo:i,forwardedRef:s}=e,o=ft(e,["className","children","routeInfo","forwardedRef"]);return $.createElement(zm.Consumer,null,a=>(this.ionLifeCycleContext=a,$.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:this.stableMergedRefs},o),r)))}static get contextType(){return qm}}class lx extends $.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:r,forwardedRef:i}=e,s=ft(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?$.createElement(sI,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:i},s),r):$.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:i},s),r)}static get displayName(){return"IonPage"}static get contextType(){return di}}const ns=ol(lx,"IonPage"),h_={main:0},ja=(t="main")=>{var e;const n=((e=h_[t])!==null&&e!==void 0?e:0)+1;return h_[t]=n,n.toString()},ux=(t,e)=>{const n=new WeakMap,r="react-delegate-".concat(ja());let i=0;return{attachViewToDom:async(a,u,c,h)=>{const f=document.createElement("div");h&&f.classList.add(...h),a.appendChild(f);const m=u(c),g="".concat(r,"-").concat(i++),I=Vm.createPortal(m,f,g);return n.set(f,I),t(I),Promise.resolve(f)},removeViewFromDom:(a,u)=>{const c=n.get(u);return c&&e(c),u.remove(),Promise.resolve()}}},cx=es("ion-nav",void 0,void 0,s1),hx=t=>{var{children:e,forwardedRef:n}=t,r=ft(t,["children","forwardedRef"]);const[i,s]=J.useState([]),o=c=>s(h=>[...h,c]),a=c=>s(h=>h.filter(f=>f!==c)),u=J.useMemo(()=>ux(o,a),[]);return $.createElement(cx,Object.assign({delegate:u,ref:n},r),i)};ol(hx,"IonNav");const dx=$.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:$.createRef()}}),fx=typeof HTMLElement<"u"?HTMLElement:class{};class px extends $.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||gc(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:r,routeInfo:i}=e,s=ft(e,["StackManager","children","routeInfo"]);return $.createElement(zm.Consumer,null,o=>(this.ionLifeCycleContext=o,$.createElement(n,{routeInfo:i},$.createElement(pp,Object.assign({setRef:a=>this.ionRouterOutlet=a},s),r))))}static get contextType(){return qm}}class mx extends $.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:r,forwardedRef:i}=n,s=ft(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?s.ionPage?$.createElement(px,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},s),r):$.createElement(e,{routeInfo:this.context.routeInfo},$.createElement(pp,Object.assign({},s,{forwardedRef:i}),r)):$.createElement(pp,Object.assign({ref:i},this.props),this.props.children)}static get contextType(){return di}}const gx=ol(mx,"IonRouterOutlet");class vx extends fx{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",vx));const Wd=class extends $.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=ft(t,["onClick"]);return $.createElement(rx,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}};class yx extends $.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const n={};$.Children.forEach(e.children,r=>{var i,s,o,a;r!=null&&typeof r=="object"&&r.props&&(r.type===Wd||r.type.isTabButton)&&(n[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)?(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions:void 0,currentRouteOptions:r.props.href===((o=e.routeInfo)===null||o===void 0?void 0:o.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const s=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(s)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var r,i,s;const o=Object.assign({},n.tabs),u=Object.keys(n.tabs).find(h=>{const f=n.tabs[h].originalHref;return e.routeInfo.pathname.startsWith(f)});$.Children.forEach(e.children,h=>{if(h!=null&&typeof h=="object"&&h.props&&(h.type===Wd||h.type.isTabButton)){const f=o[h.props.tab];(!f||f.originalHref!==h.props.href)&&(o[h.props.tab]={originalHref:h.props.href,currentHref:h.props.href,originalRouteOptions:h.props.routeOptions,currentRouteOptions:h.props.routeOptions})}});const{activeTab:c}=n;if(u&&c){const h=n.tabs[c].currentHref,f=n.tabs[c].currentRouteOptions;(u!==c||h!==((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)||f!==((i=e.routeInfo)===null||i===void 0?void 0:i.routeOptions))&&(o[u]={originalHref:o[u].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[u].originalRouteOptions,currentRouteOptions:(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions},e.routeInfo.routeAction==="pop"&&u!==c&&(o[c]={originalHref:o[c].originalHref,currentHref:o[c].originalHref,originalRouteOptions:o[c].originalRouteOptions,currentRouteOptions:o[c].currentRouteOptions}))}return u&&e.onSetCurrentTab(u,e.routeInfo),{activeTab:u,tabs:o}}onTabButtonClick(e,n){var r;const i=this.state.tabs[e.detail.tab],s=i.originalHref,o=(r=this.props.tabsContext)===null||r===void 0?void 0:r.hasRouterOutlet,a=o?e.detail.href:"",{activeTab:u}=this.state;n&&n(e),u===e.detail.tab?s!==a&&this.context.resetTab(e.detail.tab,s,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),o&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,a,e.detail.routeOptions)))}renderTabButton(e){return n=>{var r,i;if(n!=null&&n.props&&(n.type===Wd||n.type.isTabButton)){const s=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.pathname:this.state.tabs[n.props.tab].currentHref,o=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return $.cloneElement(n,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return $.createElement(ix,Object.assign({},this.props,{selectedTab:e}),$.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return di}}const _x=$.memo(t=>{var{forwardedRef:e}=t,n=ft(t,["forwardedRef"]);const r=J.useContext(di),i=J.useContext(dx),s=e||i.tabBarProps.ref,o=Object.assign(Object.assign({},i.tabBarProps),{ref:s});return $.createElement(yx,Object.assign({ref:s},n,{routeInfo:n.routeInfo||r.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:r.setCurrentTab,tabsContext:Object.assign(Object.assign({},i),{tabBarProps:o})}),n.children)});ol(_x,"IonTabBar");class wx extends $.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const r=this.props,{icon:i,ios:s,md:o,mode:a}=r,u=ft(r,["icon","ios","md","mode"]);let c;const h=Wm(),f=a||(h==null?void 0:h.get("mode"));return s||o?f==="ios"?c=(e=s!=null?s:o)!==null&&e!==void 0?e:i:c=(n=o!=null?o:s)!==null&&n!==void 0?n:i:c=i,$.createElement(ox,Object.assign({ref:this.props.forwardedRef,icon:c},u),this.props.children)}static get contextType(){return di}}ol(wx,"IonIcon");class Km extends $.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!Km?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):$.createElement(e,Object.assign({},this.props))}static get contextType(){return di}}class oI extends $.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!oI?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):$.createElement(e,Object.assign({},this.props))}static get contextType(){return di}}const Ex=$.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class k4 extends $.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=qA(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),d_(n,e),f_(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,r=this.props;d_(n,r,e),Tx(n,r,e),f_(n,r,e)}render(){const{children:e}=this.props;return $.createElement($.Fragment,null,$.Children.map(e,(n,r)=>$.cloneElement(n,{ref:i=>this.nodes.set(r,i)})))}}const d_=(t,e={},n={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const u in e)e.hasOwnProperty(u)&&!r.includes(u)&&e[u]!==n[u]&&t[u](e[u]);const i=e.from;i&&i!==n.from&&(Array.isArray(i)?i:[i]).forEach(c=>t.from(c.property,c.value));const s=e.to;s&&s!==n.to&&(Array.isArray(s)?s:[s]).forEach(c=>t.to(c.property,c.value));const o=e.fromTo;o&&o!==n.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},Tx=(t,e={},n={})=>{var r,i,s,o,a;const{progressStart:u,progressStep:c,progressEnd:h}=e;u&&(((r=n.progressStart)===null||r===void 0?void 0:r.forceLinearEasing)!==(u==null?void 0:u.forceLinearEasing)||((i=n.progressStart)===null||i===void 0?void 0:i.step)!==(u==null?void 0:u.step))&&t.progressStart(u.forceLinearEasing,u.step),c&&((s=n.progressStep)===null||s===void 0?void 0:s.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),h&&(((o=n.progressEnd)===null||o===void 0?void 0:o.playTo)!==(h==null?void 0:h.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(h==null?void 0:h.step)||(n==null?void 0:n.dur)!==(h==null?void 0:h.dur))&&t.progressEnd(h.playTo,h.step,h.dur)},f_=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},aI=$.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class p_ extends $.Component{constructor(e){super(e),this.ionLifeCycleContext=new K1,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return $.createElement(zm.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class Ix{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(r=>{this.locationHistory=this.locationHistory.filter(i=>i.id!==r.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(i=>i.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const r=this.tabHistory[e.tab||""];if(r){const i=r.findIndex(s=>s.id===e.id);i>-1?r.splice(i,1,e):r.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let r=n.length-2;r>=0;r--){const i=n[r];if(i&&i.pathname===e.pushedByRoute)return i}for(let r=this.locationHistory.length-2;r>=0;r--){const i=this.locationHistory[r];if(i&&i.pathname===e.pushedByRoute)return i}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class bx extends $.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,r,i,s,o)=>{this.navigate(n,r,i,o,s)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",r="push",i,s,o){this.props.onNavigate(e,r,n,i,s,o)}getPageManager(){return sI}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return $.createElement(di.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},$.createElement(Ex.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class Sx{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,r=this.viewStacks[n];if(r){const i=r.find(s=>s.id===e.id);i&&(i.mount=!1,this.viewStacks[n]=r.filter(s=>s.id!==i.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(r=>{n.push(...this.viewStacks[r])}),n}}function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(null,arguments)}function hu(t){return t.charAt(0)==="/"}function qd(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Cx(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&hu(t),s=e&&hu(e),o=i||s;if(t&&hu(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var u=r[r.length-1];a=u==="."||u===".."||u===""}else a=!1;for(var c=0,h=r.length;h>=0;h--){var f=r[h];f==="."?qd(r,h):f===".."?(qd(r,h),c++):c&&(qd(r,h),c--)}if(!o)for(;c--;c)r.unshift("..");o&&r[0]!==""&&(!r[0]||!hu(r[0]))&&r.unshift("");var m=r.join("/");return a&&m.substr(-1)!=="/"&&(m+="/"),m}function m_(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Pu(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,s){return Pu(i,e[s])});if(typeof t=="object"||typeof e=="object"){var n=m_(t),r=m_(e);return n!==t||r!==e?Pu(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return Pu(t[i],e[i])})}return!1}var kx="Invariant failed";function rs(t,e){throw new Error(kx)}function ga(t){return t.charAt(0)==="/"?t:"/"+t}function g_(t){return t.charAt(0)==="/"?t.substr(1):t}function Rx(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function lI(t,e){return Rx(t,e)?t.substr(e.length):t}function uI(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Ax(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function en(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Vt(t,e,n,r){var i;typeof t=="string"?(i=Ax(t),i.state=e):(i=jt({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Cx(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Px(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Pu(t.state,e.state)}function Gm(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,u,c){if(t!=null){var h=typeof t=="function"?t(o,a):t;typeof h=="string"?typeof u=="function"?u(h,c):c(!0):c(h!==!1)}else c(!0)}var r=[];function i(o){var a=!0;function u(){a&&o.apply(void 0,arguments)}return r.push(u),function(){a=!1,r=r.filter(function(c){return c!==u})}}function s(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];r.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var cI=!!(typeof window<"u"&&window.document&&window.document.createElement);function hI(t,e){e(window.confirm(t))}function xx(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Nx(){return window.navigator.userAgent.indexOf("Trident")===-1}function Ox(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Lx(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var v_="popstate",y_="hashchange";function __(){try{return window.history.state||{}}catch(t){return{}}}function Dx(t){t===void 0&&(t={}),cI||rs();var e=window.history,n=xx(),r=!Nx(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,u=a===void 0?hI:a,c=i.keyLength,h=c===void 0?6:c,f=t.basename?uI(ga(t.basename)):"";function m(H){var j=H||{},Y=j.key,q=j.state,te=window.location,oe=te.pathname,Te=te.search,xe=te.hash,Re=oe+Te+xe;return f&&(Re=lI(Re,f)),Vt(Re,q,Y)}function g(){return Math.random().toString(36).substr(2,h)}var I=Gm();function R(H){jt(z,H),z.length=e.length,I.notifyListeners(z.location,z.action)}function P(H){Lx(H)||T(m(H.state))}function b(){T(m(__()))}var w=!1;function T(H){if(w)w=!1,R();else{var j="POP";I.confirmTransitionTo(H,j,u,function(Y){Y?R({action:j,location:H}):O(H)})}}function O(H){var j=z.location,Y=M.indexOf(j.key);Y===-1&&(Y=0);var q=M.indexOf(H.key);q===-1&&(q=0);var te=Y-q;te&&(w=!0,S(te))}var V=m(__()),M=[V.key];function E(H){return f+en(H)}function v(H,j){var Y="PUSH",q=Vt(H,j,g(),z.location);I.confirmTransitionTo(q,Y,u,function(te){if(te){var oe=E(q),Te=q.key,xe=q.state;if(n)if(e.pushState({key:Te,state:xe},null,oe),o)window.location.href=oe;else{var Re=M.indexOf(z.location.key),dn=M.slice(0,Re+1);dn.push(q.key),M=dn,R({action:Y,location:q})}else window.location.href=oe}})}function _(H,j){var Y="REPLACE",q=Vt(H,j,g(),z.location);I.confirmTransitionTo(q,Y,u,function(te){if(te){var oe=E(q),Te=q.key,xe=q.state;if(n)if(e.replaceState({key:Te,state:xe},null,oe),o)window.location.replace(oe);else{var Re=M.indexOf(z.location.key);Re!==-1&&(M[Re]=q.key),R({action:Y,location:q})}else window.location.replace(oe)}})}function S(H){e.go(H)}function k(){S(-1)}function A(){S(1)}var C=0;function me(H){C+=H,C===1&&H===1?(window.addEventListener(v_,P),r&&window.addEventListener(y_,b)):C===0&&(window.removeEventListener(v_,P),r&&window.removeEventListener(y_,b))}var de=!1;function Ee(H){H===void 0&&(H=!1);var j=I.setPrompt(H);return de||(me(1),de=!0),function(){return de&&(de=!1,me(-1)),j()}}function gt(H){var j=I.appendListener(H);return me(1),function(){me(-1),j()}}var z={length:e.length,action:"POP",location:V,createHref:E,push:v,replace:_,go:S,goBack:k,goForward:A,block:Ee,listen:gt};return z}var w_="hashchange",Vx={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+g_(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:g_,decodePath:ga},slash:{encodePath:ga,decodePath:ga}};function dI(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Yo(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Mx(t){window.location.hash=t}function Kd(t){window.location.replace(dI(window.location.href)+"#"+t)}function $x(t){t===void 0&&(t={}),cI||rs();var e=window.history;Ox();var n=t,r=n.getUserConfirmation,i=r===void 0?hI:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?uI(ga(t.basename)):"",u=Vx[o],c=u.encodePath,h=u.decodePath;function f(){var j=h(Yo());return a&&(j=lI(j,a)),Vt(j)}var m=Gm();function g(j){jt(H,j),H.length=e.length,m.notifyListeners(H.location,H.action)}var I=!1,R=null;function P(j,Y){return j.pathname===Y.pathname&&j.search===Y.search&&j.hash===Y.hash}function b(){var j=Yo(),Y=c(j);if(j!==Y)Kd(Y);else{var q=f(),te=H.location;if(!I&&P(te,q)||R===en(q))return;R=null,w(q)}}function w(j){if(I)I=!1,g();else{var Y="POP";m.confirmTransitionTo(j,Y,i,function(q){q?g({action:Y,location:j}):T(j)})}}function T(j){var Y=H.location,q=E.lastIndexOf(en(Y));q===-1&&(q=0);var te=E.lastIndexOf(en(j));te===-1&&(te=0);var oe=q-te;oe&&(I=!0,k(oe))}var O=Yo(),V=c(O);O!==V&&Kd(V);var M=f(),E=[en(M)];function v(j){var Y=document.querySelector("base"),q="";return Y&&Y.getAttribute("href")&&(q=dI(window.location.href)),q+"#"+c(a+en(j))}function _(j,Y){var q="PUSH",te=Vt(j,void 0,void 0,H.location);m.confirmTransitionTo(te,q,i,function(oe){if(oe){var Te=en(te),xe=c(a+Te),Re=Yo()!==xe;if(Re){R=Te,Mx(xe);var dn=E.lastIndexOf(en(H.location)),us=E.slice(0,dn+1);us.push(Te),E=us,g({action:q,location:te})}else g()}})}function S(j,Y){var q="REPLACE",te=Vt(j,void 0,void 0,H.location);m.confirmTransitionTo(te,q,i,function(oe){if(oe){var Te=en(te),xe=c(a+Te),Re=Yo()!==xe;Re&&(R=Te,Kd(xe));var dn=E.indexOf(en(H.location));dn!==-1&&(E[dn]=Te),g({action:q,location:te})}})}function k(j){e.go(j)}function A(){k(-1)}function C(){k(1)}var me=0;function de(j){me+=j,me===1&&j===1?window.addEventListener(w_,b):me===0&&window.removeEventListener(w_,b)}var Ee=!1;function gt(j){j===void 0&&(j=!1);var Y=m.setPrompt(j);return Ee||(de(1),Ee=!0),function(){return Ee&&(Ee=!1,de(-1)),Y()}}function z(j){var Y=m.appendListener(j);return de(1),function(){de(-1),Y()}}var H={length:e.length,action:"POP",location:M,createHref:v,push:_,replace:S,go:k,goBack:A,goForward:C,block:gt,listen:z};return H}function E_(t,e,n){return Math.min(Math.max(t,e),n)}function Ux(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,u=a===void 0?6:a,c=Gm();function h(v){jt(E,v),E.length=E.entries.length,c.notifyListeners(E.location,E.action)}function f(){return Math.random().toString(36).substr(2,u)}var m=E_(o,0,i.length-1),g=i.map(function(v){return typeof v=="string"?Vt(v,void 0,f()):Vt(v,void 0,v.key||f())}),I=en;function R(v,_){var S="PUSH",k=Vt(v,_,f(),E.location);c.confirmTransitionTo(k,S,n,function(A){if(A){var C=E.index,me=C+1,de=E.entries.slice(0);de.length>me?de.splice(me,de.length-me,k):de.push(k),h({action:S,location:k,index:me,entries:de})}})}function P(v,_){var S="REPLACE",k=Vt(v,_,f(),E.location);c.confirmTransitionTo(k,S,n,function(A){A&&(E.entries[E.index]=k,h({action:S,location:k}))})}function b(v){var _=E_(E.index+v,0,E.entries.length-1),S="POP",k=E.entries[_];c.confirmTransitionTo(k,S,n,function(A){A?h({action:S,location:k,index:_}):h()})}function w(){b(-1)}function T(){b(1)}function O(v){var _=E.index+v;return _>=0&&_<E.entries.length}function V(v){return v===void 0&&(v=!1),c.setPrompt(v)}function M(v){return c.appendListener(v)}var E={length:g.length,action:"POP",location:g[m],index:m,entries:g,createHref:I,push:R,replace:P,go:b,goBack:w,goForward:T,canGo:O,block:V,listen:M};return E}function mp(t,e){return mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mp(t,e)}function Jr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mp(t,e)}var fI={exports:{}},Fx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jx=Fx,Bx=jx;function pI(){}function mI(){}mI.resetWarningCache=pI;var Hx=function(){function t(r,i,s,o,a,u){if(u!==Bx){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mI,resetWarningCache:pI};return n.PropTypes=n,n};fI.exports=Hx();var zx=fI.exports;const T_=Ja(zx);var mo={exports:{}},Wx=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Ec=Wx;mo.exports=yI;mo.exports.parse=Qm;mo.exports.compile=Gx;mo.exports.tokensToFunction=gI;mo.exports.tokensToRegExp=vI;var qx=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Qm(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=qx.exec(t))!=null;){var u=a[0],c=a[1],h=a.index;if(s+=t.slice(i,h),i=h+u.length,c){s+=c[1];continue}var f=t[i],m=a[2],g=a[3],I=a[4],R=a[5],P=a[6],b=a[7];s&&(n.push(s),s="");var w=m!=null&&f!=null&&f!==m,T=P==="+"||P==="*",O=P==="?"||P==="*",V=m||o,M=I||R,E=m||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:g||r++,prefix:m||"",delimiter:V,optional:O,repeat:T,partial:w,asterisk:!!b,pattern:M?Xx(M):b?".*":Kx(V,E)})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function Kx(t,e){return!e||e.indexOf(t)>-1?"[^"+Oi(t)+"]+?":Oi(e)+"|(?:(?!"+Oi(e)+")[^"+Oi(t)+"])+?"}function Gx(t,e){return gI(Qm(t,e),e)}function Qx(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Yx(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function gI(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",Xm(e)));return function(i,s){for(var o="",a=i||{},u=s||{},c=u.pretty?Qx:encodeURIComponent,h=0;h<t.length;h++){var f=t[h];if(typeof f=="string"){o+=f;continue}var m=a[f.name],g;if(m==null)if(f.optional){f.partial&&(o+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(Ec(m)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(m)+"`");if(m.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var I=0;I<m.length;I++){if(g=c(m[I]),!n[h].test(g))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(g)+"`");o+=(I===0?f.prefix:f.delimiter)+g}continue}if(g=f.asterisk?Yx(m):c(m),!n[h].test(g))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+g+'"');o+=f.prefix+g}return o}}function Oi(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Xx(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Ym(t,e){return t.keys=e,t}function Xm(t){return t&&t.sensitive?"":"i"}function Jx(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ym(t,e)}function Zx(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(yI(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",Xm(n));return Ym(s,e)}function eN(t,e,n){return vI(Qm(t,n),e,n)}function vI(t,e,n){Ec(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Oi(a);else{var u=Oi(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+u+c+")*"),a.optional?a.partial?c=u+"("+c+")?":c="(?:"+u+"("+c+"))?":c=u+"("+c+")",s+=c}}var h=Oi(n.delimiter||"/"),f=s.slice(-h.length)===h;return r||(s=(f?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),i?s+="$":s+=r&&f?"":"(?="+h+"|$)",Ym(new RegExp("^"+s,Xm(n)),e)}function yI(t,e,n){return Ec(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Jx(t,e):Ec(t)?Zx(t,e,n):eN(t,e,n)}var tN=mo.exports;const _I=Ja(tN);var _e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rt=typeof Symbol=="function"&&Symbol.for,Jm=rt?Symbol.for("react.element"):60103,Zm=rt?Symbol.for("react.portal"):60106,sh=rt?Symbol.for("react.fragment"):60107,oh=rt?Symbol.for("react.strict_mode"):60108,ah=rt?Symbol.for("react.profiler"):60114,lh=rt?Symbol.for("react.provider"):60109,uh=rt?Symbol.for("react.context"):60110,eg=rt?Symbol.for("react.async_mode"):60111,ch=rt?Symbol.for("react.concurrent_mode"):60111,hh=rt?Symbol.for("react.forward_ref"):60112,dh=rt?Symbol.for("react.suspense"):60113,nN=rt?Symbol.for("react.suspense_list"):60120,fh=rt?Symbol.for("react.memo"):60115,ph=rt?Symbol.for("react.lazy"):60116,rN=rt?Symbol.for("react.block"):60121,iN=rt?Symbol.for("react.fundamental"):60117,sN=rt?Symbol.for("react.responder"):60118,oN=rt?Symbol.for("react.scope"):60119;function Jt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Jm:switch(t=t.type,t){case eg:case ch:case sh:case ah:case oh:case dh:return t;default:switch(t=t&&t.$$typeof,t){case uh:case hh:case ph:case fh:case lh:return t;default:return e}}case Zm:return e}}}function wI(t){return Jt(t)===ch}_e.AsyncMode=eg;_e.ConcurrentMode=ch;_e.ContextConsumer=uh;_e.ContextProvider=lh;_e.Element=Jm;_e.ForwardRef=hh;_e.Fragment=sh;_e.Lazy=ph;_e.Memo=fh;_e.Portal=Zm;_e.Profiler=ah;_e.StrictMode=oh;_e.Suspense=dh;_e.isAsyncMode=function(t){return wI(t)||Jt(t)===eg};_e.isConcurrentMode=wI;_e.isContextConsumer=function(t){return Jt(t)===uh};_e.isContextProvider=function(t){return Jt(t)===lh};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jm};_e.isForwardRef=function(t){return Jt(t)===hh};_e.isFragment=function(t){return Jt(t)===sh};_e.isLazy=function(t){return Jt(t)===ph};_e.isMemo=function(t){return Jt(t)===fh};_e.isPortal=function(t){return Jt(t)===Zm};_e.isProfiler=function(t){return Jt(t)===ah};_e.isStrictMode=function(t){return Jt(t)===oh};_e.isSuspense=function(t){return Jt(t)===dh};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sh||t===ch||t===ah||t===oh||t===dh||t===nN||typeof t=="object"&&t!==null&&(t.$$typeof===ph||t.$$typeof===fh||t.$$typeof===lh||t.$$typeof===uh||t.$$typeof===hh||t.$$typeof===iN||t.$$typeof===sN||t.$$typeof===oN||t.$$typeof===rN)};_e.typeOf=Jt;function EI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TI={exports:{}},ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=typeof Symbol=="function"&&Symbol.for,tg=it?Symbol.for("react.element"):60103,ng=it?Symbol.for("react.portal"):60106,mh=it?Symbol.for("react.fragment"):60107,gh=it?Symbol.for("react.strict_mode"):60108,vh=it?Symbol.for("react.profiler"):60114,yh=it?Symbol.for("react.provider"):60109,_h=it?Symbol.for("react.context"):60110,rg=it?Symbol.for("react.async_mode"):60111,wh=it?Symbol.for("react.concurrent_mode"):60111,Eh=it?Symbol.for("react.forward_ref"):60112,Th=it?Symbol.for("react.suspense"):60113,aN=it?Symbol.for("react.suspense_list"):60120,Ih=it?Symbol.for("react.memo"):60115,bh=it?Symbol.for("react.lazy"):60116,lN=it?Symbol.for("react.block"):60121,uN=it?Symbol.for("react.fundamental"):60117,cN=it?Symbol.for("react.responder"):60118,hN=it?Symbol.for("react.scope"):60119;function Zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tg:switch(t=t.type,t){case rg:case wh:case mh:case vh:case gh:case Th:return t;default:switch(t=t&&t.$$typeof,t){case _h:case Eh:case bh:case Ih:case yh:return t;default:return e}}case ng:return e}}}function II(t){return Zt(t)===wh}ye.AsyncMode=rg;ye.ConcurrentMode=wh;ye.ContextConsumer=_h;ye.ContextProvider=yh;ye.Element=tg;ye.ForwardRef=Eh;ye.Fragment=mh;ye.Lazy=bh;ye.Memo=Ih;ye.Portal=ng;ye.Profiler=vh;ye.StrictMode=gh;ye.Suspense=Th;ye.isAsyncMode=function(t){return II(t)||Zt(t)===rg};ye.isConcurrentMode=II;ye.isContextConsumer=function(t){return Zt(t)===_h};ye.isContextProvider=function(t){return Zt(t)===yh};ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tg};ye.isForwardRef=function(t){return Zt(t)===Eh};ye.isFragment=function(t){return Zt(t)===mh};ye.isLazy=function(t){return Zt(t)===bh};ye.isMemo=function(t){return Zt(t)===Ih};ye.isPortal=function(t){return Zt(t)===ng};ye.isProfiler=function(t){return Zt(t)===vh};ye.isStrictMode=function(t){return Zt(t)===gh};ye.isSuspense=function(t){return Zt(t)===Th};ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mh||t===wh||t===vh||t===gh||t===Th||t===aN||typeof t=="object"&&t!==null&&(t.$$typeof===bh||t.$$typeof===Ih||t.$$typeof===yh||t.$$typeof===_h||t.$$typeof===Eh||t.$$typeof===uN||t.$$typeof===cN||t.$$typeof===hN||t.$$typeof===lN)};ye.typeOf=Zt;TI.exports=ye;var dN=TI.exports,ig=dN,fN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sg={};sg[ig.ForwardRef]=mN;sg[ig.Memo]=bI;function I_(t){return ig.isMemo(t)?bI:sg[t.$$typeof]||fN}var gN=Object.defineProperty,vN=Object.getOwnPropertyNames,b_=Object.getOwnPropertySymbols,yN=Object.getOwnPropertyDescriptor,_N=Object.getPrototypeOf,S_=Object.prototype;function SI(t,e,n){if(typeof e!="string"){if(S_){var r=_N(e);r&&r!==S_&&SI(t,r,n)}var i=vN(e);b_&&(i=i.concat(b_(e)));for(var s=I_(t),o=I_(e),a=0;a<i.length;++a){var u=i[a];if(!pN[u]&&!(n&&n[u])&&!(o&&o[u])&&!(s&&s[u])){var c=yN(e,u);try{gN(t,u,c)}catch(h){}}}}return t}var wN=SI;const EN=Ja(wN);var Gd=1073741823,C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function TN(){var t="__global_unique_id__";return C_[t]=(C_[t]||0)+1}function IN(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bN(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function SN(t){return Array.isArray(t)?t[0]:t}function CN(t,e){var n,r,i="__create-react-context-"+TN()+"__",s=function(a){Jr(u,a);function u(){for(var h,f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return h=a.call.apply(a,[this].concat(m))||this,h.emitter=bN(h.props.value),h}var c=u.prototype;return c.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},c.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var m=this.props.value,g=f.value,I;IN(m,g)?I=0:(I=typeof e=="function"?e(m,g):Gd,I|=0,I!==0&&this.emitter.set(f.value,I))}},c.render=function(){return this.props.children},u}($.Component);s.childContextTypes=(n={},n[i]=T_.object.isRequired,n);var o=function(a){Jr(u,a);function u(){for(var h,f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return h=a.call.apply(a,[this].concat(m))||this,h.observedBits=void 0,h.state={value:h.getValue()},h.onUpdate=function(I,R){var P=h.observedBits|0;P&R&&h.setState({value:h.getValue()})},h}var c=u.prototype;return c.componentWillReceiveProps=function(f){var m=f.observedBits;this.observedBits=m==null?Gd:m},c.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?Gd:f},c.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},c.getValue=function(){return this.context[i]?this.context[i].get():t},c.render=function(){return SN(this.props.children)(this.state.value)},u}($.Component);return o.contextTypes=(r={},r[i]=T_.object,r),{Provider:s,Consumer:o}}var kN=$.createContext||CN,CI=function(e){var n=kN();return n.displayName=e,n},kI=CI("Router-History"),zi=CI("Router"),al=function(t){Jr(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return $.createElement(zi.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},$.createElement(kI.Provider,{children:this.props.children||null,value:this.props.history}))},e}($.Component);$.Component;var RN=function(t){Jr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}($.Component),Qd={},AN=1e4,k_=0;function PN(t){if(Qd[t])return Qd[t];var e=_I.compile(t);return k_<AN&&(Qd[t]=e,k_++),e}function R_(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:PN(t)(e,{pretty:!0})}function xN(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return $.createElement(zi.Consumer,null,function(s){s||rs();var o=s.history,a=s.staticContext,u=i?o.push:o.replace,c=Vt(e?typeof n=="string"?R_(n,e.params):jt({},n,{pathname:R_(n.pathname,e.params)}):n);return a?(u(c),null):$.createElement(RN,{onMount:function(){u(c)},onUpdate:function(f,m){var g=Vt(m.to);Px(g,jt({},c,{key:g.key}))||u(c)},to:n})})}var A_={},NN=1e4,P_=0;function ON(t,e){var n=""+e.end+e.strict+e.sensitive,r=A_[n]||(A_[n]={});if(r[t])return r[t];var i=[],s=_I(t,i,e),o={regexp:s,keys:i};return P_<NN&&(r[t]=o,P_++),o}function og(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,u=n.sensitive,c=u===void 0?!1:u,h=[].concat(r);return h.reduce(function(f,m){if(!m&&m!=="")return null;if(f)return f;var g=ON(m,{end:s,strict:a,sensitive:c}),I=g.regexp,R=g.keys,P=I.exec(t);if(!P)return null;var b=P[0],w=P.slice(1),T=t===b;return s&&!T?null:{path:m,url:m==="/"&&b===""?"/":b,isExact:T,params:R.reduce(function(O,V,M){return O[V.name]=w[M],O},{})}},null)}function LN(t){return $.Children.count(t)===0}var qn=function(t){Jr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return $.createElement(zi.Consumer,null,function(s){s||rs();var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?og(o.pathname,i.props):s.match,u=jt({},s,{location:o,match:a}),c=i.props,h=c.children,f=c.component,m=c.render;return Array.isArray(h)&&LN(h)&&(h=null),$.createElement(zi.Provider,{value:u},u.match?h?typeof h=="function"?h(u):h:f?$.createElement(f,u):m?m(u):null:typeof h=="function"?h(u):null)})},e}($.Component);function ag(t){return t.charAt(0)==="/"?t:"/"+t}function DN(t,e){return t?jt({},e,{pathname:ag(t)+e.pathname}):e}function VN(t,e){if(!t)return e;var n=ag(t);return e.pathname.indexOf(n)!==0?e:jt({},e,{pathname:e.pathname.substr(n.length)})}function x_(t){return typeof t=="string"?t:en(t)}function Yd(t){return function(){rs()}}function N_(){}$.Component;var MN=function(t){Jr(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return $.createElement(zi.Consumer,null,function(s){s||rs();var o=i.props.location||s.location,a,u;return $.Children.forEach(i.props.children,function(c){if(u==null&&$.isValidElement(c)){a=c;var h=c.props.path||c.props.from;u=h?og(o.pathname,jt({},c.props,{path:h})):s.match}}),u?$.cloneElement(a,{location:o,computedMatch:u}):null})},e}($.Component);function $N(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var s=i.wrappedComponentRef,o=EI(i,["wrappedComponentRef"]);return $.createElement(zi.Consumer,null,function(a){return a||rs(),$.createElement(t,jt({},o,a,{ref:s}))})};return n.displayName=e,n.WrappedComponent=t,EN(n,t)}var RI=$.useContext;function is(){return RI(kI)}function AI(){var t=RI(zi).match;return t?t.params:{}}class UN extends $.PureComponent{render(){return $.createElement(qn,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const Ba=({pathname:t,componentProps:e})=>{const{exact:n,component:r}=e,i=e.path||e.from,o=og(t,{exact:n,path:i,component:r});return o||!1};class FN extends Sx{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,r,i){const s={id:ja("viewItem"),outletId:e,ionPageElement:i,reactElement:n,mount:!0,ionRoute:!1};return n.type===Km&&(s.ionRoute=!0,s.disableIonPageManagement=n.props.disableIonPageManagement),s.routeData={match:Ba({pathname:r.pathname,componentProps:n.props}),childProps:n.props},s}getChildrenToRender(e,n,r){const i=this.getViewItemsForOutlet(e);return $.Children.forEach(n.props.children,o=>{const a=i.find(u=>O_(o,u.routeData.childProps.path||u.routeData.childProps.from));a&&(a.reactElement=o)}),i.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=$.createElement(p_,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},$.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const u=O_(o.reactElement,r.pathname);a=$.createElement(p_,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},$.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!u&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,n,r){const{viewItem:i,match:s}=this.findViewItemByPath(e.pathname,n);return(r===void 0||r===!0)&&i&&s&&(i.routeData.match=s),i}findLeavingViewItemByRouteInfo(e,n,r=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,n,r);return i}findViewItemByPathname(e,n){const{viewItem:r}=this.findViewItemByPath(e,n);return r}findViewItemByPath(e,n,r){let i,s,o;if(n)o=this.getViewItemsForOutlet(n),o.some(a),i||o.some(u);else{const c=this.getAllViewItems();c.some(a),i||c.some(u)}return{viewItem:i,match:s};function a(c){var h,f;if(r&&!c.ionRoute)return!1;if(s=Ba({pathname:e,componentProps:c.routeData.childProps}),s){const m=s.path.includes(":");if(!m||m&&s.url===((f=(h=c.routeData)===null||h===void 0?void 0:h.match)===null||f===void 0?void 0:f.url))return i=c,!0}return!1}function u(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(s={path:e,url:e,isExact:!0,params:{}},i=c,!0):!1}}}function O_(t,e){return Ba({pathname:e,componentProps:t.props})}function jN(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}const L_=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class BN extends $.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=ja("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:r}=e.routeInfo;n!==r?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,r;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let i=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(s.mount=!1):e.routeDirection!=="none"&&i!==s&&(s.mount=!1));const o=HN((r=this.ionRouterOutlet)===null||r===void 0?void 0:r.props.children,e);if(i?i.reactElement=o:o&&(i=this.context.createViewItem(this.id,o,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===s&&i.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),L_(i.ionPageElement)&&s!==void 0&&!L_(s.ionPageElement)))return;this.transitionPage(e,i,s)}else s&&!o&&!i&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const r=this.context.findViewItemByRouteInfo(n,this.id);if(r){const i=r.ionPageElement;if(r.ionPageElement=e,r.ionRoute=!0,i===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const s=Wm();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,u=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(u,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},r=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),u=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&u&&await this.transitionPage(s,a,u,"back",!0),Promise.resolve()},i=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},u=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(o,this.id,!1);if(u!==c&&(u==null?void 0:u.ionPageElement)!==void 0){const{ionPageElement:h}=u;h.setAttribute("aria-hidden","true"),h.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:r,onEnd:i}}async transitionPage(e,n,r,i,s=!1){const o=async(h,f)=>{const m=this.skipTransition;m?this.skipTransition=!1:(h.classList.add("ion-page"),h.classList.add("ion-page-invisible")),await a.commit(h,f,{duration:m||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,u=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=i!=null?i:u;if(n&&n.ionPageElement&&this.routerOutletElement)if(r&&r.ionPageElement&&n===r)if(zN(r.reactElement,e.pathname,!0)){const f=jN(r.ionPageElement.outerHTML);f&&(this.routerOutletElement.appendChild(f),await o(n.ionPageElement,f),this.routerOutletElement.removeChild(f))}else await o(n.ionPageElement,void 0);else await o(n.ionPageElement,r==null?void 0:r.ionPageElement),r&&r.ionPageElement&&!s&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=$.Children.only(e);this.ionRouterOutlet=n;const r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return $.createElement(qm.Provider,{value:this.stackContextValue},$.cloneElement(n,{ref:i=>{n.props.setRef&&n.props.setRef(i),n.props.forwardedRef&&(n.props.forwardedRef.current=i),this.routerOutletElement=i;const{ref:s}=n;typeof s=="function"&&s(i)}},r))}static get contextType(){return aI}}function HN(t,e){let n;return $.Children.forEach(t,r=>{Ba({pathname:e.pathname,componentProps:r.props})&&(n=r)}),n||($.Children.forEach(t,r=>{r.props.path||r.props.from||(n=r)}),n)}function zN(t,e,n){return Ba({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class WN extends $.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new Ix,this.viewStack=new FN,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:ja("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,r){if(!n)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=n.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===s?(this.incomingRouteParams.routeOptions=r,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=r,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,r,e)}handleHistoryChange(e,n){var r,i,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const h=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},h),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((r=e.state)===null||r===void 0?void 0:r.direction)||"forward",routeOptions:(i=e.state)===null||i===void 0?void 0:i.routerOptions,tab:this.currentTab})}let u;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)u=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(u);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(u=Object.assign(Object.assign({id:ja("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)u.tab=o.tab,u.pushedByRoute=o.pathname;else if(u.routeAction==="pop"){const h=this.locationHistory.findLastLocation(u);u.pushedByRoute=h==null?void 0:h.pushedByRoute}else if(u.routeAction==="push"&&u.tab!==o.tab){const h=this.locationHistory.getCurrentRouteInfoForTab(u.tab);u.pushedByRoute=h==null?void 0:h.pushedByRoute}else if(u.routeAction==="replace"){const h=this.locationHistory.current(),f=h==null?void 0:h.pushedByRoute,m=f!==void 0&&f!==u.pathname?f:u.pushedByRoute;u.lastPathname=(h==null?void 0:h.pathname)||u.lastPathname,u.prevRouteLastPathname=h==null?void 0:h.lastPathname,u.pushedByRoute=m,u.routeDirection=u.routeDirection||(h==null?void 0:h.routeDirection),u.routeAnimation=u.routeAnimation||(h==null?void 0:h.routeAnimation)}this.locationHistory.add(u)}this.setState({routeInfo:u})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,r,i,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:r,routeOptions:s,routeAnimation:i,tab:o}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const r=Wm();e=e||r&&r.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const s=this.locationHistory.findLastLocation(i);if(s){const o=n||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:o}),i.lastPathname===i.pushedByRoute||s.pathname===i.pushedByRoute&&i.tab===""&&s.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",o)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,r){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const s=Object.assign({},i);s.pathname=n,s.routeOptions=r,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return $.createElement(aI.Provider,{value:this.routeMangerContextState},$.createElement(bx,{ionRoute:UN,ionRedirect:{},stackManager:BN,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const Sh=$N(WN);Sh.displayName="IonRouter";class qN extends $.Component{constructor(e){super(e);const{history:n}=e,r=ft(e,["history"]);this.history=n||Dx(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=ft(e,["children"]);return $.createElement(al,Object.assign({history:this.history},r),$.createElement(Sh,{registerHistoryListener:this.registerHistoryListener},n))}}class R4 extends $.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=ft(e,["children"]);return $.createElement(al,Object.assign({},r),$.createElement(Sh,{registerHistoryListener:this.registerHistoryListener},n))}}class A4 extends $.Component{constructor(e){super(e);const{history:n}=e,r=ft(e,["history"]);this.history=n||$x(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=ft(e,["children"]);return $.createElement(al,Object.assign({history:this.history},r),$.createElement(Sh,{registerHistoryListener:this.registerHistoryListener},n))}}const KN=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new QN;const m=s<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const I=c<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YN=function(t){const e=PI(t);return xI.encodeByteArray(e,!0)},Tc=function(t){return YN(t).replace(/\./g,"")},NI=function(t){try{return xI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=()=>XN().__FIREBASE_DEFAULTS__,ZN=()=>{if(typeof process>"u"||typeof D_>"u")return;const t=D_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&NI(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return KN()||JN()||ZN()||eO()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},OI=t=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tO=t=>{const e=OI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LI=()=>{var t;return(t=Ch())===null||t===void 0?void 0:t.config},DI=t=>{var e;return(e=Ch())===null||e===void 0?void 0:e["_".concat(t)]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function sO(){var t;const e=(t=Ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function oO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uO(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cO(){return!sO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hO(){try{return typeof indexedDB=="object"}catch(t){return!1}}function dO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fO,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i="".concat(this.service,"/").concat(e),s=this.errors[e],o=s?pO(s,r):"Error",a="".concat(this.serviceName,": ").concat(o," (").concat(i,").");return new mr(i,a,r)}}function pO(t,e){return t.replace(mO,(n,r)=>{const i=e[r];return i!=null?String(i):"<".concat(r,"?>")})}const mO=/\{\$([^}]+)}/g;function gO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(V_(s)&&V_(o)){if(!Wi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vO(t,e){const n=new yO(t,e);return n.subscribe.bind(n)}class yO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_O(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xd),i.error===void 0&&(i.error=Xd),i.complete===void 0&&(i.complete=Xd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _O(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(TO(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EO(t){return t===ki?void 0:t}function TO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const bO={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},SO=le.INFO,CO={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},kO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CO[e];if(i)console[i]("[".concat(r,"]  ").concat(t.name,":"),...n);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class lg{constructor(e){this.name=e,this._logLevel=SO,this._logHandler=kO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const RO=(t,e)=>e.some(n=>t instanceof n);let M_,$_;function AO(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VI=new WeakMap,gp=new WeakMap,MI=new WeakMap,Jd=new WeakMap,ug=new WeakMap;function xO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VI.set(n,t)}).catch(()=>{}),ug.set(e,t),e}function NO(t){if(gp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gp.set(t,e)}let vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OO(t){vp=t(vp)}function LO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zd(this),e,...n);return MI.set(r,e.sort?e.sort():[e]),Wr(r)}:PO().includes(t)?function(...e){return t.apply(Zd(this),e),Wr(VI.get(this))}:function(...e){return Wr(t.apply(Zd(this),e))}}function DO(t){return typeof t=="function"?LO(t):(t instanceof IDBTransaction&&NO(t),RO(t,AO())?new Proxy(t,vp):t)}function Wr(t){if(t instanceof IDBRequest)return xO(t);if(Jd.has(t))return Jd.get(t);const e=DO(t);return e!==t&&(Jd.set(t,e),ug.set(e,t)),e}const Zd=t=>ug.get(t);function VO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wr(o.result),u.oldVersion,u.newVersion,Wr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const MO=["get","getKey","getAll","getAllKeys","count"],$O=["put","add","delete","clear"],ef=new Map;function U_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ef.set(e,s),s}OO(t=>({...t,get:(e,n,r)=>U_(e,n)||t.get(e,n,r),has:(e,n)=>!!U_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FO(n)){const r=n.getImmediate();return"".concat(r.library,"/").concat(r.version)}else return null}).filter(n=>n).join(" ")}}function FO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",F_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new lg("@firebase/app"),jO="@firebase/app-compat",BO="@firebase/analytics-compat",HO="@firebase/analytics",zO="@firebase/app-check-compat",WO="@firebase/app-check",qO="@firebase/auth",KO="@firebase/auth-compat",GO="@firebase/database",QO="@firebase/data-connect",YO="@firebase/database-compat",XO="@firebase/functions",JO="@firebase/functions-compat",ZO="@firebase/installations",eL="@firebase/installations-compat",tL="@firebase/messaging",nL="@firebase/messaging-compat",rL="@firebase/performance",iL="@firebase/performance-compat",sL="@firebase/remote-config",oL="@firebase/remote-config-compat",aL="@firebase/storage",lL="@firebase/storage-compat",uL="@firebase/firestore",cL="@firebase/vertexai",hL="@firebase/firestore-compat",dL="firebase",fL="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",pL={[yp]:"fire-core",[jO]:"fire-core-compat",[HO]:"fire-analytics",[BO]:"fire-analytics-compat",[WO]:"fire-app-check",[zO]:"fire-app-check-compat",[qO]:"fire-auth",[KO]:"fire-auth-compat",[GO]:"fire-rtdb",[QO]:"fire-data-connect",[YO]:"fire-rtdb-compat",[XO]:"fire-fn",[JO]:"fire-fn-compat",[ZO]:"fire-iid",[eL]:"fire-iid-compat",[tL]:"fire-fcm",[nL]:"fire-fcm-compat",[rL]:"fire-perf",[iL]:"fire-perf-compat",[sL]:"fire-rc",[oL]:"fire-rc-compat",[aL]:"fire-gcs",[lL]:"fire-gcs-compat",[uL]:"fire-fst",[hL]:"fire-fst-compat",[cL]:"fire-vertex","fire-js":"fire-js",[dL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,mL=new Map,wp=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(n){cr.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function ro(t){const e=t.name;if(wp.has(e))return cr.debug("There were multiple attempts to register component ".concat(e,".")),!1;wp.set(e,t);for(const n of Ic.values())j_(n,t);for(const n of mL.values())j_(n,t);return!0}function cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new ll("app","Firebase",gL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=fL;function $I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_p,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=LI()),!n)throw qr.create("no-options");const s=Ic.get(i);if(s){if(Wi(n,s.options)&&Wi(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new IO(i);for(const u of wp.values())o.addComponent(u);const a=new vL(n,r,o);return Ic.set(i,a),a}function UI(t=_p){const e=Ic.get(t);if(!e&&t===_p&&LI())return $I();if(!e)throw qr.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=pL[t])!==null&&r!==void 0?r:t;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];s&&a.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&a.push("and"),o&&a.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),cr.warn(a.join(" "));return}ro(new qi("".concat(i,"-version"),()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="firebase-heartbeat-database",_L=1,Ha="firebase-heartbeat-store";let tf=null;function FI(){return tf||(tf=VO(yL,_L,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ha)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),tf}async function wL(t){try{const n=(await FI()).transaction(Ha),r=await n.objectStore(Ha).get(jI(t));return await n.done,r}catch(e){if(e instanceof mr)cr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function B_(t,e){try{const r=(await FI()).transaction(Ha,"readwrite");await r.objectStore(Ha).put(e,jI(t)),await r.done}catch(n){if(n instanceof mr)cr.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(r.message)}}}function jI(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1024,TL=30;class IL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>TL){const o=CL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H_(),{heartbeatsToSend:r,unsentEntries:i}=bL(this._heartbeatsCache.heartbeats),s=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return cr.warn(n),""}}}function H_(){return new Date().toISOString().substring(0,10)}function bL(t,e=EL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),z_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hO()?dO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function z_(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function CL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){ro(new qi("platform-logger",e=>new UO(e),"PRIVATE")),ro(new qi("heartbeat",e=>new IL(e),"PRIVATE")),Kr(yp,F_,t),Kr(yp,F_,"esm2017"),Kr("fire-js","")}kL("");var RL="firebase",AL="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(RL,AL,"app");function BI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PL=BI,HI=new ll("auth","Firebase",BI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new lg("@firebase/auth");function xL(t,...e){bc.logLevel<=le.WARN&&bc.warn("Auth (".concat(go,"): ").concat(t),...e)}function xu(t,...e){bc.logLevel<=le.ERROR&&bc.error("Auth (".concat(go,"): ").concat(t),...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw hg(t,...e)}function Dn(t,...e){return hg(t,...e)}function zI(t,e,n){const r=Object.assign(Object.assign({},PL()),{[e]:n});return new ll("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return zI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HI.create(t,...e)}function ee(t,e,...n){if(!t)throw hg(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function hr(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NL(){return W_()==="http:"||W_()==="https:"}function W_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NL()||aO()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=iO()||lO()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new cl(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pi(t,e,n,r,i={}){return qI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ul(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return oO()||(c.referrerPolicy="no-referrer"),WI.fetch()(KI(t,t.config.apiHost,n,a),c)})}async function qI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DL),e);try{const i=new $L(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw du(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw du(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw du(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zI(t,h,c);bn(t,h)}}catch(i){if(i instanceof mr)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function hl(t,e,n,r,i={}){const s=await pi(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function KI(t,e,n,r){const i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?dg(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function ML(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),VL.get())})}}function du(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}function q_(t){return t!==void 0&&t.enterprise!==void 0}class UL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ML(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FL(t,e){return pi(t,"GET","/v2/recaptchaConfig",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function GI(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function BL(t,e=!1){const n=pt(t),r=await n.getIdToken(e),i=fg(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:va(nf(i.auth_time)),issuedAtTime:va(nf(i.iat)),expirationTime:va(nf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nf(t){return Number(t)*1e3}function fg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=NI(n);return i?JSON.parse(i):(xu("Failed to decode base64 JWT payload"),null)}catch(i){return xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K_(t){const e=fg(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&HL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await za(t,GI(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QI(s.providerUserInfo):[],a=qL(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Tp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function WL(t){const e=pt(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QI(t){return t.map(e=>{var{providerId:n}=e,r=ft(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){const n=await qI(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KI(t,i,"/v1/token","key=".concat(s)),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GL(t,e){return pi(t,"POST","/v2/accounts:revokeToken",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=K_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await KL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qs;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qs,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ft(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BL(this,e)}reload(){return WL(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await za(this,jL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:O,isAnonymous:V,providerData:M,stsTokenManager:E}=n;ee(T&&E,e,"internal-error");const v=qs.fromJSON(this.name,E);ee(typeof T=="string",e,"internal-error"),br(f,e.name),br(m,e.name),ee(typeof O=="boolean",e,"internal-error"),ee(typeof V=="boolean",e,"internal-error"),br(g,e.name),br(I,e.name),br(R,e.name),br(P,e.name),br(b,e.name),br(w,e.name);const _=new er({uid:T,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:V,photoURL:I,phoneNumber:g,tenantId:R,stsTokenManager:v,createdAt:b,lastLoginAt:w});return M&&Array.isArray(M)&&(_.providerData=M.map(S=>Object.assign({},S))),P&&(_._redirectEventId=P),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new qs;i.updateFromServerResponse(n);const s=new er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?QI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new qs;a.updateFromIdToken(r);const u=new er({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function tr(t){hr(t instanceof Function,"Expected a class definition");let e=G_.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YI.type="NONE";const Q_=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){return"firebase:".concat(t,":").concat(e,":").concat(n)}class Ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ks(tr(Q_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||tr(Q_);const o=Nu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=er._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch(h){}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ks(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch(h){}})),new Ks(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(rb(e))return"Webos";if(JI(e))return"Safari";if((e.includes("chrome/")||ZI(e))&&!e.includes("edge/"))return"Chrome";if(tb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XI(t=Ct()){return/firefox\//i.test(t)}function JI(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZI(t=Ct()){return/crios\//i.test(t)}function eb(t=Ct()){return/iemobile/i.test(t)}function tb(t=Ct()){return/android/i.test(t)}function nb(t=Ct()){return/blackberry/i.test(t)}function rb(t=Ct()){return/webos/i.test(t)}function pg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QL(t=Ct()){var e;return pg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YL(){return uO()&&document.documentMode===10}function ib(t=Ct()){return pg(t)||tb(t)||rb(t)||nb(t)||/windows phone/i.test(t)||eb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e=[]){let n;switch(t){case"Browser":n=Y_(Ct());break;case"Worker":n="".concat(Y_(Ct()),"-").concat(t);break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/JsCore/").concat(go,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e={}){return pi(t,"GET","/v2/passwordPolicy",fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=6;class eD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new XL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GI(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(rr(this));const n=e?pt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JL(this),n=new eD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xL("Error while retrieving App Check token: ".concat(n.error)),n==null?void 0:n.token}}function ss(t){return pt(t)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nD(t){kh=t}function ob(t){return kh.loadJS(t)}function rD(){return kh.recaptchaEnterpriseScript}function iD(){return kh.gapiScript}function sD(t){return"__".concat(t).concat(Math.floor(Math.random()*1e6))}class oD{constructor(){this.enterprise=new aD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lD="recaptcha-enterprise",ab="NO_RECAPTCHA";class uD{constructor(e){this.type=lD,this.auth=ss(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{FL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new UL(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;q_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(ab)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&q_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rD();u.length!==0&&(u+=a),ob(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function J_(t,e,n,r=!1,i=!1){const s=new uD(t);let o;if(i)o=ab;else try{o=await s.verify(n)}catch(u){o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ip(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await J_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await J_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){const n=cg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wi(s,e!=null?e:{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function hD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dD(t,e,n){const r=ss(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=lb(e),{host:o,port:a}=fD(e),u=a===null?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(u,"/")},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Wi(c,r.config.emulator)&&Wi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,pD()}function lb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fD(t){const e=lb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Z_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Z_(o)}}}function Z_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function mD(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e){return hl(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return hl(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}async function yD(t,e){return hl(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends mg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,n,"signInWithPassword",gD);case"emailLink":return vD(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,r,"signUpPassword",mD);case"emailLink":return yD(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e){return hl(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="http://localhost";class Ki extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ft(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ki(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:_D,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ED(t){const e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,r=ta(na(t)).deep_link_id;return(r?ta(na(r)).link:null)||r||n||e||t}class gg{constructor(e){var n,r,i,s,o,a;const u=ta(na(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=wD((i=u.mode)!==null&&i!==void 0?i:null);ee(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ED(e);try{return new gg(n)}catch(r){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gg.parseLink(n);return ee(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends dl{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch(n){return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch(i){return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends dl{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch(n){return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends dl{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch(i){return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return hl(t,"POST","/v1/accounts:signUp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await er._fromIdTokenResponse(e,r,i),o=ew(r);return new Gi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ew(r);return new Gi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ew(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cc(e,n,r,i)}}function cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(t,s,e,r):s})}async function ID(t,e,n=!1){const r=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e,n=!1){const{auth:r}=t;if(rn(r.app))return Promise.reject(rr(r));const i="reauthenticate";try{const s=await za(t,cb(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=fg(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Gi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e,n=!1){if(rn(t.app))return Promise.reject(rr(t));const r="signIn",i=await cb(t,r,e),s=await Gi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function SD(t,e){return hb(ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(t){const e=ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CD(t,e,n){if(rn(t.app))return Promise.reject(rr(t));const r=ss(t),o=await Ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&db(t),u}),a=await Gi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kD(t,e,n){return rn(t.app)?Promise.reject(rr(t)):SD(pt(t),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&db(t),r})}function RD(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function AD(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function fl(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function vg(t){return pt(t).signOut()}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1e3,xD=10;class pb extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pb.type="LOCAL";const ND=pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mb.type="SESSION";const gb=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await OD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=yg("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function DD(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function VD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function MD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $D(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebaseLocalStorageDb",UD=1,Rc="firebaseLocalStorage",_b="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(t,e){return t.transaction([Rc],e?"readwrite":"readonly").objectStore(Rc)}function FD(){const t=indexedDB.deleteDatabase(yb);return new pl(t).toPromise()}function bp(){const t=indexedDB.open(yb,UD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rc,{keyPath:_b})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rc)?e(r):(r.close(),await FD(),e(await bp()))})})}async function tw(t,e,n){const r=Ah(t,!0).put({[_b]:e,value:n});return new pl(r).toPromise()}async function jD(t,e){const n=Ah(t,!1).get(e),r=await new pl(n).toPromise();return r===void 0?null:r.value}function nw(t,e){const n=Ah(t,!0).delete(e);return new pl(n).toPromise()}const BD=800,HD=3;class wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance($D()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VD(),!this.activeServiceWorker)return;this.sender=new LD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await tw(e,kc,"1"),await nw(e,kc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ah(i,!1).getAll();return new pl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wb.type="LOCAL";const zD=wb;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e){return e?tr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qD(t){return hb(t.auth,new _g(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),bD(n,new _g(t),t.bypassAuthState)}async function GD(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),ID(n,new _g(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:bn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new cl(2e3,1e4);class $s extends Eb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QD.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="pendingRedirect",Ou=new Map;class XD extends Eb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const r=await JD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(t,e){const n=tV(e),r=eV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZD(t,e){Ou.set(t._key(),e)}function eV(t){return tr(t._redirectPersistence)}function tV(t){return Nu(YD,t.config.apiKey,t.name)}async function nV(t,e,n=!1){if(rn(t.app))return Promise.reject(rr(t));const r=ss(t),i=WD(r,e),o=await new XD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=10*60*1e3;class iV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rV&&this.cachedEventUids.clear(),this.cachedEventUids.has(rw(e))}saveEventToCache(e){this.cachedEventUids.add(rw(e)),this.lastProcessedEventTime=Date.now()}}function rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;async function uV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oV(t);for(const n of e)try{if(cV(n))return}catch(r){}bn(t,"unauthorized-domain")}function cV(t){const e=Ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lV.test(n))return!1;if(aV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new cl(3e4,6e4);function iw(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dV(t){return new Promise((e,n)=>{var r,i,s;function o(){iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iw(),n(Dn(t,"network-request-failed"))},timeout:hV.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)o();else{const a=sD("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},ob("".concat(iD(),"?onload=").concat(a)).catch(u=>n(u))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function fV(t){return Lu=Lu||dV(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new cl(5e3,15e3),mV="__/auth/iframe",gV="emulator/auth/iframe",vV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _V(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dg(e,gV):"https://".concat(t.config.authDomain,"/").concat(mV),r={apiKey:e.apiKey,appName:t.name,v:go},i=yV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(ul(r).slice(1))}async function wV(t){const e=await fV(t),n=Vn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:_V(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Vn().setTimeout(()=>{s(o)},pV.get());function u(){Vn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TV=500,IV=600,bV="_blank",SV="http://localhost";class sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function CV(t,e,n,r=TV,i=IV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},EV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=ZI(c)?bV:n),XI(c)&&(e=e||SV,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[g,I])=>"".concat(m).concat(g,"=").concat(I,","),"");if(QL(c)&&a!=="_self")return kV(e||"",a),new sw(null);const f=window.open(e||"",a,h);ee(f,t,"popup-blocked");try{f.focus()}catch(m){}return new sw(f)}function kV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="__/auth/handler",AV="emulator/auth/handler",PV=encodeURIComponent("fac");async function ow(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:go,eventId:i};if(e instanceof ub){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof dl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?"#".concat(PV,"=").concat(encodeURIComponent(u)):"";return"".concat(xV(t),"?").concat(ul(a).slice(1)).concat(c)}function xV({config:t}){return t.emulator?dg(t,AV):"https://".concat(t.authDomain,"/").concat(RV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class NV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=nV,this._overrideRedirectResult=ZD}async _openPopup(e,n,r,i){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ow(e,n,r,Ep(),i);return CV(e,o,yg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ow(e,n,r,Ep(),i);return DD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wV(e),r=new iV(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rf,{type:rf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rf];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ib()||JI()||pg()}}const OV=NV;var aw="@firebase/auth",lw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VV(t){ro(new qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(t)},c=new tD(r,i,s,u);return hD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ro(new qi("auth-internal",e=>{const n=ss(e.getProvider("auth").getImmediate());return(r=>new LV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(aw,lw,DV(t)),Kr(aw,lw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=5*60,$V=DI("authIdTokenMaxAge")||MV;let uw=null;const UV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$V)return;const i=n==null?void 0:n.token;uw!==i&&(uw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function FV(t=UI()){const e=cg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cD(t,{popupRedirectResolver:OV,persistence:[zD,ND,gb]}),r=DI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=UV(s.toString());AD(n,o,()=>o(n.currentUser)),RD(n,a=>o(a))}}const i=OI("auth");return i&&dD(n,"http://".concat(i)),n}function jV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VV("Browser");var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,Ib;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(S,k,A){for(var C=Array(arguments.length-2),me=2;me<arguments.length;me++)C[me-2]=arguments[me];return v.prototype[k].apply(S,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var S=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)S[k]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(k=0;16>k;++k)S[k]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],k=E.g[2];var A=E.g[3],C=v+(A^_&(k^A))+S[0]+3614090360&4294967295;v=_+(C<<7&4294967295|C>>>25),C=A+(k^v&(_^k))+S[1]+3905402710&4294967295,A=v+(C<<12&4294967295|C>>>20),C=k+(_^A&(v^_))+S[2]+606105819&4294967295,k=A+(C<<17&4294967295|C>>>15),C=_+(v^k&(A^v))+S[3]+3250441966&4294967295,_=k+(C<<22&4294967295|C>>>10),C=v+(A^_&(k^A))+S[4]+4118548399&4294967295,v=_+(C<<7&4294967295|C>>>25),C=A+(k^v&(_^k))+S[5]+1200080426&4294967295,A=v+(C<<12&4294967295|C>>>20),C=k+(_^A&(v^_))+S[6]+2821735955&4294967295,k=A+(C<<17&4294967295|C>>>15),C=_+(v^k&(A^v))+S[7]+4249261313&4294967295,_=k+(C<<22&4294967295|C>>>10),C=v+(A^_&(k^A))+S[8]+1770035416&4294967295,v=_+(C<<7&4294967295|C>>>25),C=A+(k^v&(_^k))+S[9]+2336552879&4294967295,A=v+(C<<12&4294967295|C>>>20),C=k+(_^A&(v^_))+S[10]+4294925233&4294967295,k=A+(C<<17&4294967295|C>>>15),C=_+(v^k&(A^v))+S[11]+2304563134&4294967295,_=k+(C<<22&4294967295|C>>>10),C=v+(A^_&(k^A))+S[12]+1804603682&4294967295,v=_+(C<<7&4294967295|C>>>25),C=A+(k^v&(_^k))+S[13]+4254626195&4294967295,A=v+(C<<12&4294967295|C>>>20),C=k+(_^A&(v^_))+S[14]+2792965006&4294967295,k=A+(C<<17&4294967295|C>>>15),C=_+(v^k&(A^v))+S[15]+1236535329&4294967295,_=k+(C<<22&4294967295|C>>>10),C=v+(k^A&(_^k))+S[1]+4129170786&4294967295,v=_+(C<<5&4294967295|C>>>27),C=A+(_^k&(v^_))+S[6]+3225465664&4294967295,A=v+(C<<9&4294967295|C>>>23),C=k+(v^_&(A^v))+S[11]+643717713&4294967295,k=A+(C<<14&4294967295|C>>>18),C=_+(A^v&(k^A))+S[0]+3921069994&4294967295,_=k+(C<<20&4294967295|C>>>12),C=v+(k^A&(_^k))+S[5]+3593408605&4294967295,v=_+(C<<5&4294967295|C>>>27),C=A+(_^k&(v^_))+S[10]+38016083&4294967295,A=v+(C<<9&4294967295|C>>>23),C=k+(v^_&(A^v))+S[15]+3634488961&4294967295,k=A+(C<<14&4294967295|C>>>18),C=_+(A^v&(k^A))+S[4]+3889429448&4294967295,_=k+(C<<20&4294967295|C>>>12),C=v+(k^A&(_^k))+S[9]+568446438&4294967295,v=_+(C<<5&4294967295|C>>>27),C=A+(_^k&(v^_))+S[14]+3275163606&4294967295,A=v+(C<<9&4294967295|C>>>23),C=k+(v^_&(A^v))+S[3]+4107603335&4294967295,k=A+(C<<14&4294967295|C>>>18),C=_+(A^v&(k^A))+S[8]+1163531501&4294967295,_=k+(C<<20&4294967295|C>>>12),C=v+(k^A&(_^k))+S[13]+2850285829&4294967295,v=_+(C<<5&4294967295|C>>>27),C=A+(_^k&(v^_))+S[2]+4243563512&4294967295,A=v+(C<<9&4294967295|C>>>23),C=k+(v^_&(A^v))+S[7]+1735328473&4294967295,k=A+(C<<14&4294967295|C>>>18),C=_+(A^v&(k^A))+S[12]+2368359562&4294967295,_=k+(C<<20&4294967295|C>>>12),C=v+(_^k^A)+S[5]+4294588738&4294967295,v=_+(C<<4&4294967295|C>>>28),C=A+(v^_^k)+S[8]+2272392833&4294967295,A=v+(C<<11&4294967295|C>>>21),C=k+(A^v^_)+S[11]+1839030562&4294967295,k=A+(C<<16&4294967295|C>>>16),C=_+(k^A^v)+S[14]+4259657740&4294967295,_=k+(C<<23&4294967295|C>>>9),C=v+(_^k^A)+S[1]+2763975236&4294967295,v=_+(C<<4&4294967295|C>>>28),C=A+(v^_^k)+S[4]+1272893353&4294967295,A=v+(C<<11&4294967295|C>>>21),C=k+(A^v^_)+S[7]+4139469664&4294967295,k=A+(C<<16&4294967295|C>>>16),C=_+(k^A^v)+S[10]+3200236656&4294967295,_=k+(C<<23&4294967295|C>>>9),C=v+(_^k^A)+S[13]+681279174&4294967295,v=_+(C<<4&4294967295|C>>>28),C=A+(v^_^k)+S[0]+3936430074&4294967295,A=v+(C<<11&4294967295|C>>>21),C=k+(A^v^_)+S[3]+3572445317&4294967295,k=A+(C<<16&4294967295|C>>>16),C=_+(k^A^v)+S[6]+76029189&4294967295,_=k+(C<<23&4294967295|C>>>9),C=v+(_^k^A)+S[9]+3654602809&4294967295,v=_+(C<<4&4294967295|C>>>28),C=A+(v^_^k)+S[12]+3873151461&4294967295,A=v+(C<<11&4294967295|C>>>21),C=k+(A^v^_)+S[15]+530742520&4294967295,k=A+(C<<16&4294967295|C>>>16),C=_+(k^A^v)+S[2]+3299628645&4294967295,_=k+(C<<23&4294967295|C>>>9),C=v+(k^(_|~A))+S[0]+4096336452&4294967295,v=_+(C<<6&4294967295|C>>>26),C=A+(_^(v|~k))+S[7]+1126891415&4294967295,A=v+(C<<10&4294967295|C>>>22),C=k+(v^(A|~_))+S[14]+2878612391&4294967295,k=A+(C<<15&4294967295|C>>>17),C=_+(A^(k|~v))+S[5]+4237533241&4294967295,_=k+(C<<21&4294967295|C>>>11),C=v+(k^(_|~A))+S[12]+1700485571&4294967295,v=_+(C<<6&4294967295|C>>>26),C=A+(_^(v|~k))+S[3]+2399980690&4294967295,A=v+(C<<10&4294967295|C>>>22),C=k+(v^(A|~_))+S[10]+4293915773&4294967295,k=A+(C<<15&4294967295|C>>>17),C=_+(A^(k|~v))+S[1]+2240044497&4294967295,_=k+(C<<21&4294967295|C>>>11),C=v+(k^(_|~A))+S[8]+1873313359&4294967295,v=_+(C<<6&4294967295|C>>>26),C=A+(_^(v|~k))+S[15]+4264355552&4294967295,A=v+(C<<10&4294967295|C>>>22),C=k+(v^(A|~_))+S[6]+2734768916&4294967295,k=A+(C<<15&4294967295|C>>>17),C=_+(A^(k|~v))+S[13]+1309151649&4294967295,_=k+(C<<21&4294967295|C>>>11),C=v+(k^(_|~A))+S[4]+4149444226&4294967295,v=_+(C<<6&4294967295|C>>>26),C=A+(_^(v|~k))+S[11]+3174756917&4294967295,A=v+(C<<10&4294967295|C>>>22),C=k+(v^(A|~_))+S[2]+718787259&4294967295,k=A+(C<<15&4294967295|C>>>17),C=_+(A^(k|~v))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,S=this.B,k=this.h,A=0;A<v;){if(k==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(S[k++]=E.charCodeAt(A++),k==this.blockSize){i(this,S),k=0;break}}else for(;A<v;)if(S[k++]=E[A++],k==this.blockSize){i(this,S),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var S=0;32>S;S+=8)E[_++]=this.g[v]>>>S&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],S=!0,k=E.length-1;0<=k;k--){var A=E[k]|0;S&&A==v||(_[k]=A,S=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return P(c(-E));for(var v=[],_=1,S=0;E>=_;S++)v[S]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return P(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(v,8)),S=f,k=0;k<E.length;k+=8){var A=Math.min(8,E.length-k),C=parseInt(E.substring(k,k+A),v);8>A?(A=c(Math.pow(v,A)),S=S.j(A).add(c(C))):(S=S.j(_),S=S.add(c(C)))}return S}var f=u(0),m=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-P(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var S=this.i(_);E+=(0<=S?S:4294967296+S)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(R(this))return"-"+P(this).toString(E);for(var v=c(Math.pow(E,6)),_=this,S="";;){var k=O(_,v).g;_=b(_,k.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=k,I(_))return A+S;for(;6>A.length;)A="0"+A;S=A+S}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=b(this,E),R(E)?-1:I(E)?0:1};function P(E){for(var v=E.g.length,_=[],S=0;S<v;S++)_[S]=~E.g[S];return new o(_,~E.h).add(m)}t.abs=function(){return R(this)?P(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],S=0,k=0;k<=v;k++){var A=S+(this.i(k)&65535)+(E.i(k)&65535),C=(A>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);S=C>>>16,A&=65535,C&=65535,_[k]=C<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function b(E,v){return E.add(P(v))}t.j=function(E){if(I(this)||I(E))return f;if(R(this))return R(E)?P(this).j(P(E)):P(P(this).j(E));if(R(E))return P(this.j(P(E)));if(0>this.l(g)&&0>E.l(g))return c(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],S=0;S<2*v;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<E.g.length;k++){var A=this.i(S)>>>16,C=this.i(S)&65535,me=E.i(k)>>>16,de=E.i(k)&65535;_[2*S+2*k]+=C*de,w(_,2*S+2*k),_[2*S+2*k+1]+=A*de,w(_,2*S+2*k+1),_[2*S+2*k+1]+=C*me,w(_,2*S+2*k+1),_[2*S+2*k+2]+=A*me,w(_,2*S+2*k+2)}for(S=0;S<v;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=v;S<2*v;S++)_[S]=0;return new o(_,0)};function w(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function T(E,v){this.g=E,this.h=v}function O(E,v){if(I(v))throw Error("division by zero");if(I(E))return new T(f,f);if(R(E))return v=O(P(E),v),new T(P(v.g),P(v.h));if(R(v))return v=O(E,P(v)),new T(P(v.g),v.h);if(30<E.g.length){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,S=v;0>=S.l(E);)_=V(_),S=V(S);var k=M(_,1),A=M(S,1);for(S=M(S,2),_=M(_,2);!I(S);){var C=A.add(S);0>=C.l(E)&&(k=k.add(_),A=C),S=M(S,1),_=M(_,1)}return v=b(E,k.j(v)),new T(k,v)}for(k=f;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),A=c(_),C=A.j(v);R(C)||0<C.l(E);)_-=S,A=c(_),C=A.j(v);I(A)&&(A=m),k=k.add(A),E=b(E,C)}return new T(k,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],S=0;S<v;S++)_[S]=this.i(S)&E.i(S);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],S=0;S<v;S++)_[S]=this.i(S)|E.i(S);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],S=0;S<v;S++)_[S]=this.i(S)^E.i(S);return new o(_,this.h^E.h)};function V(E){for(var v=E.g.length+1,_=[],S=0;S<v;S++)_[S]=E.i(S)<<1|E.i(S-1)>>>31;return new o(_,E.h)}function M(E,v){var _=v>>5;v%=32;for(var S=E.g.length-_,k=[],A=0;A<S;A++)k[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ib=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Gr=o}).apply(typeof cw<"u"?cw:typeof self<"u"?self:typeof window<"u"?window:{});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bb,ra,Sb,Du,Sp,Cb,kb,Rb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fu=="object"&&fu];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var N=l[y];if(!(N in p))break e;p=p[N]}l=l[l.length-1],y=p[l],d=d(y),d!=y&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var p=0,y=!1,N={next:function(){if(!y&&p<l.length){var L=p++;return{value:d(L,l[L]),done:!1}}return y=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,y),l.apply(d,N)}}return function(){return l.apply(d,arguments)}}function m(l,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function I(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,N,L){for(var W=Array(arguments.length-2),we=2;we<arguments.length;we++)W[we-2]=arguments[we];return d.prototype[N].apply(y,W)}}function R(l){const d=l.length;if(0<d){const p=Array(d);for(let y=0;y<d;y++)p[y]=l[y];return p}return[]}function P(l,d){for(let p=1;p<arguments.length;p++){const y=arguments[p];if(u(y)){const N=l.length||0,L=y.length||0;l.length=N+L;for(let W=0;W<L;W++)l[N+W]=y[W]}else l.push(y)}}class b{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function w(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function O(l){return O[" "](l),l}O[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(l,d,p){for(const y in l)d.call(p,l[y],y,l)}function E(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function v(l){const d={};for(const p in l)d[p]=l[p];return d}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,d){let p,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(p in y)l[p]=y[p];for(let L=0;L<_.length;L++)p=_[L],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function k(l){var d=1;l=l.split(":");const p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function C(){var l=H;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class me{constructor(){this.h=this.g=null}add(d,p){const y=de.get();y.set(d,p),this.h?this.h.next=y:this.g=y,this.h=y}}var de=new b(()=>new Ee,l=>l.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,z=!1,H=new me,j=()=>{const l=a.Promise.resolve(void 0);gt=()=>{l.then(Y)}};var Y=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(p){A(p)}var d=de;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}z=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch(p){}return l}();function Te(l,d){if(te.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(V){e:{try{O(d.nodeName);var N=!0;break e}catch(L){}N=!1}N||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}I(Te,te);var xe={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),dn=0;function us(l,d,p,y,N){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!y,this.ha=N,this.key=++dn,this.da=this.fa=!1}function vi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function cs(l){this.src=l,this.g={},this.h=0}cs.prototype.add=function(l,d,p,y,N){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var W=To(l,d,y,N);return-1<W?(d=l[W],p||(d.fa=!1)):(d=new us(d,this.src,L,!!y,N),d.fa=p,l.push(d)),d};function yi(l,d){var p=d.type;if(p in l.g){var y=l.g[p],N=Array.prototype.indexOf.call(y,d,void 0),L;(L=0<=N)&&Array.prototype.splice.call(y,N,1),L&&(vi(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function To(l,d,p,y){for(var N=0;N<l.length;++N){var L=l[N];if(!L.da&&L.listener==d&&L.capture==!!p&&L.ha==y)return N}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),Io={};function _l(l,d,p,y,N){if(Array.isArray(d)){for(var L=0;L<d.length;L++)_l(l,d[L],p,y,N);return null}return p=Tl(p),l&&l[Re]?l.K(d,p,c(y)?!!y.capture:!1,N):Gh(l,d,p,!1,y,N)}function Gh(l,d,p,y,N,L){if(!d)throw Error("Invalid event type");var W=c(N)?!!N.capture:!!N,we=So(l);if(we||(l[hs]=we=new cs(l)),p=we.add(d,p,y,W,L),p.proxy)return p;if(y=Qh(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)oe||(N=W),N===void 0&&(N=!1),l.addEventListener(d.toString(),y,N);else if(l.attachEvent)l.attachEvent(El(d.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Qh(){function l(p){return d.call(l.src,l.listener,p)}const d=Yh;return l}function wl(l,d,p,y,N){if(Array.isArray(d))for(var L=0;L<d.length;L++)wl(l,d[L],p,y,N);else y=c(y)?!!y.capture:!!y,p=Tl(p),l&&l[Re]?(l=l.i,d=String(d).toString(),d in l.g&&(L=l.g[d],p=To(L,p,y,N),-1<p&&(vi(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete l.g[d],l.h--)))):l&&(l=So(l))&&(d=l.g[d.toString()],l=-1,d&&(l=To(d,p,y,N)),(p=-1<l?d[l]:null)&&bo(p))}function bo(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Re])yi(d.i,l);else{var p=l.type,y=l.proxy;d.removeEventListener?d.removeEventListener(p,y,l.capture):d.detachEvent?d.detachEvent(El(p),y):d.addListener&&d.removeListener&&d.removeListener(y),(p=So(d))?(yi(p,l),p.h==0&&(p.src=null,d[hs]=null)):vi(l)}}}function El(l){return l in Io?Io[l]:Io[l]="on"+l}function Yh(l,d){if(l.da)l=!0;else{d=new Te(d,this);var p=l.listener,y=l.ha||l.src;l.fa&&bo(l),l=p.call(y,d)}return l}function So(l){return l=l[hs],l instanceof cs?l:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(l){return typeof l=="function"?l:(l[Co]||(l[Co]=function(d){return l.handleEvent(d)}),l[Co])}function Ye(){q.call(this),this.i=new cs(this),this.M=this,this.F=null}I(Ye,q),Ye.prototype[Re]=!0,Ye.prototype.removeEventListener=function(l,d,p,y){wl(this,l,d,p,y)};function st(l,d){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=d.type||d,typeof d=="string")d=new te(d,l);else if(d instanceof te)d.target=d.target||l;else{var N=d;d=new te(y,l),S(d,N)}if(N=!0,p)for(var L=p.length-1;0<=L;L--){var W=d.g=p[L];N=gr(W,y,!0,d)&&N}if(W=d.g=l,N=gr(W,y,!0,d)&&N,N=gr(W,y,!1,d)&&N,p)for(L=0;L<p.length;L++)W=d.g=p[L],N=gr(W,y,!1,d)&&N}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],y=0;y<p.length;y++)vi(p[y]);delete l.g[d],l.h--}}this.F=null},Ye.prototype.K=function(l,d,p,y){return this.i.add(String(l),d,!1,p,y)},Ye.prototype.L=function(l,d,p,y){return this.i.add(String(l),d,!0,p,y)};function gr(l,d,p,y){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var N=!0,L=0;L<d.length;++L){var W=d[L];if(W&&!W.da&&W.capture==p){var we=W.listener,ot=W.ha||W.src;W.fa&&yi(l.i,W),N=we.call(ot,y)!==!1&&N}}return N&&!y.defaultPrevented}function _i(l,d,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function ds(l){l.g=_i(()=>{l.g=null,l.i&&(l.i=!1,ds(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class vr extends q{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ds(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(l){q.call(this),this.h=l,this.g={}}I(Bn,q);var fs=[];function Il(l){M(l.g,function(d,p){this.g.hasOwnProperty(p)&&bo(d)},l),l.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),Il(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=a.JSON.stringify,Xh=a.JSON.parse,Jh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Ro(){}Ro.prototype.h=null;function bl(l){return l.h||(l.h=l.i())}function Sl(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ao(){te.call(this,"d")}I(Ao,te);function Po(){te.call(this,"c")}I(Po,te);var Hn={},Cl=null;function ps(){return Cl=Cl||new Ye}Hn.La="serverreachability";function kl(l){te.call(this,Hn.La,l)}I(kl,te);function Cn(l){const d=ps();st(d,new kl(d))}Hn.STAT_EVENT="statevent";function Rl(l,d){te.call(this,Hn.STAT_EVENT,l),this.stat=d}I(Rl,te);function Xe(l){const d=ps();st(d,new Rl(d,l))}Hn.Ma="timingevent";function yr(l,d){te.call(this,Hn.Ma,l),this.size=d}I(yr,te);function _r(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Je(){this.g=!0}Je.prototype.xa=function(){this.g=!1};function Zh(l,d,p,y,N,L){l.info(function(){if(l.g)if(L)for(var W="",we=L.split("&"),ot=0;ot<we.length;ot++){var pe=we[ot].split("=");if(1<pe.length){var vt=pe[0];pe=pe[1];var yt=vt.split("_");W=2<=yt.length&&yt[1]=="type"?W+(vt+"="+pe+"&"):W+(vt+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+d+"\n"+p+"\n"+W})}function ed(l,d,p,y,N,L,W){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+d+"\n"+p+"\n"+L+" "+W})}function wr(l,d,p,y){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+td(l,p)+(y?" "+y:"")})}function Al(l,d){l.info(function(){return"TIMEOUT: "+d})}Je.prototype.info=function(){};function td(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var N=y[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<N.length;W++)N[W]=""}}}}return ko(p)}catch(we){return d}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xo;function Ei(){}I(Ei,Ro),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},xo=new Ei;function kn(l,d,p,y){this.j=l,this.i=d,this.l=p,this.R=y||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new No}function No(){this.i=null,this.g="",this.h=!1}var nd={},xl={};function D(l,d,p){l.L=1,l.v=Ll(zn(d)),l.m=p,l.P=!0,G(l,null)}function G(l,d){l.F=Date.now(),je(l),l.A=zn(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),dv(p.i,"t",y),l.C=0,p=l.j.J,l.h=new No,l.g=Pv(l.j,p?d:null,!l.m),0<l.O&&(l.M=new vr(m(l.Y,l,l.g),l.O)),d=l.U,p=l.g,y=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(fs[0]=N.toString()),N=fs);for(var L=0;L<N.length;L++){var W=_l(p,N[L],y||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Cn(),Zh(l.i,l.u,l.A,l.l,l.R,l.m)}kn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Wn(l)==3?d.j():this.Y(l)},kn.prototype.Y=function(l){try{if(l==this.g)e:{const yt=Wn(this.g);var d=this.g.Ba();const ys=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||_v(this.g)))){this.J||yt!=4||d==7||(d==8||0>=ys?Cn(3):Cn(2)),fn(this);var p=this.g.Z();this.X=p;t:if(se(this)){var y=_v(this.g);l="";var N=y.length,L=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),Oo(this);var W="";break t}this.h.i=new a.TextDecoder}for(d=0;d<N;d++)this.h.h=!0,l+=this.h.i.decode(y[d],{stream:!(L&&d==N-1)});y.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,ed(this.i,this.u,this.A,this.l,this.R,yt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ot=this.g;if((we=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(we)){var pe=we;break t}}pe=null}if(p=pe)wr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rd(this,p);else{this.o=!1,this.s=3,Xe(12),Ti(this),Oo(this);break e}}if(this.P){p=!0;let pn;for(;!this.J&&this.C<W.length;)if(pn=Ne(this,W),pn==xl){yt==4&&(this.s=4,Xe(14),p=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==nd){this.s=4,Xe(15),wr(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else wr(this.i,this.l,pn,null),rd(this,pn);if(se(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||W.length!=0||this.h.h||(this.s=1,Xe(16),p=!1),this.o=this.o&&p,!p)wr(this.i,this.l,W,"[Invalid Chunked Response]"),Ti(this),Oo(this);else if(0<W.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ud(vt),vt.M=!0,Xe(11))}}else wr(this.i,this.l,W,null),rd(this,W);yt==4&&Ti(this),this.o&&!this.J&&(yt==4?Cv(this.j,this):(this.o=!1,je(this)))}else _C(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Ti(this),Oo(this)}}}catch(yt){}finally{}};function se(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ne(l,d){var p=l.C,y=d.indexOf("\n",p);return y==-1?xl:(p=Number(d.substring(p,y)),isNaN(p)?nd:(y+=1,y+p>d.length?xl:(d=d.slice(y,y+p),l.C=y+p,d)))}kn.prototype.cancel=function(){this.J=!0,Ti(this)};function je(l){l.S=Date.now()+l.I,Bt(l,l.I)}function Bt(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_r(m(l.ba,l),d)}function fn(l){l.B&&(a.clearTimeout(l.B),l.B=null)}kn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Al(this.i,this.A),this.L!=2&&(Cn(),Xe(17)),Ti(this),this.s=2,Oo(this)):Bt(this,this.S-l)};function Oo(l){l.j.G==0||l.J||Cv(l.j,l)}function Ti(l){fn(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Il(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function rd(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||id(p.h,l))){if(!l.K&&id(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(d)}catch(pe){y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Fl(p),$l(p);else break e;ld(p),Xe(18)}}else p.za=N[1],0<p.za-p.T&&37500>N[2]&&p.F&&p.v==0&&!p.C&&(p.C=_r(m(p.Za,p),6e3));if(1>=rv(p.h)&&p.ca){try{p.ca()}catch(pe){}p.ca=void 0}}else bi(p,11)}else if((l.K||p.g==l)&&Fl(p),!w(d))for(N=p.Da.g.parse(d),d=0;d<N.length;d++){let pe=N[d];if(p.T=pe[0],pe=pe[1],p.G==2)if(pe[0]=="c"){p.K=pe[1],p.ia=pe[2];const vt=pe[3];vt!=null&&(p.la=vt,p.j.info("VER="+p.la));const yt=pe[4];yt!=null&&(p.Aa=yt,p.j.info("SVER="+p.Aa));const ys=pe[5];ys!=null&&typeof ys=="number"&&0<ys&&(y=1.5*ys,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const pn=l.g;if(pn){const Bl=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bl){var L=y.h;L.g||Bl.indexOf("spdy")==-1&&Bl.indexOf("quic")==-1&&Bl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(sd(L,L.h),L.h=null))}if(y.D){const cd=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;cd&&(y.ya=cd,be(y.I,y.D,cd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var W=l;if(y.qa=Av(y,y.J?y.ia:null,y.W),W.K){iv(y.h,W);var we=W,ot=y.L;ot&&(we.I=ot),we.B&&(fn(we),je(we)),y.g=W}else bv(y);0<p.i.length&&Ul(p)}else pe[0]!="stop"&&pe[0]!="close"||bi(p,7);else p.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?bi(p,7):ad(p):pe[0]!="noop"&&p.l&&p.l.ta(pe),p.v=0)}}Cn(4)}catch(pe){}}var rC=class{constructor(l,d){this.g=l,this.map=d}};function tv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function rv(l){return l.h?1:l.g?l.g.size:0}function id(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function sd(l,d){l.g?l.g.add(d):l.h=d}function iv(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}tv.prototype.cancel=function(){if(this.i=sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.D);return d}return R(l.i)}function iC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],p=l.length,y=0;y<p;y++)d.push(l[y]);return d}d=[],p=0;for(y in l)d[p++]=l[y];return d}function sC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(const y in l)d[p++]=y;return d}}}function ov(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=sC(l),y=iC(l),N=y.length,L=0;L<N;L++)d.call(void 0,y[L],p&&p[L],l)}var av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oC(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),N=null;if(0<=y){var L=l[p].substring(0,y);N=l[p].substring(y+1)}else L=l[p];d(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ii(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ii){this.h=l.h,Nl(this,l.j),this.o=l.o,this.g=l.g,Ol(this,l.s),this.l=l.l;var d=l.i,p=new Vo;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),lv(this,p),this.m=l.m}else l&&(d=String(l).match(av))?(this.h=!1,Nl(this,d[1]||"",!0),this.o=Lo(d[2]||""),this.g=Lo(d[3]||"",!0),Ol(this,d[4]),this.l=Lo(d[5]||"",!0),lv(this,d[6]||"",!0),this.m=Lo(d[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}Ii.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Do(d,uv,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Do(d,uv,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Do(p,p.charAt(0)=="/"?uC:lC,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Do(p,hC)),l.join("")};function zn(l){return new Ii(l)}function Nl(l,d,p){l.j=p?Lo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ol(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function lv(l,d,p){d instanceof Vo?(l.i=d,dC(l.i,l.h)):(p||(d=Do(d,cC)),l.i=new Vo(d,l.h))}function be(l,d,p){l.i.set(d,p)}function Ll(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Lo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Do(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,aC),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function aC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var uv=/[#\/\?@]/g,lC=/[#\?:]/g,uC=/[#\?]/g,cC=/[#\?@]/g,hC=/#/g;function Vo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Er(l){l.g||(l.g=new Map,l.h=0,l.i&&oC(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Vo.prototype,t.add=function(l,d){Er(this),this.i=null,l=gs(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function cv(l,d){Er(l),d=gs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function hv(l,d){return Er(l),d=gs(l,d),l.g.has(d)}t.forEach=function(l,d){Er(this),this.g.forEach(function(p,y){p.forEach(function(N){l.call(d,N,y,this)},this)},this)},t.na=function(){Er(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let y=0;y<d.length;y++){const N=l[y];for(let L=0;L<N.length;L++)p.push(d[y])}return p},t.V=function(l){Er(this);let d=[];if(typeof l=="string")hv(this,l)&&(d=d.concat(this.g.get(gs(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return Er(this),this.i=null,l=gs(this,l),hv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function dv(l,d,p){cv(l,d),0<p.length&&(l.i=null,l.g.set(gs(l,d),R(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var y=d[p];const L=encodeURIComponent(String(y)),W=this.V(y);for(y=0;y<W.length;y++){var N=L;W[y]!==""&&(N+="="+encodeURIComponent(String(W[y]))),l.push(N)}}return this.i=l.join("&")};function gs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function dC(l,d){d&&!l.j&&(Er(l),l.i=null,l.g.forEach(function(p,y){var N=y.toLowerCase();y!=N&&(cv(this,y),dv(this,N,p))},l)),l.j=d}function fC(l,d){const p=new Je;if(a.Image){const y=new Image;y.onload=g(Tr,p,"TestLoadImage: loaded",!0,d,y),y.onerror=g(Tr,p,"TestLoadImage: error",!1,d,y),y.onabort=g(Tr,p,"TestLoadImage: abort",!1,d,y),y.ontimeout=g(Tr,p,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else d(!1)}function pC(l,d){const p=new Je,y=new AbortController,N=setTimeout(()=>{y.abort(),Tr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:y.signal}).then(L=>{clearTimeout(N),L.ok?Tr(p,"TestPingServer: ok",!0,d):Tr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(N),Tr(p,"TestPingServer: error",!1,d)})}function Tr(l,d,p,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(p)}catch(L){}}function mC(){this.g=new Jh}function gC(l,d,p){const y=p||"";try{ov(l,function(N,L){let W=N;c(N)&&(W=ko(N)),d.push(y+L+"="+encodeURIComponent(W))})}catch(N){throw d.push(y+"type="+encodeURIComponent("_badmap")),N}}function Dl(l){this.l=l.Ub||null,this.j=l.eb||!1}I(Dl,Ro),Dl.prototype.g=function(){return new Vl(this.l,this.j)},Dl.prototype.i=function(l){return function(){return l}}({});function Vl(l,d){Ye.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Vl,Ye),t=Vl.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,$o(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Mo(this):$o(this),this.readyState==3&&fv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Mo(this))},t.Qa=function(l){this.g&&(this.response=l,Mo(this))},t.ga=function(){this.g&&Mo(this)};function Mo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,$o(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join("\r\n")};function $o(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function pv(l){let d="";return M(l,function(p,y){d+=y,d+=":",d+=p,d+="\r\n"}),d}function od(l,d,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=pv(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):be(l,d,p))}function Me(l){Ye.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Me,Ye);var vC=/^https?$/i,yC=["POST","PUT"];t=Me.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xo.g(),this.v=this.o?bl(this.o):bl(xo),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){mv(this,L);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)p.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const L of y.keys())p.set(L,y.get(L));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yC,d,void 0))||y||N||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of p)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yv(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){mv(this,L)}};function mv(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,gv(l),Ml(l)}function gv(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,st(this,"complete"),st(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vv(this):this.bb())},t.bb=function(){vv(this)};function vv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Wn(l)!=4||l.Z()!=2)){if(l.u&&Wn(l)==4)_i(l.Ea,0,l);else if(st(l,"readystatechange"),Wn(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var y;if(y=W===0){var N=String(l.D).match(av)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),y=!vC.test(N?N.toLowerCase():"")}p=y}if(p)st(l,"complete"),st(l,"success");else{l.m=6;try{var L=2<Wn(l)?l.g.statusText:""}catch(we){L=""}l.l=L+" ["+l.Z()+"]",gv(l)}}finally{Ml(l)}}}}function Ml(l,d){if(l.g){yv(l);const p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||st(l,"ready");try{p.onreadystatechange=y}catch(N){}}}function yv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Wn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch(l){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Xh(d)}};function _v(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(d){return null}}function _C(l){const d={};l=(l.g&&2<=Wn(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(w(l[y]))continue;var p=k(l[y]);const N=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=d[N]||[];d[N]=L,L.push(p)}E(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function wv(l){this.Aa=0,this.i=[],this.j=new Je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,l),this.cb=Uo("retryDelaySeedMs",1e4,l),this.Wa=Uo("forwardChannelMaxRetries",2,l),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new tv(l&&l.concurrentRequestLimit),this.Da=new mC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wv.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,y){Xe(0),this.W=l,this.H=d||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=Av(this,null,this.W),Ul(this)};function ad(l){if(Ev(l),l.G==3){var d=l.U++,p=zn(l.I);if(be(p,"SID",l.K),be(p,"RID",d),be(p,"TYPE","terminate"),Fo(l,p),d=new kn(l,l.j,d),d.L=2,d.v=Ll(zn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch(y){}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=Pv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Rv(l)}function $l(l){l.g&&(ud(l),l.g.cancel(),l.g=null)}function Ev(l){$l(l),l.u&&(a.clearTimeout(l.u),l.u=null),Fl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ul(l){if(!nv(l.h)&&!l.s){l.s=!0;var d=l.Ga;gt||j(),z||(gt(),z=!0),H.add(d,l),l.B=0}}function wC(l,d){return rv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_r(m(l.Ga,l,d),kv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new kn(this,this.j,l);let L=this.o;if(this.S&&(L?(L=v(L),S(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Iv(this,N,d),p=zn(this.I),be(p,"RID",l),be(p,"CVER",22),this.D&&be(p,"X-HTTP-Session-Id",this.D),Fo(this,p),L&&(this.O?d="headers="+encodeURIComponent(String(pv(L)))+"&"+d:this.m&&od(p,this.m,L)),sd(this.h,N),this.Ua&&be(p,"TYPE","init"),this.P?(be(p,"$req",d),be(p,"SID","null"),N.T=!0,D(N,p,null)):D(N,p,d),this.G=2}}else this.G==3&&(l?Tv(this,l):this.i.length==0||nv(this.h)||Tv(this))};function Tv(l,d){var p;d?p=d.l:p=l.U++;const y=zn(l.I);be(y,"SID",l.K),be(y,"RID",p),be(y,"AID",l.T),Fo(l,y),l.m&&l.o&&od(y,l.m,l.o),p=new kn(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Iv(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),sd(l.h,p),D(p,y,d)}function Fo(l,d){l.H&&M(l.H,function(p,y){be(d,y,p)}),l.l&&ov({},function(p,y){be(d,y,p)})}function Iv(l,d,p){p=Math.min(l.i.length,p);var y=l.l?m(l.l.Na,l.l,l):null;e:{var N=l.i;let L=-1;for(;;){const W=["count="+p];L==-1?0<p?(L=N[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let we=!0;for(let ot=0;ot<p;ot++){let pe=N[ot].g;const vt=N[ot].map;if(pe-=L,0>pe)L=Math.max(0,N[ot].g-100),we=!1;else try{gC(vt,W,"req"+pe+"_")}catch(yt){y&&y(vt)}}if(we){y=W.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,y}function bv(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;gt||j(),z||(gt(),z=!0),H.add(d,l),l.v=0}}function ld(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_r(m(l.Fa,l),kv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Sv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_r(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),$l(this),Sv(this))};function ud(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Sv(l){l.g=new kn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=zn(l.qa);be(d,"RID","rpc"),be(d,"SID",l.K),be(d,"AID",l.T),be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(d,"TO",l.ja),be(d,"TYPE","xmlhttp"),Fo(l,d),l.m&&l.o&&od(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Ll(zn(d)),p.m=null,p.P=!0,G(p,l)}t.Za=function(){this.C!=null&&(this.C=null,$l(this),ld(this),Xe(19))};function Fl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Cv(l,d){var p=null;if(l.g==d){Fl(l),ud(l),l.g=null;var y=2}else if(id(l.h,d))p=d.D,iv(l.h,d),y=1;else return;if(l.G!=0){if(d.o)if(y==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var N=l.B;y=ps(),st(y,new yr(y,p)),Ul(l)}else bv(l);else if(N=d.s,N==3||N==0&&0<d.X||!(y==1&&wC(l,d)||y==2&&ld(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),N){case 1:bi(l,5);break;case 4:bi(l,10);break;case 3:bi(l,6);break;default:bi(l,2)}}}function kv(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function bi(l,d){if(l.j.info("Error code "+d),d==2){var p=m(l.fb,l),y=l.Xa;const N=!y;y=new Ii(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nl(y,"https"),Ll(y),N?fC(y.toString(),p):pC(y.toString(),p)}else Xe(2);l.G=0,l.l&&l.l.sa(d),Rv(l),Ev(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Rv(l){if(l.G=0,l.ka=[],l.l){const d=sv(l.h);(d.length!=0||l.i.length!=0)&&(P(l.ka,d),P(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function Av(l,d,p){var y=p instanceof Ii?zn(p):new Ii(p);if(y.g!="")d&&(y.g=d+"."+y.g),Ol(y,y.s);else{var N=a.location;y=N.protocol,d=d?d+"."+N.hostname:N.hostname,N=+N.port;var L=new Ii(null);y&&Nl(L,y),d&&(L.g=d),N&&Ol(L,N),p&&(L.l=p),y=L}return p=l.D,d=l.ya,p&&d&&be(y,p,d),be(y,"VER",l.la),Fo(l,y),y}function Pv(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Me(new Dl({eb:p})):new Me(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xv(){}t=xv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jl(){}jl.prototype.g=function(l,d){return new Ht(l,d)};function Ht(l,d){Ye.call(this),this.g=new wv(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!w(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!w(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new vs(this)}I(Ht,Ye),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){ad(this.g)},Ht.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=ko(l),l=p);d.i.push(new rC(d.Ya++,l)),d.G==3&&Ul(d)},Ht.prototype.N=function(){this.g.l=null,delete this.j,ad(this.g),delete this.g,Ht.aa.N.call(this)};function Nv(l){Ao.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}I(Nv,Ao);function Ov(){Po.call(this),this.status=1}I(Ov,Po);function vs(l){this.g=l}I(vs,xv),vs.prototype.ua=function(){st(this.g,"a")},vs.prototype.ta=function(l){st(this.g,new Nv(l))},vs.prototype.sa=function(l){st(this.g,new Ov)},vs.prototype.ra=function(){st(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Rb=function(){return new jl},kb=function(){return ps()},Cb=Hn,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Du=ms,Pl.COMPLETE="complete",Sb=Pl,Sl.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,ra=Sl,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,bb=Me}).apply(typeof fu<"u"?fu:typeof self<"u"?self:typeof window<"u"?window:{});const hw="@firebase/firestore",dw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new lg("@firebase/firestore");function Ts(){return Qi.logLevel}function K(t,...e){if(Qi.logLevel<=le.DEBUG){const n=e.map(wg);Qi.debug("Firestore (".concat(yo,"): ").concat(t),...n)}}function dr(t,...e){if(Qi.logLevel<=le.ERROR){const n=e.map(wg);Qi.error("Firestore (".concat(yo,"): ").concat(t),...n)}}function io(t,...e){if(Qi.logLevel<=le.WARN){const n=e.map(wg);Qi.warn("Firestore (".concat(yo,"): ").concat(t),...n)}}function wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e="FIRESTORE (".concat(yo,") INTERNAL ASSERTION FAILED: ")+t;throw dr(e),new Error(e)}function ge(t,e){t||ne()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class BV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class HV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zV{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ir,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new Ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new Tt(e)}}class WV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KV{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,rn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(s.error.message));const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider","Received ".concat(o?"new":"existing"," token.")),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new fw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=GV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function so(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=-62135596800,mw=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mw);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pw)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mw}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Ge(0,0))}static max(){return new re(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="__name__";class Pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Pn.isNumericId(e),i=Pn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pn.extractNumericId(e).compare(Pn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Pe extends Pn{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Pn{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return QV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gw}static keyField(){return new ut([gw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Pe.fromString(e))}static fromName(e){return new Z(Pe.fromString(e).popFirst(5))}static empty(){return new Z(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=-1;function YV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Zr(i,Z.empty(),e)}function XV(t){return new Zr(t.readTime,t.key,qa)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(re.min(),Z.empty(),qa)}static max(){return new Zr(re.max(),Z.empty(),qa)}}function JV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==ZV)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function t2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=-1;function xh(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function n2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="";function r2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vw(e)),e=i2(t.get(n),e);return vw(e)}function i2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case xb:n+="";break;default:n+=s}}return n}function vw(t){return t+xb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push("".concat(n,":").concat(r)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:lt.RED,this.left=i!=null?i:lt.EMPTY,this.right=s!=null?s:lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _w(this.data.getIterator())}getIteratorFrom(e){return new _w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class _w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new Qe(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ob("Invalid base64 string: "+s):s}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const s2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(ge(!!t),typeof t=="string"){let e=0;const n=s2.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="server_timestamp",Db="__type__",Vb="__previous_value__",Mb="__local_write_time__";function Tg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Db])===null||n===void 0?void 0:n.stringValue)===Lb}function Nh(t){const e=t.mapValue.fields[Vb];return Tg(e)?Nh(e):e}function Ka(t){const e=ei(t.mapValue.fields[Mb].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const Pc="(default)";class Ga{constructor(e,n){this.projectId=e,this.database=n||Pc}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__type__",a2="__max__",mu={mapValue:{}},Ub="__vector__",xc="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:u2(t)?9007199254740991:l2(t)?10:11:ne()}function Fn(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ka(t).isEqual(Ka(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ei(i.timestampValue),a=ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ti(i.bytesValue).isEqual(ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?Ac(o)===Ac(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return so(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(yw(o)!==yw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Fn(o[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Qa(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function oo(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),u=Ue(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return ww(t.timestampValue,e.timestampValue);case 4:return ww(Ka(t),Ka(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ti(s),u=ti(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ce(a[c],u[c]);if(h!==0)return h}return ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ce(Ue(s.latitude),Ue(o.latitude));return a!==0?a:ce(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ew(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},m=o.fields||{},g=(a=f[xc])===null||a===void 0?void 0:a.arrayValue,I=(u=m[xc])===null||u===void 0?void 0:u.arrayValue,R=ce(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=I==null?void 0:I.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:Ew(g,I)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===mu.mapValue&&o===mu.mapValue)return 0;if(s===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=ce(u[f],h[f]);if(m!==0)return m;const g=oo(a[u[f]],c[h[f]]);if(g!==0)return g}return ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function ww(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=ei(t),r=ei(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Ew(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oo(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function ao(t){return Cp(t)}function Cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return"time(".concat(r.seconds,",").concat(r.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return"geo(".concat(n.latitude,",").concat(n.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Cp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+="".concat(o,":").concat(Cp(n.fields[o]));return i+"}"}(t.mapValue):ne()}function Vu(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(t);return e?16+Vu(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Vu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return mi(r.fields,(s,o)=>{i+=s.length+Vu(o)}),i}(t.mapValue);default:throw ne()}}function kp(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function Tw(t){return!!t&&"nullValue"in t}function Iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mu(t){return!!t&&"mapValue"in t}function l2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$b])===null||n===void 0?void 0:n.stringValue)===Ub}function ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ya(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(ya(this.value))}}function Fb(t){const e=[];return mi(t.fields,(n,r)=>{const i=new ut([n]);if(Mu(r)){const s=Fb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,re.min(),re.min(),re.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,re.min(),re.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,re.min(),re.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.position=e,this.inclusive=n}}function bw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=oo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function c2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{}class qe extends jb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d2(e,n,r):n==="array-contains"?new m2(e,r):n==="in"?new g2(e,r):n==="not-in"?new v2(e,r):n==="array-contains-any"?new y2(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f2(e,r):new p2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oo(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends jb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new jn(e,n)}matches(e){return Bb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Bb(t){return t.op==="and"}function Hb(t){return h2(t)&&Bb(t)}function h2(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Rp(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+ao(t.value);if(Hb(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return"".concat(t.op,"(").concat(e,")")}}function zb(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zb(o,i.filters[a]),!0):!1}(t,e):void ne()}function Wb(t){return t instanceof qe?function(n){return"".concat(n.field.canonicalString()," ").concat(n.op," ").concat(ao(n.value))}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Wb).join(" ,")+"}"}(t):"Filter"}class d2 extends qe{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class f2 extends qe{constructor(e,n){super(e,"in",n),this.keys=qb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p2 extends qe{constructor(e,n){super(e,"not-in",n),this.keys=qb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class m2 extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ig(n)&&Qa(n.arrayValue,this.value)}}class g2 extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}}class v2 extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}}class y2 extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Cw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _2(t,e,n,r,i,s,o)}function bg(t){const e=ie(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ao(r)).join(",")),e.le=n}return e.le}function Sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sw(t.startAt,e.startAt)&&Sw(t.endAt,e.endAt)}function Ap(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function w2(t,e,n,r,i,s,o,a){return new Oh(t,e,n,r,i,s,o,a)}function Cg(t){return new Oh(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E2(t){return t.collectionGroup!==null}function _a(t){const e=ie(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(ut.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Oc(s,r))}),n.has(ut.keyField().canonicalString())||e.he.push(new Oc(ut.keyField(),r))}return e.he}function Mn(t){const e=ie(t);return e.Pe||(e.Pe=T2(e,_a(t))),e.Pe}function T2(t,e){if(t.limitType==="F")return Cw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Oc(i.field,s)});const n=t.endAt?new Nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nc(t.startAt.position,t.startAt.inclusive):null;return Cw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pp(t,e,n){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lh(t,e){return Sg(Mn(t),Mn(e))&&t.limitType===e.limitType}function Kb(t){return"".concat(bg(Mn(t)),"|lt:").concat(t.limitType)}function Is(t){return"Query(target=".concat(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=", filters: [".concat(n.filters.map(i=>Wb(i)).join(", "),"]")),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=", orderBy: [".concat(n.orderBy.map(i=>function(o){return"".concat(o.field.canonicalString()," (").concat(o.dir,")")}(i)).join(", "),"]")),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ao(i)).join(",")),"Target(".concat(r,")")}(Mn(t)),"; limitType=").concat(t.limitType,")")}function Dh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _a(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=bw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,_a(r),i)||r.endAt&&!function(o,a,u){const c=bw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,_a(r),i))}(t,e)}function I2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gb(t){return(e,n)=>{let r=!1;for(const i of _a(t)){const s=b2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function b2(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?oo(u,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Ve(Z.comparator);function fr(){return S2}const Qb=new Ve(Z.comparator);function ia(...t){let e=Qb;for(const n of t)e=e.insert(n.key,n);return e}function Yb(t){let e=Qb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return wa()}function Xb(){return wa()}function wa(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const C2=new Ve(Z.comparator),k2=new Qe(Z.comparator);function ue(...t){let e=k2;for(const n of t)e=e.add(n);return e}const R2=new Qe(ce);function A2(){return R2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function Jb(t){return{integerValue:""+t}}function P2(t,e){return n2(e)?Jb(e):kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function x2(t,e,n){return t instanceof Lc?function(i,s){const o={fields:{[Db]:{stringValue:Lb},[Mb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tg(s)&&(s=Nh(s)),s&&(o.fields[Vb]=s),{mapValue:o}}(n,e):t instanceof Ya?eS(t,e):t instanceof Xa?tS(t,e):function(i,s){const o=Zb(i,s),a=Rw(o)+Rw(i.Ie);return kp(o)&&kp(i.Ie)?Jb(a):kg(i.serializer,a)}(t,e)}function N2(t,e,n){return t instanceof Ya?eS(t,e):t instanceof Xa?tS(t,e):n}function Zb(t,e){return t instanceof Dc?function(r){return kp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Lc extends Vh{}class Ya extends Vh{constructor(e){super(),this.elements=e}}function eS(t,e){const n=nS(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xa extends Vh{constructor(e){super(),this.elements=e}}function tS(t,e){let n=nS(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class Dc extends Vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Rw(t){return Ue(t.integerValue||t.doubleValue)}function nS(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function O2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ya&&i instanceof Ya||r instanceof Xa&&i instanceof Xa?so(r.elements,i.elements,Fn):r instanceof Dc&&i instanceof Dc?Fn(r.Ie,i.Ie):r instanceof Lc&&i instanceof Lc}(t.transform,e.transform)}class L2{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mh{}function rS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rg(t.key,ln.none()):new ml(t.key,t.data,ln.none());{const n=t.data,r=Lt.empty();let i=new Qe(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(t.key,r,new Kt(i.toArray()),ln.none())}}function D2(t,e,n){t instanceof ml?function(i,s,o){const a=i.value.clone(),u=Pw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(i,s,o){if(!$u(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Pw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(iS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ea(t,e,n,r){return t instanceof ml?function(s,o,a,u){if(!$u(s.precondition,o))return a;const c=s.value.clone(),h=xw(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(s,o,a,u){if(!$u(s.precondition,o))return a;const c=xw(s.fieldTransforms,u,o),h=o.data;return h.setAll(iS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return $u(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function V2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Zb(r.transform,i||null);s!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function Aw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&so(r,i,(s,o)=>O2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends Mh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends Mh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pw(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,N2(o,a,n[i]))}return r}function xw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x2(s,o,e))}return r}class Rg extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M2 extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&D2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ea(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ea(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=rS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,r)=>Aw(n,r))&&so(this.baseMutations,e.baseMutations,(n,r)=>Aw(n,r))}}class Ag{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=function(){return C2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ag(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,he;function j2(t){switch(t){case F.OK:return ne();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ne()}}function sS(t){if(t===void 0)return dr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Be.OK:return F.OK;case Be.CANCELLED:return F.CANCELLED;case Be.UNKNOWN:return F.UNKNOWN;case Be.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Be.INTERNAL:return F.INTERNAL;case Be.UNAVAILABLE:return F.UNAVAILABLE;case Be.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Be.NOT_FOUND:return F.NOT_FOUND;case Be.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Be.ABORTED:return F.ABORTED;case Be.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Be.DATA_LOSS:return F.DATA_LOSS;default:return ne()}}(he=Be||(Be={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Gr([4294967295,4294967295],0);function Nw(t){const e=B2().encode(t),n=new Ib;return n.update(e),new Uint8Array(n.digest())}function Ow(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}class Pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sa("Invalid padding: ".concat(n));if(r<0)throw new sa("Invalid hash count: ".concat(r));if(e.length>0&&this.hashCount===0)throw new sa("Invalid hash count: ".concat(r));if(e.length===0&&n!==0)throw new sa("Invalid padding when bitmap length is 0: ".concat(n));this.Ee=8*e.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Gr.fromNumber(r)));return i.compare(H2)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Nw(e),[r,i]=Ow(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Nw(e),[r,i]=Ow(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $h(re.min(),i,new Ve(ce),fr(),ue())}}class gl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gl(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class oS{constructor(e,n){this.targetId=e,this.ge=n}}class aS{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Lw{constructor(){this.pe=0,this.ye=Dw(),this.we=mt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ue(),n=ue(),r=ue();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new gl(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=Dw()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ge(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class z2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fr(),this.$e=gu(),this.Ke=gu(),this.Ue=new Ve(ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Ap(s))if(r===0){const o=new Z(s.path);this.ze(n,o,bt.newNoDocument(o,re.min()))}else ge(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),u=a?this.nt(a,e,o):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ti(r).toUint8Array()}catch(u){if(u instanceof Ob)return io("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Pg(o,i,s)}catch(u){return io(u instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(s.path.canonicalString());e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Ap(a.target)){const u=new Z(a.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,bt.newNoDocument(u,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=ue();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new $h(e,n,this.Ue,this.Qe,r);return this.Qe=fr(),this.$e=gu(),this.Ke=gu(),this.Ue=new Ve(ce),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Lw,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Qe(ce),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Qe(ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Lw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gu(){return new Ve(Z.comparator)}function Dw(){return new Ve(Z.comparator)}const W2={asc:"ASCENDING",desc:"DESCENDING"},q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class G2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xp(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function Vc(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q2(t,e){return Vc(t,e.toTimestamp())}function $n(t){return ge(!!t),re.fromTimestamp(function(n){const r=ei(n);return new Ge(r.seconds,r.nanos)}(t))}function xg(t,e){return Np(t,e).canonicalString()}function Np(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uS(t){const e=Pe.fromString(t);return ge(pS(e)),e}function Op(t,e){return xg(t.databaseId,e.path)}function sf(t,e){const n=uS(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(hS(n))}function cS(t,e){return xg(t.databaseId,e)}function Y2(t){const e=uS(t);return e.length===4?Pe.emptyPath():hS(e)}function Lp(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hS(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vw(t,e,n){return{name:Op(t,e),fields:n.value.mapValue.fields}}function X2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ge(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:sS(c.code);return new X(h,c.message||"")}(o);n=new aS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sf(t,r.document.name),s=$n(r.document.updateTime),o=r.document.createTime?$n(r.document.createTime):re.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=bt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Uu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sf(t,r.document),s=r.readTime?$n(r.readTime):re.min(),o=bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sf(t,r.document),s=r.removedTargetIds||[];n=new Uu([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new F2(i,s),a=r.targetId;n=new oS(a,o)}}return n}function J2(t,e){let n;if(e instanceof ml)n={update:Vw(t,e.key,e.value)};else if(e instanceof Rg)n={delete:Op(t,e.key)};else if(e instanceof gi)n={update:Vw(t,e.key,e.data),updateMask:aM(e.fieldMask)};else{if(!(e instanceof M2))return ne();n={verify:Op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Lc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Q2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function Z2(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?$n(i.updateTime):$n(s);return o.isEqual(re.min())&&(o=$n(s)),new L2(o,i.transformResults||[])}(n,e))):[]}function eM(t,e){return{documents:[cS(t,e.path)]}}function tM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cS(t,i);const s=function(c){if(c.length!==0)return fS(jn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:bs(m.field),direction:iM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=xp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function nM(t){let e=Y2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=dS(f);return m instanceof jn&&Hb(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new Oc(Ss(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,xh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,g=f.values||[];return new Nc(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new Nc(g,m)}(n.endAt)),w2(e,i,o,s,a,"F",u,c)}function rM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ss(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ss(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ss(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ss(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>dS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function iM(t){return W2[t]}function sM(t){return q2[t]}function oM(t){return K2[t]}function bs(t){return{fieldPath:t.canonicalString()}}function Ss(t){return ut.fromServerFormat(t.fieldPath)}function fS(t){return t instanceof qe?function(n){if(n.op==="=="){if(Iw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(Tw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Iw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(Tw(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:sM(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(i=>fS(i));return r.length===1?r[0]:{compositeFilter:{op:oM(n.op),filters:r}}}(t):ne()}function aM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,s=re.min(),o=re.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.Tt=e}}function uM(t){const e=nM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Tn=new hM}addToCollectionParentIndex(e,n){return this.Tn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Zr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class hM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class Nt{static withCacheSize(e){return new Nt(e,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(mS,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new lo(0)}static Un(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="LruGarbageCollector",dM=1048576;function Uw([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class fM{constructor(e){this.Hn=e,this.buffer=new Qe(Uw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Uw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){K($w,"Garbage collection scheduled in ".concat(e,"ms")),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?K($w,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.er(3e5)})}}class mM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Ph.ae);const r=new fM(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Mw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Mw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(f)),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ts()<=le.DEBUG&&K("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in ".concat(o-h,"ms\n	Determined least recently used ").concat(i," in ")+(a-o)+"ms\n"+"	Removed ".concat(s," targets in ")+(u-a)+"ms\n"+"	Removed ".concat(f," documents in ")+(c-u)+"ms\n"+"Total Duration: ".concat(c-h,"ms")),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function gM(t,e){return new mM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ea(r.mutation,i,Kt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ia();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fr();const o=wa(),a=function(){return wa()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof gi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ea(h.mutation,c,h.mutation.getFieldMask(),Ge.now())):o.set(c.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new yM(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wa();let i=new Ve((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Kt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=Xb();h.forEach(m=>{if(!s.has(m)){const g=rS(n.get(m),r.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Li());let a=qa,u=s;return o.next(c=>U.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(h=>({batchId:a,changes:Yb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ia();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(f,m){return new Oh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,bt.newInvalidDocument(h)))});let a=ia();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Ea(h.mutation,c,Kt.empty(),Ge.now()),Dh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:uM(i.bundledQuery),readTime:$n(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.overlays=new Ve(Z.comparator),this.Rr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Li(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Li(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Li(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U2(n,r));let s=this.Rr.get(n);s===void 0&&(s=ue(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Vr=new Qe(Ze.mr),this.gr=new Qe(Ze.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ze(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Z(new Pe([])),r=new Ze(n,e),i=new Ze(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Z(new Pe([])),r=new Ze(n,e),i=new Ze(n,e+1);let s=ue();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ze(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Z.comparator(e.key,n.key)||ce(e.Cr,n.Cr)}static pr(e,n){return ce(e.Cr,n.Cr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Qe(Ze.mr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $2(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Eg:this.Fr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ce);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),U.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new Z(s),0);let a=new Qe(ce);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Cr)),!0)},o),U.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return U.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ze(n,0),i=this.Mr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.kr=e,this.docs=function(){return new Ve(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fr();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||JV(XV(h),r)<=0||(i.has(h.key)||Dh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}qr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SM(this)}getSize(e){return U.resolve(this.size)}}class SM extends vM{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.persistence=e,this.Qr=new os(n=>bg(n),Sg),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ng,this.targetCount=0,this.Ur=lo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),U.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.zn(n),U.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ph(0),this.zr=!1,this.zr=!0,this.jr=new TM,this.referenceDelegate=e(this),this.Hr=new CM(this),this.indexManager=new cM,this.remoteDocumentCache=function(i){return new bM(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new lM(n),this.Yr=new wM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new IM(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new kM(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return U.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class kM extends e2{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.ti=new Ng,this.ni=null}static ri(e){return new Og(e)}get ii(){if(this.ni)return this.ni;throw ne()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,r=>{const i=Z.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Mc{constructor(e,n){this.persistence=e,this.oi=new os(r=>r2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gM(this,n)}static ri(e,n){return new Mc(e,n)}Zr(){}Xr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return U.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,re.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vu(e.data.value)),n}ar(e,n,r){return U.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Lg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cO()?8:t2(Ct())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RM;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ts()<=le.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(Ts()<=le.DEBUG&&K("QueryEngine","Query:",Is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ts()<=le.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):U.resolve())}rs(e,n){if(kw(n))return U.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pp(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.cs(n,a);return this.ls(n,c,o,u.readTime)?this.rs(e,Pp(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,r,i){return kw(n)||i.isEqual(re.min())?U.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?U.resolve(null):(Ts()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(n)),this.hs(e,o,n,YV(i,qa)).next(a=>a))})}cs(e,n){let r=new Qe(Gb(e));return n.forEach((i,s)=>{Dh(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Ts()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Is(n)),this.ns.getDocumentsMatchingQuery(e,n,Zr.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",PM=3e8;class xM{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ve(ce),this.Is=new os(s=>bg(s),Sg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _M(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function NM(t,e,n,r){return new xM(t,e,n,r)}async function vS(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function OM(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let g=U.resolve();return m.forEach(I=>{g=g.next(()=>h.getEntry(u,I)).next(R=>{const P=c.docVersions.get(I);ge(P!==null),R.version.compareTo(P)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),h.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yS(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function LM(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.Hr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,h.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(R,P,b){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=PM?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,g,h)&&a.push(n.Hr.updateTargetData(s,g))});let u=fr(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(DM(s,o,e.documentUpdates).next(h=>{u=h.Vs,c=h.fs})),!r.isEqual(re.min())){const h=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ts=i,s))}function DM(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):K(Dg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function VM(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MM(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Dp(t,e,n){const r=ie(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wo(o))throw o;K(Dg,"Failed to update sequence numbers for target ".concat(e,": ").concat(o))}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Fw(t,e,n){const r=ie(t);let i=re.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ie(u),m=f.Is.get(h);return m!==void 0?U.resolve(f.Ts.get(m)):f.Hr.getTargetData(c,h)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:ue())).next(a=>($M(r,I2(e),a),{documents:a,gs:s})))}function $M(t,e,n){let r=t.Es.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class jw{constructor(){this.activeTargetIds=A2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UM{constructor(){this.ho=new jw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="ConnectivityMonitor";class Hw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){K(Bw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){K(Bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function Vp(){return vu===null?vu=function(){return 268435456+Math.round(2147483648*Math.random())}():vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="RestConnection",jM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo=this.databaseId.database===Pc?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}bo(e,n,r,i,s){const o=Vp(),a=this.So(e,n.toUriEncodedString());K(of,"Sending RPC '".concat(e,"' ").concat(o,":"),a,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,a,u,r).then(c=>(K(of,"Received RPC '".concat(e,"' ").concat(o,": "),c),c),c=>{throw io(of,"RPC '".concat(e,"' ").concat(o," failed with error: "),c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=jM[e];return"".concat(this.po,"/v1/").concat(n,":").concat(r)}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class zM extends BM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Vp();return new Promise((o,a)=>{const u=new bb;u.setWithCredentials(!0),u.listenOnce(Sb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const h=u.getResponseJson();K(Et,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(h)),o(h);break;case Du.TIMEOUT:K(Et,"RPC '".concat(e,"' ").concat(s," timed out")),a(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const f=u.getStatus();if(K(Et,"RPC '".concat(e,"' ").concat(s," failed with status:"),f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const I=function(P){const b=P.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);a(new X(I,g.message))}else a(new X(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new X(F.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{K(Et,"RPC '".concat(e,"' ").concat(s," completed."))}});const c=JSON.stringify(i);K(Et,"RPC '".concat(e,"' ").concat(s," sending request:"),i),u.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=Vp(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rb(),a=kb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");K(Et,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(h),u);const f=o.createWebChannel(h,u);let m=!1,g=!1;const I=new HM({Fo:P=>{g?K(Et,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),P):(m||(K(Et,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),f.open(),m=!0),K(Et,"RPC '".concat(e,"' stream ").concat(i," sending:"),P),f.send(P))},Mo:()=>f.close()}),R=(P,b,w)=>{P.listen(b,T=>{try{w(T)}catch(O){setTimeout(()=>{throw O},0)}})};return R(f,ra.EventType.OPEN,()=>{g||(K(Et,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),I.Qo())}),R(f,ra.EventType.CLOSE,()=>{g||(g=!0,K(Et,"RPC '".concat(e,"' stream ").concat(i," transport closed")),I.Ko())}),R(f,ra.EventType.ERROR,P=>{g||(g=!0,io(Et,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),P),I.Ko(new X(F.UNAVAILABLE,"The operation could not be completed")))}),R(f,ra.EventType.MESSAGE,P=>{var b;if(!g){const w=P.data[0];ge(!!w);const T=w,O=(T==null?void 0:T.error)||((b=T[0])===null||b===void 0?void 0:b.error);if(O){K(Et,"RPC '".concat(e,"' stream ").concat(i," received error:"),O);const V=O.status;let M=function(_){const S=Be[_];if(S!==void 0)return sS(S)}(V),E=O.message;M===void 0&&(M=F.INTERNAL,E="Unknown error status: "+V+" with message "+O.message),g=!0,I.Ko(new X(M,E)),f.close()}else K(Et,"RPC '".concat(e,"' stream ").concat(i," received:"),w),I.Uo(w)}}),R(a,Cb.STAT_EVENT,P=>{P.stat===Sp.PROXY?K(Et,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):P.stat===Sp.NOPROXY&&K(Et,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))}),setTimeout(()=>{I.$o()},0),I}}function af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return new G2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Ho," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="PersistentStream";class wS{constructor(e,n,r,i,s,o,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _S(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return K(zw,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(K(zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WM extends wS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=X2(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?$n(o.readTime):re.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Lp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ap(u)?{documents:eM(s,u)}:{query:tM(s,u).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lS(s,o.resumeToken);const c=xp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Vc(s,o.snapshotVersion.toTimestamp());const c=xp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=rM(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Lp(this.serializer),n.removeTarget=e,this.I_(n)}}class qM extends wS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ge(!!e.streamToken),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Z2(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Lp(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J2(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class GM extends KM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Np(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Np(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.N_?(dr(n),this.N_=!1):K("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="RemoteStore";class YM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{as(this)&&(K(Yi,"Restarting streams for network reachability change."),await async function(u){const c=ie(u);c.W_.add(4),await vl(c),c.j_.set("Unknown"),c.W_.delete(4),await Fh(c)}(this))})}),this.j_=new QM(r,i)}}async function Fh(t){if(as(t))for(const e of t.G_)await e(!0)}async function vl(t){for(const e of t.G_)await e(!1)}function ES(t,e){const n=ie(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ug(n)?$g(n):Eo(n).c_()&&Mg(n,e))}function Vg(t,e){const n=ie(t),r=Eo(n);n.U_.delete(e),r.c_()&&TS(n,e),n.U_.size===0&&(r.c_()?r.P_():as(n)&&n.j_.set("Unknown"))}function Mg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).y_(e)}function TS(t,e){t.H_.Ne(e),Eo(t).w_(e)}function $g(t){t.H_=new z2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.j_.B_()}function Ug(t){return as(t)&&!Eo(t).u_()&&t.U_.size>0}function as(t){return ie(t).W_.size===0}function IS(t){t.H_=void 0}async function XM(t){t.j_.set("Online")}async function JM(t){t.U_.forEach((e,n)=>{Mg(t,e)})}async function ZM(t,e){IS(t),Ug(t)?(t.j_.q_(e),$g(t)):t.j_.set("Unknown")}async function e$(t,e,n){if(t.j_.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){K(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $c(t,r)}else if(e instanceof Uu?t.H_.We(e):e instanceof oS?t.H_.Ze(e):t.H_.je(e),!n.isEqual(re.min()))try{const r=await yS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.U_.get(c);h&&s.U_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.U_.get(u);if(!h)return;s.U_.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),TS(s,u);const f=new Dr(h.target,u,c,h.sequenceNumber);Mg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Yi,"Failed to raise snapshot:",r),await $c(t,r)}}async function $c(t,e,n){if(!wo(e))throw e;t.W_.add(1),await vl(t),t.j_.set("Offline"),n||(n=()=>yS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Yi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Fh(t)})}function bS(t,e){return e().catch(n=>$c(t,n,e))}async function jh(t){const e=ie(t),n=ri(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Eg;for(;t$(e);)try{const i=await VM(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,n$(e,i)}catch(i){await $c(e,i)}SS(e)&&CS(e)}function t$(t){return as(t)&&t.K_.length<10}function n$(t,e){t.K_.push(e);const n=ri(t);n.c_()&&n.b_&&n.S_(e.mutations)}function SS(t){return as(t)&&!ri(t).u_()&&t.K_.length>0}function CS(t){ri(t).start()}async function r$(t){ri(t).C_()}async function i$(t){const e=ri(t);for(const n of t.K_)e.S_(n.mutations)}async function s$(t,e,n){const r=t.K_.shift(),i=Ag.from(r,e,n);await bS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jh(t)}async function o$(t,e){e&&ri(t).b_&&await async function(r,i){if(function(o){return j2(o)&&o!==F.ABORTED}(i.code)){const s=r.K_.shift();ri(r).h_(),await bS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jh(r)}}(t,e),SS(t)&&CS(t)}async function Ww(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),K(Yi,"RemoteStore received new credentials");const r=as(n);n.W_.add(3),await vl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Fh(n)}async function a$(t,e){const n=ie(t);e?(n.W_.delete(2),await Fh(n)):e||(n.W_.add(2),await vl(n),n.j_.set("Unknown"))}function Eo(t){return t.J_||(t.J_=function(n,r,i){const s=ie(n);return s.M_(),new WM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:XM.bind(null,t),No:JM.bind(null,t),Lo:ZM.bind(null,t),p_:e$.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ug(t)?$g(t):t.j_.set("Unknown")):(await t.J_.stop(),IS(t))})),t.J_}function ri(t){return t.Y_||(t.Y_=function(n,r,i){const s=ie(n);return s.M_(),new qM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:r$.bind(null,t),Lo:o$.bind(null,t),D_:i$.bind(null,t),v_:s$.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await jh(t)):(await t.Y_.stop(),t.K_.length>0&&(K(Yi,"Stopping write stream with ".concat(t.K_.length," pending writes")),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Fg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(t,e){if(dr("AsyncQueue","".concat(e,": ").concat(t)),wo(t))return new X(F.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ia(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Z_=new Ve(Z.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ne():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uo(e,n,Qs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class u${constructor(){this.queries=Kw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=Kw(),s.forEach((o,a)=>{for(const u of a.ta)u.onError(r)})})(this,new X(F.ABORTED,"Firestore shutting down"))}}function Kw(){return new os(t=>Kb(t),Lh)}async function kS(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new l$,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=jg(o,"Initialization of query '".concat(Is(e.query),"' failed"));return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Bg(n)}async function RS(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c$(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&Bg(n)}function h$(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function Bg(t){t.ia.forEach(e=>{e.next()})}var Mp,Gw;(Gw=Mp||(Mp={}))._a="default",Gw.Cache="cache";class AS{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class d${constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ue(),this.mutatedKeys=ue(),this.ya=Gb(e),this.wa=new Qs(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new qw,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),g=Dh(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;m&&g?m.data.isEqual(g.data)?I!==R&&(r.track({type:3,doc:g}),P=!0):this.va(m,g)||(r.track({type:2,doc:g}),P=!0,(u&&this.ya(g,u)>0||c&&this.ya(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),P=!0):m&&!g&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(a=!0)),P&&(g?(o=o.add(g),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(g,I){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return R(g)-R(I)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,c=u!==this.ga;return this.ga=u,o.length!==0||c?{snapshot:new uo(this.query,e.wa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ue(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new xS(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new PS(r))}),n}Oa(e){this.fa=e.gs,this.pa=ue();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Hg="SyncEngine";class f${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p${constructor(e){this.key=e,this.Ba=!1}}class m${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new os(a=>Kb(a),Lh),this.qa=new Map,this.Qa=new Set,this.$a=new Ve(Z.comparator),this.Ka=new Map,this.Ua=new Ng,this.Wa={},this.Ga=new Map,this.za=lo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g$(t,e,n=!0){const r=MS(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await NS(r,e,n,!0),i}async function v$(t,e){const n=MS(t);await NS(n,e,!0,!1)}async function NS(t,e,n,r){const i=await MM(t.localStore,Mn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await y$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ES(t.remoteStore,i),a}async function y$(t,e,n,r,i){t.Ha=(f,m,g)=>async function(R,P,b,w){let T=P.view.Sa(b);T.ls&&(T=await Fw(R.localStore,P.query,!1).then(({documents:E})=>P.view.Sa(E,T)));const O=w&&w.targetChanges.get(P.targetId),V=w&&w.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(T,R.isPrimaryClient,O,V);return Yw(R,P.targetId,M.Ma),M.snapshot}(t,f,m,g);const s=await Fw(t.localStore,e,!0),o=new d$(e,s.gs),a=o.Sa(s.documents),u=gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Yw(t,n,c.Ma);const h=new f$(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function _$(t,e,n){const r=ie(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Lh(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vg(r.remoteStore,i.targetId),$p(r,i.targetId)}).catch(_o)):($p(r,i.targetId),await Dp(r.localStore,i.targetId,!0))}async function w$(t,e){const n=ie(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vg(n.remoteStore,r.targetId))}async function E$(t,e,n){const r=R$(t);try{const i=await function(o,a){const u=ie(o),c=Ge.now(),h=a.reduce((g,I)=>g.add(I.key),ue());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let I=fr(),R=ue();return u.ds.getEntries(g,h).next(P=>{I=P,I.forEach((b,w)=>{w.isValidDocument()||(R=R.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,I)).next(P=>{f=P;const b=[];for(const w of a){const T=V2(w,f.get(w.key).overlayedDocument);T!=null&&b.push(new gi(w.key,T,Fb(T.value.mapValue),ln.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,b,a)}).next(P=>{m=P;const b=P.applyToLocalDocumentSet(f,R);return u.documentOverlayCache.saveOverlays(g,P.batchId,b)})}).then(()=>({batchId:m.batchId,changes:Yb(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Wa[o.currentUser.toKey()];c||(c=new Ve(ce)),c=c.insert(a,u),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await yl(r,i.changes),await jh(r.remoteStore)}catch(i){const s=jg(i,"Failed to persist write");n.reject(s)}}async function OS(t,e){const n=ie(t);try{const r=await LM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?ge(o.Ba):i.removedDocuments.size>0&&(ge(o.Ba),o.Ba=!1))}),await yl(n,r,e)}catch(r){await _o(r)}}function Qw(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ie(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.ta)m.sa(a)&&(c=!0)}),c&&Bg(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T$(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ve(Z.comparator);o=o.insert(s,bt.newNoDocument(s,re.min()));const a=ue().add(s),u=new $h(re.min(),new Map,new Ve(ce),o,a);await OS(r,u),r.$a=r.$a.remove(s),r.Ka.delete(e),zg(r)}else await Dp(r.localStore,e,!1).then(()=>$p(r,e,n)).catch(_o)}async function I$(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await OM(n.localStore,e);DS(n,r,null),LS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yl(n,i)}catch(i){await _o(i)}}async function b$(t,e,n){const r=ie(t);try{const i=await function(o,a){const u=ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ge(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);DS(r,e,n),LS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yl(r,i)}catch(i){await _o(i)}}function LS(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function DS(t,e,n){const r=ie(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function $p(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||VS(t,r)})}function VS(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Vg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),zg(t))}function Yw(t,e,n){for(const r of n)r instanceof PS?(t.Ua.addReference(r.key,e),S$(t,r)):r instanceof xS?(K(Hg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||VS(t,r.key)):ne()}function S$(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(K(Hg,"New document in limbo: "+n),t.Qa.add(r),zg(t))}function zg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Z(Pe.fromString(e)),r=t.za.next();t.Ka.set(r,new p$(n)),t.$a=t.$a.insert(n,r),ES(t.remoteStore,new Dr(Mn(Cg(n.path)),r,"TargetPurposeLimboResolution",Ph.ae))}}async function yl(t,e,n){const r=ie(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{o.push(r.Ha(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Lg.Yi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.La.p_(i),await async function(u,c){const h=ie(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,m=>U.forEach(m.Hi,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>U.forEach(m.Ji,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!wo(f))throw f;K(Dg,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=h.Ts.get(m),I=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(I);h.Ts=h.Ts.insert(m,R)}}}(r.localStore,s))}async function C$(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){K(Hg,"User change. New user:",e.toKey());const r=await vS(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(u=>{u.reject(new X(F.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yl(n,r.Rs)}}function k$(t,e){const n=ie(t),r=n.Ka.get(e);if(r&&r.Ba)return ue().add(r.key);{let i=ue();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function MS(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T$.bind(null,e),e.La.p_=c$.bind(null,e.eventManager),e.La.Ja=h$.bind(null,e.eventManager),e}function R$(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b$.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return NM(this.persistence,new AM,e.initialUser,this.serializer)}Xa(e){return new gS(Og.ri,this.serializer)}Za(e){return new UM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class A$ extends Uc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ge(this.persistence.referenceDelegate instanceof Mc);const r=this.persistence.referenceDelegate.garbageCollector;return new pM(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Nt.withCacheSize(this.cacheSizeBytes):Nt.DEFAULT;return new gS(r=>Mc.ri(r,n),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C$.bind(null,this.syncEngine),await a$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u$}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=function(s){return new zM(s)}(e.databaseInfo);return function(s,o,a,u){return new GM(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new YM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Qw(this.syncEngine,n,0),function(){return Hw.D()?new Hw:new FM}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new m$(i,s,o,a,u,c);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);K(Yi,"RemoteStore shutting down."),s.W_.add(5),await vl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class P${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lf(t,e){t.asyncQueue.verifyOperationInProgress(),K(ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x$(t);K(ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ww(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ww(e.remoteStore,i)),t._onlineComponents=e}async function x$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(ii,"Using user provided OfflineComponentProvider");try{await lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await lf(t,new Uc)}}else K(ii,"Using default OfflineComponentProvider"),await lf(t,new A$(void 0));return t._offlineComponents}async function US(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(ii,"Using user provided OnlineComponentProvider"),await Xw(t,t._uninitializedComponentsProvider._online)):(K(ii,"Using default OnlineComponentProvider"),await Xw(t,new Up))),t._onlineComponents}function N$(t){return US(t).then(e=>e.syncEngine)}async function FS(t){const e=await US(t),n=e.eventManager;return n.onListen=g$.bind(null,e.syncEngine),n.onUnlisten=_$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w$.bind(null,e.syncEngine),n}function O$(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new $S({next:m=>{h.su(),o.enqueueAndForget(()=>RS(s,f));const g=m.docs.has(a);!g&&m.fromCache?c.reject(new X(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?c.reject(new X(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new AS(Cg(a.path),h,{includeMetadataChanges:!0,Ta:!0});return kS(s,f)}(await FS(t),t.asyncQueue,e,n,r)),r.promise}function L$(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new $S({next:m=>{h.su(),o.enqueueAndForget(()=>RS(s,f)),m.fromCache&&u.source==="server"?c.reject(new X(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new AS(a,h,{includeMetadataChanges:!0,Ta:!0});return kS(s,f)}(await FS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function D$(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}function Zw(t){if(!Z.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function eE(t){if(Z.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return typeof t=="function"?"a function":ne()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wg(t);throw new X(F.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firestore.googleapis.com",tE=!0;class nE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HS,this.ssl=tE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dM)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (must not be NaN)"));if(s.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (minimum allowed value is 5)"));if(s.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(s.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BV;switch(r.type){case"firstParty":return new qV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jw.get(n);r&&(K("ComponentProvider","Removing Datastore"),Jw.delete(n),r.terminate())}(this),Promise.resolve()}}function V$(t,e,n,r={}){var i;const s=(t=Sn(t,Bh))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a="".concat(e,":").concat(n);s.host!==HS&&s.host!==a&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Wi(u,o)&&(t._setSettings(u),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Tt.MOCK_USER;else{c=rO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Tt(f)}t._authCredentials=new HV(new Ab(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hh(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Qr extends Hh{constructor(e,n,r){super(e,n,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Z(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Fc(t,e,...n){if(t=pt(t),BS("collection","path",e),t instanceof Bh){const r=Pe.fromString(e,...n);return eE(r),new Qr(t,null,r)}{if(!(t instanceof Ft||t instanceof Qr))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return eE(r),new Qr(t.firestore,null,r)}}function si(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Pb.newId()),BS("doc","path",e),t instanceof Bh){const r=Pe.fromString(e,...n);return Zw(r),new Ft(t,null,new Z(r))}{if(!(t instanceof Ft||t instanceof Qr))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Zw(r),new Ft(t.firestore,t instanceof Qr?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _S(this,"async_queue_retry"),this.bu=()=>{const r=af();r&&K(rE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ir;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wo(e))throw e;K(rE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Fg.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ls extends Bh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function M$(t,e){const n=typeof t=="object"?t:UI(),r=typeof t=="string"?t:Pc,i=cg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tO("firestore");s&&V$(i,...s)}return i}function qg(t){if(t._terminated)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$$(t),t._firestoreClient}function $$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new o2(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new P$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(mt.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=/^__.*__$/;class F${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class zS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Yg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WS(this.Lu)&&U$.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class j${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}ju(e,n,r,i=!1){return new Yg({Lu:e,methodName:n,zu:r,path:ut.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(t){const e=t._freezeSettings(),n=Uh(t._databaseId);return new j$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qS(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);Jg("Data must be an object, but it was:",o,r);const a=KS(r,o);let u,c;if(s.merge)u=new Kt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=Fp(e,f,n);if(!o.contains(m))throw new X(F.INVALID_ARGUMENT,"Field '".concat(m,"' is specified in your field mask but missing from your input data."));QS(h,m)||h.push(m)}u=new Kt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new F$(new Lt(a),u,c)}class Wh extends Kg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Wu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function B$(t,e,n,r){const i=t.ju(1,e,n);Jg("Data must be an object, but it was:",i,r);const s=[],o=Lt.empty();mi(r,(u,c)=>{const h=Zg(e,u,n);c=pt(c);const f=i.Ku(h);if(c instanceof Wh)s.push(h);else{const m=qh(c,f);m!=null&&(s.push(h),o.set(h,m))}});const a=new Kt(s);return new zS(o,a,i.fieldTransforms)}function H$(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[Fp(e,r,n)],u=[i];if(s.length%2!=0)throw new X(F.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let m=0;m<s.length;m+=2)a.push(Fp(e,s[m])),u.push(s[m+1]);const c=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!QS(c,a[m])){const g=a[m];let I=u[m];I=pt(I);const R=o.Ku(g);if(I instanceof Wh)c.push(g);else{const P=qh(I,R);P!=null&&(c.push(g),h.set(g,P))}}const f=new Kt(c);return new zS(h,f,o.fieldTransforms)}function qh(t,e){if(GS(t=pt(t)))return Jg("Unsupported field value:",e,t),KS(t,e);if(t instanceof Kg)return function(r,i){if(!WS(i.Lu))throw i.Wu("".concat(r._methodName,"() can only be used with update() and set()"));if(!i.path)throw i.Wu("".concat(r._methodName,"() is not currently supported inside arrays"));const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=qh(a,i.Uu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ge.fromDate(r);return{timestampValue:Vc(i.serializer,s)}}if(r instanceof Ge){const s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vc(i.serializer,s)}}if(r instanceof Gg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:lS(i.serializer,r._byteString)};if(r instanceof Ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(s.projectId,"/").concat(s.database));return{referenceValue:xg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qg)return function(o,a){return{mapValue:{fields:{[$b]:{stringValue:Ub},[xc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return kg(a.serializer,c)})}}}}}}(r,i);throw i.Wu("Unsupported field value: ".concat(Wg(r)))}(t,e)}function KS(t,e){const n={};return Nb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,i)=>{const s=qh(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Gg||t instanceof co||t instanceof Ft||t instanceof Kg||t instanceof Qg)}function Jg(t,e,n){if(!GS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Wg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Fp(t,e,n){if((e=pt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Zg(t,e);throw jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const z$=new RegExp("[~\\*/\\[\\]]");function Zg(t,e,n){if(e.search(z$)>=0)throw jc("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new zh(...e.split("."))._internalPath}catch(r){throw jc("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function jc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new X(F.INVALID_ARGUMENT,a+t+u)}function QS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(XS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W$ extends YS{data(){return super.data()}}function XS(t,e){return typeof e=="string"?Zg(t,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K${convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[xc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ue(o.doubleValue));return new Qg(s)}convertGeoPoint(e){return new Gg(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const n=ei(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);ge(pS(r));const i=new Ga(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||dr("Document ".concat(s," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(n.projectId,"/").concat(n.database,") instead.")),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZS extends YS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(XS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fu extends ZS{data(e={}){return super.data(e)}}class G${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fu(this._firestore,this._userDataWriter,r.key,r,new oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Fu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Fu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Q$(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){t=Sn(t,Ft);const e=Sn(t.firestore,ls);return O$(qg(e),t._key).then(n=>Z$(e,t,n))}class tC extends K${constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function jp(t){t=Sn(t,Hh);const e=Sn(t.firestore,ls),n=qg(e),r=new tC(e);return q$(t._query),L$(n,t._query).then(i=>new G$(e,r,t,i))}function Y$(t,e,n){t=Sn(t,Ft);const r=Sn(t.firestore,ls),i=JS(t.converter,e);return Kh(r,[qS(Xg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ln.none())])}function ev(t,e,n,...r){t=Sn(t,Ft);const i=Sn(t.firestore,ls),s=Xg(i);let o;return o=typeof(e=pt(e))=="string"||e instanceof zh?H$(s,"updateDoc",t._key,e,n,r):B$(s,"updateDoc",t._key,e),Kh(i,[o.toMutation(t._key,ln.exists(!0))])}function X$(t){return Kh(Sn(t.firestore,ls),[new Rg(t._key,ln.none())])}function J$(t,e){const n=Sn(t.firestore,ls),r=si(t),i=JS(t.converter,e);return Kh(n,[qS(Xg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then(()=>r)}function Kh(t,e){return function(r,i){const s=new ir;return r.asyncQueue.enqueueAndForget(async()=>E$(await N$(r),i,s)),s.promise}(qg(t),e)}function Z$(t,e,n){const r=n.docs.get(e._key),i=new tC(t);return new ZS(t,i,e._key,r,new oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){yo=i})(go),ro(new qi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ls(new zV(r.getProvider("auth-internal")),new KV(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kr(hw,dw,e),Kr(hw,dw,"esm2017")})();const e4={apiKey:"AIzaSyDtr99HCDorp910aky73EYvkwknvNl8nBM",authDomain:"habitflow-742c3.firebaseapp.com",projectId:"habitflow-742c3",storageBucket:"habitflow-742c3.firebasestorage.app",messagingSenderId:"785728730736",appId:"1:785728730736:web:12f4d0800d4fb2d3dc66b5",measurementId:"G-Y8EMBPY938"},nC=$I(e4),hn=FV(nC),Un=M$(nC),t4=()=>{const t=is(),e=()=>{t.replace("/login")};return x.jsx(ns,{children:x.jsx(ts,{className:"home-container",fullscreen:!0,children:x.jsxs("div",{className:"content-wrapper",children:[x.jsx("h1",{className:"title",children:"HabitFlow"}),x.jsx("img",{src:"/Healthy lifestyle-bro.svg",alt:"HabitFlow Illustration",className:"illustration"}),x.jsx("button",{className:"login-button",onClick:e,children:"INICIAR SESIÓN"}),x.jsx("div",{className:"wave-container",children:x.jsx("img",{src:"/wave-main.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})})})},n4=async(t,e,n,r)=>{try{const s=(await CD(hn,t,e)).user;return await Y$(si(Un,"users",s.uid),{firstName:n,lastName:r,email:t,createdAt:new Date}),s}catch(i){throw console.error("Error al registrar:",i),i}},r4=async(t,e)=>{try{return(await kD(hn,t,e)).user}catch(n){throw console.error("Error al iniciar sesión:",n),n}},i4=()=>{const t=is(),[e,n]=J.useState(""),[r,i]=J.useState(""),[s,o]=J.useState(!1),[,a]=J.useState(null);J.useEffect(()=>{const h=fl(hn,f=>{f?(console.log("Usuario autenticado en sesión:",f.email),a(f.email)):(console.log("No hay usuario autenticado."),a(null))});return()=>h()},[]);const u=async()=>{try{await r4(e,r),console.log("Iniciando sesión con:",e),setTimeout(()=>{const h=hn.currentUser;h?(console.log("Usuario verificado tras login:",h.email),alert("Inicio de sesión exitoso. Bienvenido, ".concat(h.email)),t.replace("/dashboard")):alert("Error verificando el usuario autenticado.")},1e3)}catch(h){const f=h instanceof Error?h.message:"Error desconocido";console.error("Error al iniciar sesión:",f),alert("Error al iniciar sesión: "+f)}},c=()=>{t.replace("/register")};return x.jsx(ns,{children:x.jsx(ts,{className:"login-container",fullscreen:!0,scrollY:!1,style:{"--background":"transparent"},children:x.jsxs("div",{className:"login-background",children:[x.jsx("h2",{className:"login-title",children:"INICIO DE SESIÓN"}),x.jsx("div",{className:"input-group",children:x.jsx("input",{type:"email",className:"input-field",placeholder:"Correo",value:e,onChange:h=>n(h.target.value)})}),x.jsxs("div",{className:"input-group password-container",children:[x.jsx("input",{type:s?"text":"password",className:"input-field password-input",placeholder:"Contraseña",value:r,onChange:h=>i(h.target.value)}),x.jsx("button",{type:"button",className:"toggle-password",onClick:()=>o(!s),children:x.jsx("img",{src:s?"/eye-lock-login.svg":"/eye-login.svg",alt:"Mostrar Contraseña",className:"password-icon"})})]}),x.jsx("div",{className:"button-div",children:x.jsx("button",{className:"login-button",onClick:u,children:"INICIAR SESIÓN"})}),x.jsxs("p",{className:"register-text",children:["¿No tienes una cuenta? ",x.jsx("span",{className:"register-link",onClick:c,children:"Regístrate aquí"})]})]})})})},s4=()=>{const t=is(),[e,n]=J.useState(""),[r,i]=J.useState(""),[s,o]=J.useState(""),[a,u]=J.useState(""),[c,h]=J.useState(""),[f,m]=J.useState(!1),[g,I]=J.useState(!1),R=async()=>{if(a!==c){alert("Las contraseñas no coinciden");return}try{const P=await n4(s,a,e,r);console.log("Usuario registrado:",P),alert("Cuenta creada con éxito"),t.replace("/login")}catch(P){const b=P instanceof Error?P.message:"Error desconocido";console.error("Error al registrar:",b),alert("Error al registrar: "+b)}};return x.jsx(ns,{children:x.jsx(ts,{className:"register-container",fullscreen:!0,scrollY:!1,style:{"--background":"transparent"},children:x.jsxs("div",{className:"register-background",children:[x.jsx("h2",{className:"register-title",children:"CREAR CUENTA"}),x.jsx("div",{className:"input-group-register",children:x.jsx("input",{type:"text",className:"input-field-register",placeholder:"Nombres",value:e,onChange:P=>n(P.target.value)})}),x.jsx("div",{className:"input-group-register",children:x.jsx("input",{type:"text",className:"input-field-register",placeholder:"Apellidos",value:r,onChange:P=>i(P.target.value)})}),x.jsx("div",{className:"input-group-register",children:x.jsx("input",{type:"email",className:"input-field-register",placeholder:"Correo",value:s,onChange:P=>o(P.target.value)})}),x.jsxs("div",{className:"input-group-register password-container-register",children:[x.jsx("input",{type:f?"text":"password",className:"input-field-register password-input-register",placeholder:"Contraseña",value:a,onChange:P=>u(P.target.value)}),x.jsx("button",{type:"button",className:"toggle-password-register",onClick:()=>m(!f),children:x.jsx("img",{src:f?"/eye-lock-login.svg":"/eye-login.svg",alt:"Mostrar Contraseña",className:"password-icon"})})]}),x.jsxs("div",{className:"input-group password-container",children:[x.jsx("input",{type:g?"text":"password",className:"input-field password-input",placeholder:"Confirmar Contraseña",value:c,onChange:P=>h(P.target.value)}),x.jsx("button",{type:"button",className:"toggle-password",onClick:()=>I(!g),children:x.jsx("img",{src:g?"/eye-lock-login.svg":"/eye-login.svg",alt:"Mostrar Contraseña",className:"password-icon"})})]}),x.jsx("div",{className:"button-div",children:x.jsx("button",{className:"login-button",onClick:R,children:"CREAR CUENTA"})}),x.jsxs("p",{className:"register-text-register",children:["¿Ya tienes una cuenta? ",x.jsx("span",{className:"register-link",onClick:()=>t.replace("/login"),children:"Iniciar sesión"})]})]})})})},o4=()=>{const t=is(),[e,n]=J.useState(null),[r,i]=J.useState([]),[s,o]=J.useState(0),[a,u]=J.useState(!1),[c,h]=J.useState(null);J.useEffect(()=>{const m=fl(hn,g=>{g?h(g.uid):(console.log("No hay usuario autenticado, redirigiendo al login..."),window.location.replace("/login"))});return()=>m()},[]),J.useEffect(()=>{const m=async()=>{if(!c)return;const R=(await jp(Fc(Un,"users"))).docs.find(P=>P.id===c);R&&n(R.data().firstName)},g=async()=>{if(!c)return;const I=Fc(Un,"users",c,"habits"),P=(await jp(I)).docs.map(b=>({id:b.id,...b.data()}));i(P)};m(),g()},[c]),J.useEffect(()=>{if(r.length>0){const m=r.filter(g=>g.completed).length;o(m/r.length*100)}},[r]);const f=async()=>{try{await vg(hn),console.log("Sesión cerrada correctamente"),u(!1),setTimeout(()=>{window.location.href="/home"},500)}catch(m){console.error("Error al cerrar sesión:",m)}};return x.jsxs(ns,{children:[a&&x.jsx("div",{className:"menu-overlay",children:x.jsxs("div",{className:"menu-content",children:[x.jsx("button",{className:"close-menu",onClick:()=>u(!1),children:"✖"}),x.jsx("h3",{children:"Menú"}),x.jsx("button",{className:"logout-button",onClick:f,children:"Cerrar Sesión"})]})}),x.jsxs(ts,{className:"dashboard-container",fullscreen:!0,children:[x.jsxs("div",{className:"navbar",children:[x.jsx("button",{className:"menu-toggle",onClick:()=>u(!0),children:x.jsx("img",{src:"/menu-black.svg",alt:"Menú"})}),x.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),x.jsxs("div",{className:"content-wrapper",children:[x.jsxs("h2",{className:"welcome-text",children:["Hola, ",e||"Usuario","!"]}),x.jsx("div",{className:"progress-container",children:x.jsxs("svg",{className:"progress-circle",width:"140",height:"140",viewBox:"0 0 140 140",children:[x.jsx("circle",{className:"progress-outer",cx:"70",cy:"70",r:"65"}),x.jsx("circle",{className:"progress-fill",cx:"70",cy:"70",r:"55",strokeDasharray:"345",strokeDashoffset:(1-s/100)*345}),x.jsx("circle",{className:"progress-inner",cx:"70",cy:"70",r:"45"}),x.jsxs("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"progress-text",children:[s.toFixed(0),"%"]})]})}),r.length===0?x.jsx("p",{className:"info-text",children:"Aún no tienes hábitos programados. Agrega uno pulsando el botón inferior."}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"info-text",children:"".concat(r.filter(m=>m.completed).length," de ").concat(r.length," completados")}),x.jsx("div",{className:"habit-list-container-dashboard",children:r.map(m=>x.jsxs("button",{className:"habit-item-dashboard",onClick:()=>t.replace("/habitview/".concat(m.id)),children:[x.jsx("img",{src:"/habits/".concat(m.icon),alt:m.title,className:"habit-icon-dashboard"}),x.jsx("span",{className:"habit-title",children:m.title})]},m.id))})]})]}),x.jsx("div",{className:"wave-container",children:x.jsx("img",{src:"/wave-dashboard.svg",alt:"Wave Animation",className:"wave-main-svg"})}),x.jsx("button",{className:"floating-button-dashboard",onClick:()=>t.replace("/addhabit"),children:"+"})]})]})},uf=["dumbbell.svg","early-awakening.svg","early-sleep.svg","fluent_food-16-filled.svg","read-book.svg","study.svg"],a4=()=>{const[t,e]=J.useState(""),[n,r]=J.useState(uf[0]),[i,s]=J.useState([]),[o,a]=J.useState(!1),[u,c]=J.useState(null),[h,f]=J.useState(!1),m=is(),g=hn.currentUser;J.useEffect(()=>{if(!g)return;(async()=>{const O=Fc(Un,"users",g.uid,"habits"),M=(await jp(O)).docs.map(E=>({id:E.id,...E.data()}));s(M)})()},[g]);const I=async()=>{if(!(!t.trim()||!n||!g))try{const T=Fc(Un,"users",g.uid,"habits");if(u)await ev(si(T,u),{title:t,icon:n}),s(i.map(O=>O.id===u?{...O,title:t,icon:n}:O));else{const O=await J$(T,{title:t,icon:n,completed:!1});s([...i,{id:O.id,title:t,icon:n,completed:!1}])}e(""),r(uf[0]),c(null),a(!1)}catch(T){console.error("Error al guardar hábito:",T)}},R=async T=>{try{if(!g)return;const O=si(Un,"users",g.uid,"habits",T);await X$(O),s(i.filter(V=>V.id!==T)),console.log("Hábito con ID ".concat(T," eliminado"))}catch(O){console.error("Error al eliminar hábito:",O)}},P=T=>{e(T.title),r(T.icon),c(T.id),a(!0)},b=()=>{m.replace("/dashboard")},w=async()=>{try{await vg(hn),console.log("Sesión cerrada correctamente"),m.replace("/home")}catch(T){console.error("Error al cerrar sesión:",T)}};return x.jsxs(ns,{children:[h&&x.jsx("div",{className:"menu-overlay",children:x.jsxs("div",{className:"menu-content",children:[x.jsx("button",{className:"close-menu",onClick:()=>f(!1),children:"✖"}),x.jsx("h3",{children:"Menú"}),x.jsx("button",{className:"logout-button",onClick:w,children:"Cerrar Sesión"})]})}),x.jsxs(ts,{className:"add-habit-container",fullscreen:!0,children:[x.jsxs("div",{className:"navbar",children:[x.jsx("button",{className:"menu-toggle",onClick:()=>f(!0),children:x.jsx("img",{src:"/menu-black.svg",alt:"Menú"})}),x.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),x.jsx("h2",{className:"title-añadir",children:"Añadir Hábito"}),x.jsx("div",{className:"habit-list-container",children:i.length===0?x.jsx("p",{className:"info-text-añadir",children:"No tienes hábitos agregados aún."}):i.map(T=>x.jsxs("div",{className:"habit-item",children:[x.jsx("img",{src:"/habits/".concat(T.icon),alt:T.title,className:"habit-item-icon"}),x.jsx("span",{className:"habit-title",children:T.title}),x.jsxs("div",{className:"habit-actions",children:[x.jsx("img",{src:"/edit.svg",alt:"Edit",className:"action-icon",onClick:()=>P(T)}),x.jsx("img",{src:"/erase.svg",alt:"Delete",className:"action-icon",onClick:()=>R(T.id)})]})]},T.id))}),x.jsx("button",{className:"add-button",onClick:()=>{a(!0),c(null)},children:"Añadir Hábito"}),o&&x.jsx("div",{className:"modal-overlay-habit",children:x.jsxs("div",{className:"modal-content-habit",children:[x.jsx("button",{className:"close-modal-habit",onClick:()=>a(!1),children:"✖"}),x.jsx("h3",{className:"subtitle",children:u?"Editar Hábito":"Añadir Hábito"}),x.jsx("input",{type:"text",className:"habit-input",placeholder:"Escribe tu hábito...",value:t,onChange:T=>e(T.target.value)}),x.jsx("div",{className:"icon-scroll-container",children:x.jsx("div",{className:"icon-grid",children:uf.map((T,O)=>x.jsx("div",{className:"habit-icon ".concat(n===T?"selected":""),onClick:()=>r(T),children:x.jsx("img",{src:"/habits/".concat(T),alt:T.replace(".svg","")})},O))})}),x.jsx("button",{className:"apply-button",onClick:I,children:u?"Actualizar":"Aplicar"})]})}),x.jsx("button",{className:"finalize-button",onClick:b,children:"Finalizar"}),x.jsx("div",{className:"wave-container",children:x.jsx("img",{src:"/wave-main.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})]})},l4=()=>{const t=is(),{id:e}=AI(),[n,r]=J.useState(!1),[i,s]=J.useState(!1),[o,a]=J.useState(null),[u,c]=J.useState(null),h=J.useCallback(async g=>{if(e)try{const I=si(Un,"users",g,"habits",e),R=await eC(I);if(R.exists()){const P=R.data();c({id:e,...P})}else console.error("Hábito no encontrado")}catch(I){console.error("Error al obtener el hábito:",I)}},[e]);J.useEffect(()=>{const g=fl(hn,I=>{I?(a(I.uid),h(I.uid)):window.location.replace("/login")});return()=>g()},[h]);const f=async()=>{try{await vg(hn),r(!1),setTimeout(()=>{window.location.href="/home"},500)}catch(g){console.error("Error al cerrar sesión:",g)}},m=async()=>{if(!(!o||!e||!u))try{const g=si(Un,"users",o,"habits",e);await ev(g,{completed:!0}),c(I=>I&&{...I,completed:!0}),t.replace("/dashboard")}catch(g){console.error("Error al marcar el hábito como completado:",g)}};return x.jsxs(ns,{children:[n&&x.jsx("div",{className:"menu-overlay",children:x.jsxs("div",{className:"menu-content",children:[x.jsx("button",{className:"close-menu",onClick:()=>r(!1),children:"✖"}),x.jsx("h3",{children:"Menú"}),x.jsx("button",{className:"logout-button",onClick:f,children:"Cerrar Sesión"})]})}),x.jsxs(ts,{className:"dashboard-container",fullscreen:!0,children:[x.jsxs("div",{className:"navbar",children:[x.jsx("button",{className:"menu-toggle",onClick:()=>r(!0),children:x.jsx("img",{src:"/menu-white.svg",alt:"Menú"})}),x.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),x.jsxs("div",{className:"content-wrapper",children:[x.jsxs("div",{className:"egg-container",children:[x.jsx("img",{src:"/dragon-egg.png",alt:"Huevo de dragón",className:"dragon-egg"}),x.jsx("p",{className:"egg-text",children:"Completa tu hábito y nacerá el dragón"}),x.jsx("span",{className:"egg-animo",children:"¡Ánimo! Tú puedes"})]}),x.jsx("button",{className:"start-button",onClick:()=>s(!0),children:"Comenzar"}),x.jsx("a",{className:"back-button",href:"#",onClick:g=>{g.preventDefault(),t.replace("/dashboard")},children:"Regresar"})]}),i&&x.jsx("div",{className:"modal-overlay-habitview",children:x.jsxs("div",{className:"modal-content-habitview",children:[x.jsx("button",{className:"close-modal-habitview",onClick:()=>s(!1),children:"✖"}),x.jsx("h3",{className:"subtitle",children:"Realizar Hábito"}),x.jsx("button",{className:"finish-button",onClick:m,children:"TERMINAR HÁBITO"}),x.jsx("button",{className:"finish-button",onClick:()=>t.replace("/timer/".concat(e)),children:"TEMPORIZADOR"})]})}),x.jsx("div",{className:"wave-container",children:x.jsx("img",{src:"/wave-habit.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})]})},u4=()=>{const t=is(),{id:e}=AI(),[n,r]=J.useState(null),[i,s]=J.useState(null),[o,a]=J.useState(0),[u,c]=J.useState(!1),[h,f]=J.useState(0),[m,g]=J.useState(5),I=J.useCallback(async O=>{if(e)try{const V=si(Un,"users",O,"habits",e),M=await eC(V);if(M.exists()){const E=M.data();s({id:e,...E})}else console.error("Hábito no encontrado")}catch(V){console.error("Error al obtener el hábito:",V)}},[e]);J.useEffect(()=>{const O=fl(hn,V=>{V?(r(V.uid),I(V.uid)):window.location.replace("/login")});return()=>O()},[I]),J.useEffect(()=>{let O;return u&&o>0?O=setInterval(()=>{a(V=>V-1)},1e3):o===0&&u&&(c(!1),n&&e&&i&&(async()=>{try{const M=si(Un,"users",n,"habits",e);await ev(M,{completed:!0}),t.replace("/dashboard")}catch(M){console.error("Error al marcar el hábito como completado:",M)}})()),()=>clearInterval(O)},[u,o,n,e,i,t]);const R=O=>{const V=Math.floor(O/60),M=O%60;return"".concat(V.toString().padStart(2,"0"),":").concat(M.toString().padStart(2,"0"))},P=O=>{const V=O.target.value.replace(/^0+(?=\d)/,""),M=V===""?0:Math.max(0,Math.min(59,Number(V)));g(M)},b=O=>{const V=O.target.value.replace(/^0+(?=\d)/,""),M=V===""?0:Math.max(0,Number(V));f(M)},w=()=>{o===0&&a(h*3600+m*60),c(!u)},T=()=>{c(!1),a(0)};return x.jsx(ns,{children:x.jsxs(ts,{className:"timer-container",fullscreen:!0,children:[x.jsxs("div",{className:"navbar",children:[x.jsx("button",{className:"menu-toggle",onClick:()=>t.replace("/dashboard"),children:x.jsx("img",{src:"/menu-black.svg",alt:"Menú"})}),x.jsx("img",{src:"/dragon.svg",alt:"Logo",className:"dragon-logo"})]}),x.jsx("div",{className:"content-wrapper-timer",children:x.jsxs("div",{className:"egg-container-timer",children:[x.jsx("img",{src:"/dragon-egg.png",alt:"Huevo de dragón",className:"dragon-egg-timer"}),x.jsx("span",{className:"egg-animo",children:"¡El dragón está por nacer!"})]})}),x.jsxs("div",{className:"timer-content",children:[x.jsx("h1",{className:"timer-display",children:R(o)}),x.jsxs("div",{className:"time-picker",children:[x.jsx("input",{type:"number",value:h,onChange:b,disabled:u,min:"0"}),x.jsx("span",{children:"h"}),x.jsx("input",{type:"number",value:m,onChange:P,disabled:u,min:"0",max:"59"}),x.jsx("span",{children:"min"})]}),x.jsxs("div",{className:"timer-controls",children:[x.jsx("button",{className:"timer-button",onClick:T,children:x.jsx("img",{src:"/restart.svg",alt:"Reiniciar"})}),x.jsx("button",{className:"timer-button",onClick:w,children:x.jsx("img",{src:u?"/pause.svg":"/play.svg",alt:u?"Pausar":"Iniciar"})})]})]}),x.jsx("div",{className:"wave-container",children:x.jsx("img",{src:"/wave-timer.svg",alt:"Wave Animation",className:"wave-main-svg"})})]})})},c4=()=>{const[,t]=J.useState(null),[,e]=J.useState(!0);return J.useEffect(()=>{const n=fl(hn,r=>{t(r),e(!1)});return()=>n()},[]),x.jsx(ax,{children:x.jsx(qN,{children:x.jsx(gx,{children:x.jsxs(MN,{children:[x.jsx(qn,{exact:!0,path:"/home",component:t4}),x.jsx(qn,{exact:!0,path:"/login",component:i4}),x.jsx(qn,{exact:!0,path:"/register",component:s4}),x.jsx(qn,{exact:!0,path:"/dashboard",component:o4}),x.jsx(qn,{exact:!0,path:"/addhabit",component:a4}),x.jsx(qn,{exact:!0,path:"/habitview/:id",component:l4}),x.jsx(qn,{exact:!0,path:"/timer/:id",component:u4}),x.jsx(qn,{path:"*",children:x.jsx(xN,{to:"/home"})})]})})})})},h4=document.getElementById("root"),d4=vT(h4);d4.render(x.jsx($.StrictMode,{children:x.jsx(c4,{})}));export{JP as K,f4 as __vite_legacy_guard,gc as a,p4 as b,g4 as c,Md as d,m4 as e,dp as f,ze as g,UT as h,jP as i,qA as j,y4 as k,v4 as p,sp as r,Mm as w};
